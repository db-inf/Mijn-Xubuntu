= Mijn XUbuntu installatie
:description: verslag van de inrichting van mijn linux systeem

- USC : "geinstalleerd via Ub Softw Cntr"

Nuttig te weten voor setup:
Filesystem Hierarchy Standard : http://www.pathname.com/fhs/pub/fhs-2.3.html#THEFILESYSTEM
	. o.a. welke basisdirectories deelbaar zijn met andere systeem-installaties: /usr, /opt, /var/mail, /var/spool/news
Linux Filesystem Hierarchy : http://www.tldp.org/LDP/Linux-Filesystem-Hierarchy/html/index.html

== SCHIJVEN INDELEN EN FORMATTEREN ==
[literal]
$ lsblk -o NAME,SIZE,label,partlabel,uuid,partuuid
NAME          SIZE LABEL        PARTLABEL                    UUID                                 PARTUUID
sda           2,7T
├─sda1        2,6T SDATA        seag_data                    17b4dd08-b8a7-4858-8214-d002aa7843d2 ecd7d081-81c8-40a6-93c8-3b55c27c4ee0
├─sda2        100M SEFI         seag_efi                     9358-956D                            fd7f6e45-7fe7-4016-baaf-3caa233f6814
├─sda3         16M              Microsoft reserved partition                                      93c6cdae-5ecf-44bc-8d9d-33851203c1a2
└─sda4      126,9G SW10         seag_w10                     2C35D6D1256F3C6E                     f6b2965a-d73c-4cf5-bbc1-1064c57203c4
sdb           2,7T
├─sdb1         10G TEFI         tosh_efi                     036E-FCF8                            70c59928-a23f-49d2-8823-208d9f57e68d
├─sdb2         64G TLINUX       tosh_linux                   f7158182-82e9-41b7-bebd-3c5cb23d3ca3 6e862183-8a96-4e63-bdb3-6fda78707b7f
└─sdb3        2,7T TARCH        tosh_arch                    5e558340-6729-4f68-83d4-3be0a66ba274 8187c58a-a92a-4c28-ae83-06d8ac11a65c
sdc           1,9T
├─sdc1         ??G MDEFI        ????????
├─sdc2         ??G MDLINUX      ??????????                   1a35ec2b-b226-4960-be45-da9128abb788
└─sdc3        ???T MDDATA       ?????????
sdd           1,9T
└─sdd1        1,9T WDDATA       ?????????
sr0          1024M
loop0       545,5M sysrcd-5.2.2                              2018-04-02-13-43-43-00
nvme0n1     119,2G
├─nvme0n1p1   200M M2EFI        m2_efi                       38DE-9A48                            aff37567-68d4-47bb-81e9-cf7582f25f2b
├─nvme0n1p2    32G M2ROOT       m2_root                      88e332dc-deb9-4c9c-9dfc-e0afe7ad45bd aa679962-a12e-4f09-b010-371956223d25
├─nvme0n1p3    32G M2HOME       m2_home                      fc3ea6f3-69db-4540-8d4d-335f84e71b7d 267a252d-1dfa-4c01-97a4-6cf9e6a116e4
└─nvme0n1p4    55G M2WIN        m2_win                       A6FC-3976                            80ee42d5-6ce1-45de-85b5-151f22d1e942

=== NVMe SDD schijf ===

- Uit "Intel Linux* NVMe* Driver"
	- zie https://www.intel.com/content/dam/support/us/en/documents/ssdc/data-center-ssds/Intel_Linux_NVMe_Guide_330602-002.pdf
:prewrap:
....
		Aligning Drive Partitions
		-------------------------
		Be sure the starting block of the used partition is divisible by 4096 bytes. You can look at your partition table in the parted tool. The following is an example listed partition table that is aligned:
			Number  Start     End            Size           File system  Name     Flags
			 1      1048576B  400088367103B  400087318528B               primary
		Using the Start partition block value in bytes, you divide this number by 4096, like this: 1048576/4096 = 256
		This shows an evenly divisible partition and so the partition will perform well. Using the “unit b” option in parted will present partition start and end values in bytes.
		<<<
			# parted nvme0n1
			...
			(parted) unit b
			(parted) print
			>>>
				Model: Unknown (unknown)
				Disk /dev/nvme0n1: 128035676160B
				Sector size (logical/physical): 512B/512B
				Partition Table: gpt
				Disk Flags:

				Number  Start         End            Size          File system  Name     Flags
				 1      1048576B      210763775B     209715200B    fat32        m2_efi   boot, esp
				 2      210763776B    34570502143B   34359738368B  ext4         m2_root
				 3      34570502144B  68930240511B   34359738368B  ext4         m2_home
				 4      68930240512B  128035323903B  59105083392B  fat32        m2_win   msftdata
			<<<
		>>>

		Filesystem Recommendations
		--------------------------
		IMPORTANT: Do not discard blocks in filesystem usage.
		Be sure to turn off the discard option when making your Linux filesystem. You want to allow the SSD manage blocks and its activity between the NVM (non-volatile memory) and host with more advanced and consistent approaches in the SSD Controller.
			- ext4 : the default extended option is not to discard blocks at filesystem make time, retain this, and do not add the “discard” extended option as some information will tell you to do.
....

=== ESP (U)Efi System Partition ===

- aanbevolen wordt dikwijls een ESP van minstens 512MB, mijn UEFI doet het met minder.
	- mkfs-vfat geeft al eens een fout voor <512MB, GParted (v0.31.10) niet
		>>> https://wiki.archlinux.org/index.php?title=Unified_Extensible_Firmware_Interface&diff=270040&oldid=268710#EFI_System_Partition
			Although ESPs with size >=100 MiB and formatted as FAT32 are allowed by
			Microsoft Windows and many Linux distros, Microsoft documentation specifies
			that the minimum partition/volume size for FAT32 is 512 MiB. Therefore an
			ESP should be at least 512 MiB size for maximum compatibility.
			...
			If you get the message WARNING [van mkfs.vfat]: Not enough clusters for a 32 bit FAT!,
			reduce cluster size with
				# mkfs.vfat -s2 -F32 ... or -s1
				-s SECTORS-PER-CLUSTER
			otherwise the partition may be unreadable by UEFI. []
		<<<

=== ext4 bestandssysteem ===

- zie ook "_Xubuntu truuks en commandos" sectie "bestand als virtuele schijf voorbereiden en mounten"-"bestandssysteem maken"

==== MIJN OPTIMALE ext4 INDELING ====

- VOOR OVERGANG EERST bestanden die ook op mega.nz staat, locaal opkuisen

	- zie subsecties "te veel reserved blocks", "te veel inodes", "inline data of kleinere inodes"
	- zie "test mkfs inode size en inline data.txt"
	- optie huge_file afzetten (gaat over TB-bestanden, staat default op in /etc/mk2efs.conf)
	- ROOT : GEEN inline_data (grub2 ondersteunt dat niet), alles standaard behalve huge_file. Heeft (behalve /usr en /opt) nu < 2GB nodig, voorzie 5GB
		# mkfs.ext4 -O ^huge_file -L mijnlabel -U oudeUUID /dev/.....
	- USR, OPT, HOME : standaard inodes van 256b, maar minder (b.v. 1 per 15KB op kleine partitie zonder grote bestanden (b.v. VMs) erbij, 100KB op grote partitie met grote bestanden) en met inline_data, neem 2% vrije blocks
		# mkfs.ext4 -m 2 -i 100000 -O ^huge_file,inline_data -L mijnlabel /dev/.....
	- voor 3TB media-schijf: geen inline_data, wel b.v.
		- minderinodes:
			-N 2097152 : 2 miljoen, d.i. 3x meer dan nu op volle sdata
			OF
			-i 1400000 : 1 per 1.4MB
		- kleinere inodes :
			-i 128 : hebben hier niet veel aan ext. attr
			-m 0.01 : (0,01%) weinig vrije blocks, maar toch nog wat voor b.v. swap- of sparse file of ?
		- SDATA :
			# mkfs.ext4 -m 0.017 -N 2097152 -I 128 -J size=128 -O ^huge_file -L SDATA -U 17b4dd08-b8a7-4858-8214-d002aa7843d2 /dev/sda1
				-m 0.017 : geeft toch nog 121.238 reserved blocks (tegenover 500000 met gparted), of 0,5GB
				-N 2097152 : wordt naar boven aangepast tot 2.796.032 inodes
				-I 128 : inode size (2^n, minimum 128)
				-J size=128 : betekent (man mkfs.ext4 is onduidelijk) journaal van 128MB groot, zoals gparted sdata formateerde; zonder deze optie werd het journaal 1GB groot
			# dd bs=1M count=32k if=/dev/zero of=/media/sdata/.swapfile
			# chmod 600 /media/sdata/.swapfile
			# mkswap /media/sdata/.swapfile
			# swapon /media/sdata/.swapfile
		- TARCH :
			 # mkfs.ext4 -m 0 -N 2097152 -I 128 -J size=128 -O ^huge_file -L TARCH -U 5e558340-6729-4f68-83d4-3be0a66ba274 /dev/sdb3
				-m 0 : geen reserved blocks, wordt niet gebruikt voor werking systeem
		- sdata naar tarch kopiëren en terug :
			# rsync -aASXx --exclude={/.swapfile,/lost+found,"/dirk/kaarten/16deEeuw/?16k.wlm~",/.Trash,/.Trash-1000} /media/sdata/ /media/tarch/
				# cd /media/tarch;mklost+found
			# rsync -aASXx --exclude={/.swapfile,/lost+found,"/dirk/kaarten/16deEeuw/?16k.wlm~",/.Trash,/.Trash-1000} /media/tarch/ /media/sdata/

==== te veel reserved blocks ====

- A percentage of the filesystem may only be allocated by privileged processes, to avoid filesystem fragmentation, and to allow system daemons to continue to function correctly after non-privileged processes are prevented from writing to the filesystem. Normally, the default percentage of reserved blocks is 5%.

- Voor de moderne reuzegrote schijven en bestanden maakt ext4 veel te veel reserveruimte en inodes. B.v. 3TB SDATA schijf heeft :
	# tune2fs -l /dev/sda1
	- 34.963.391 reserveblocks op 699.267.840 totaal aantal blocks van 4096 byte = 5% of 143GB
		- gparted zegt "Unused 273.49 GiB", terwijl spacefm zegt "143 G free"
		>>> https://www.redhat.com/archives/ext3-users/2009-January/msg00026.html
			Re: Reserved block count for Large Filesystem
				From: Theodore Tso <tytso mit edu> [een ext4 developer]
				To: Alex Fler <alexfler msn com>
				Cc: ext3-users redhat com
				Subject: Re: Reserved block count for Large Filesystem
				Date: Fri, 23 Jan 2009 11:58:24 -0500
			If you set the reserved block count to zero [op ext3 ssyteem], it won't affect performance much except if you run for long periods of time (with lots of file creates and deletes) while the filesystem is almost full (i.e., say above 95%), at which point you'll be subject to fragmentation problems. Ext4's multi-block allocator is much more fragmentation resistant, because it tries much harder to find contiguous blocks, so even if you don't enable the other ext4 features, you'll see better results simply mounting an ext3 filesystem using ext4 before the filesystem gets completely full. If you are just using the filesystem for long-term archive, where files aren't changing very often (i.e., a huge mp3 or video store), it obviously won't matter.
		<<<

- OF verminderen naar b.v. 1%:
	- OFWEL NA FORMATTEREN
	# tune2fs -m 1 LABEL=SDATA
	- OFWEL BIJ FORMATTEREN (OPGELET : maakt nieuw bestandssyteem, wist het vorige)
	# mkfs.ext4 -m 1 ...
	[-m reserved-blocks-percentage]
- OF verminderen naar vast aantal (b.v. 500.000, is nog altijd 2GB):
	# tune2fs -r 500000 LABEL=SDATA
	-r reserved-blocks-count : Set the number of reserved filesystem blocks.
- OF gebruik van reservebloks toelaten aan b.v. group dirk, zodat user op root blijft, of omgekeerd
	# tune2fs -g dirk LABEL=SDATA
	-g groupname : Set the group which can use the reserved filesystem blocks. The group parameter can be a numerical gid or a group name. If a group name is given, it is converted to a numerical gid before it is stored in the superblock.
	[-u user] : Set the user who can use the reserved filesystem blocks. user can be a numerical uid or a user name. If a user name is given, it is converted to a numerical uid before it is stored in the superblock.

==== te veel inodes ====

- Voor de moderne reuzegrote schijven en bestanden maakt ext4 veel te veel reserveruimte en inodes. B.v. 3TB SDATA schijf heeft :
	# tune2fs -l /dev/sda1
	- 174.817.280 inodes van 256 byte, met bij volle schijf nog 174.075.369 inodes vrij = 44.6GB
		- kan alleen bij formateren van de partitie ingesteld worden
		>>> https://wiki.archlinux.org/index.php/Ext4#Bytes-per-inode_ratio
		Creating a new file, directory, symlink etc. requires at least one free inode. If the inode count is too low, no file can be created on the filesystem even though there is still space left on it. Because it is not possible to change either the bytes-per-inode ratio or the inode count after the filesystem is created, mkfs.ext4 uses by default a rather low ratio of one inode every 16384 bytes (16 KiB) to avoid this situation. However, for partitions with size in the hundreds or thousands of GB and average file size in the megabyte range, this usually results in a much too large inode number because the number of files created never reaches the number of inodes. This results in a waste of disk space, because all those unused inodes each take up 256 bytes on the filesystem.
		<<<
- To specify a different bytes-per-inode ratio, you can use the -T usage-type option which hints at the expected usage of the filesystem using types defined in /etc/mke2fs.conf. Among those types are the bigger largefile and largefile4 which offer more relevant ratios of one inode every 1 MiB and 4 MiB respectively. It can be used as such:
	- ENKEL BIJ FORMATTEREN (OPGELET : maakt nieuw bestandssyteem, wist het vorige)
	# mkfs.ext4 -T largefile ... /dev/device
	-T : usage type, b.v. voor grote bestanden, gedef. in /etc/mke2fs.conf
	OF indirect
	# mkfs.ext4 -i 2097152 ... /dev/device
	-i : bytes per inode (aantal inodes = partitiegrootte/"bytes per inode") e.g. use -i 2097152 for a 2 MiB ratio and -i 6291456 for a 6 MiB ratio.
	- op volle SDATA schijf >700.000 bestanden, met "-i 1400000" genoeg inodes voor 2.046.000 entries
	OF direct
	# mkfs.ext4 -N 2000000 ... /dev/device
	-N : aantal inodes

==== inline data of kleinere inodes ====

- ext3 had default inodes van 128 bytes, ext4 van 256 bytes, maar komt ook toe met 128 bytes
	- als we het aantal inodes beperken, b.v. zoals hierboven voor SDATA van 174 miljoen naar 2 miljoen, is de bijkomende mogelijke besparing klein : 44GB door minder inodes, daarbovenop nog 256MB door kleinere inodes
	# mkfs.ext4 -I 128 ... /dev/device
	-I : inode size, min. 128 bytes, moet helaas 2^n

- extra ruimte in inodes dient voor extended attributes en voor inline data. Als er geen extra ruimte is, komen ext. attr. in extra blocks (gedeeld door inode structuur, niet extra block per bestand)
	- mijn Ubuntu (16.04.5) systeem heeft geen bestanden met ext. attr.
	- volledige scan vindt alleen ext. attr. in oude downloads gedaan in Windows
		- "Zone.Identification" (oorzaak van al die alarmberichten "Bestand van onbetrouwbare of onbekende bron")
		- staat op NTFS in een Alternate Data Stream; die wordt bij kopiëren naar ext4 blijkbaar overgenomen als ext. attr. Ik heb die gewoon allemaal verwijderd :
			- Linux :
				# getfattr -Rd /media/sdata/ | grep "^# file: "|while read;do echo $REPLY ;setfattr -x "user.Zone.Identifier" "/""${REPLY:8}";done
				- getfattr opties :
					-R : recurse
					-d : dump all (anders naam ext. attr. opgeven)
					- toont alleen bestanden met ext. attr, als volgt:
						>>>
							# file:volledig-pad-zonder-begin-'/'
							user.Zone.Identifier=...
						<<<
							OF
						>>> (als de attribute leeg is
							# file:volledig-pad-zonder-begin-'/'
							user.Zone.Identifier
						<<<
			- Windows (voor NTFS-partitie op de USB-schijf Medion):
				- zie "https://docs.microsoft.com/en-us/sysinternals/downloads/streams"
				- VM "XP basis" opstarten, USB-device Medion-schijf toewijzen (b.v. letter K:)
				C:\> "G:\PROGRAMS\Windows7 Sysinternals\stream" -s -d K:\
				-s : Recurse subdirectories
				-d : Delete streams

- inline data : ext4 kan kleine bestanden volledig in de inode opslaan, maar daarvoor moet de inline_data feature van het bestandssysteem aan gezet zijn
	- symbolic links tot 60 bytes worden ook zonder optie inline_data in de inode zelf opgeslagen
	- inode-lengte moet > 128 bytes (dus 256 of meer, want 2^n)
	- bij inodes van 256 bytes max. 128 bytes inline (theoretisch zou 160 moeten kunnen)
	- NIET in Grub2.02.beta2 (die van Ubuntu 16.04), dus NIET VOOR ROOTSCHIJF
	- E2fsprogs (met o.a. mke2fs.ext4 en debugfs) ondersteunt die feature pas goed sinds 1.44
		- Ubuntu vanaf 18.04 (e2fsprogs-1.44.1)
		- systemrescuecd 5.2.2 (e2fsprogs-1.43.9), maar werkt
	- NA FORMATTEREN
		# debugfs -w /dev/sdxx
		- opent eigen prompt, daar :
			feature inline_data
	- BIJ FORMATTEREN (OPGELET : maakt nieuw bestandssyteem, wist het vorige)
		# mke2fs -O inline_data ...
			- opties ^extra_isize,^ext_attr,ea_inode maken geen verschil voor max. lengte inline_data : met inode_size 256 steeds max. 128 bytes inline (bionic e2fsprogs-1.44.1)
	- waar : 60 bytes in (en in plaats van) de block index van de inode, evt. meer bytes in een extended attribute "system.data=extra inhoud voorbij byte 60" van de inode
		- dus bestanden tot 60+(inode-lengte-(128+28)) bytes kunnen inline
			- 128 is min. nodig voor inode
			- 28 is extra inode inhoud van ext4 t.o.v. ext3
		- voor default inodelengte van 256 is dat dus theoretisch 160 bytes, blijkt toch maar 128 te zijn (getest XUbuntu 18.04.1)
	- zie ook "https://unix.stackexchange.com/questions/197633/how-to-use-the-new-ext4-inline-data-feature-storing-data-directly-in-the-inod"
	- inodes beperken tot het minimum van 128 bytes levert op SDATA het volgende op:
		- op volle schijf >700.000 bestanden, waarvan 17500 <160 bytes, waarvan 5100 <60 bytes
		- reserveer ruimte voor b.v. 2.450.000 inodes (zie boven), dan
			. 2.450.000 * 128b minder = 261MB winst
		- enkel bestanden <60b inline, dus (17.500 - 5.100) bestanden niet, of
			. (17.500 - 5.100) blocks * 4096 b/block = 50.790.400b verlies
		- netto 211MB winst door minimale inode-lengte
	- test op 28.09.2018 :
		$ for i in home usr opt; do sudo find /$i -xdev -type f -size -129c -size +0 -exec stat --printf="%s\n" \{\} \; | sort -n -o /media/ramdisk/${i%%*/}_max128; find /$i -xdev -printf '%i\n' | sort -u | wc -l; done
		- root : GEEN INLINE DATA TOELATEN, grub2.02beta1 ondersteunt geen boot daarvan (moest er een boot-bestand inline kunnen)
			- 2.097.152 inodes, waarvan 291.282 gebruikt (171.218 + directories en symlinks door opt en usr)
		- opt : 3000 bestanden <128b, totaal 26.184 bestanden, 31000 inodes, voorzie b.v. 75.000 inodes
			- inline_data (inodes 256)  : winst  12MB (4096x3.000)
			- inodes van 128 i.p.v. 256 : winst  10MB ( 128x75.000)
		- usr : 4600 bestanden <128b, totaal 145.034 bestanden, 230000 inodes, voorzie b.v. 450.000 inodes
			- inodes van 128 i.p.v. 256 : winst  58MB ( 128x450.000)
			- inline_data (inodes 256)  : winst  19MB (4096x4.600)
		- home : 2000 bestanden <128b, totaal 31.396 bestanden en 2.097.152 inodes, 35.000 gebruikt; voorzie b.v. 100.000
			- inodes van 128 i.p.v. 256 : winst 268MB ( 128x2.100.000) (huidige #inodes)
			OF
			- beperk tot 100.000 inodes : winst 512MB (256x2.000.000)
			- inline_data (inodes 256)  : winst   8MB (4096x2.000)
			OF
			- inodes van 128 i.p.v. 256 : winst 12.8MB ( 128x100.000) (beperkt #inodes)
		- sdata : 15000 bestanden <128b, totaal 712.889 bestanden en 174.817.280 inodes (742.656 gebruikt), beperk dat tot b.v. 2.100.000 = 3x#bestanden
			- inline_data (inodes 256)  : winst  62MB (4096x15.000)
			- inodes van 128 i.p.v. 256 : winst 268MB ( 128x2.100.000)


== OS INSTALLATIE ==

Bios instellingen: zie GEZIPTE.PRG/FLOP&FAQ/MSI H170 PC Mate/BIOS instellingen snapshots
	- MSI fast boot: mag enabled, maar dan kan hij niet booten van USB Hard disk (wel van USB stick)
	- als MSI fast boot disabled: Fast boot enabled, skipt ook timeout van UEFI boot (zien Instellingen Ubuntu, efibootmgr)

- 7-4-2016: Originele installatie van Ubuntu 15.10 Live CD
	- heeft zijn eigen idee van partitioneren: veel te grote EFI System Partition (ESP) van 500MB, systeem en data op 1 partitie, en een swap partitie. Daarom eerst zelf partitioneren. Maar partitioneerder GParted van Ubuntu Live CD (tot 16.04beta) is v.0.19.0 of ouder, ziet Samsung M.2 NVMe SSD niet. GParted Live CD van http://gparted.org/livecd.php is v0.25 (== die van XUbuntu 16.04.3), ziet die wel. Dus:
	- Opstarten van Ubuntu Live CD
	- met gparted van Ubuntu Live CD een vfat-partitie maken op een HDD, als eerste fat-partitie op die schijf, en formateren als fat32
	- GParted Live CD van http://gparted.org/livecd.php ophalen. Die is EFI bootable, d.w.z. dat er een EFI-map met de nodige inhoud in de root staat, er moet dus geen Master Boot Record (MBR) gewijzigd worden of zo.
	- die .iso mounten in Thunar (File Manager) of openen in Archive Manager, inhoud gewoon kopieren naar root van die fat32-partitie op die LiveCD
	- Via UEFI Settings ('bios') booten vanaf die schijf; UEFI-boot zoekt naar /EFI-map in eerste fat-partitie van een schijf, en boot vanaf daar in UEFI-mode
	- SSD partitioneren met GPT (/dev/nvme0n1):
		200MB vfat ESP
		32GB  ext4 XUBUNTU systeemschijf
		32GB  ext4 HOME dataschijf
		55GB (rest) vfat, voorbehouden voor Windows installatie
	- terug booten van Ubuntu Live CD
	- de fat32 leegmaken, en .iso van te installeren distributie uitpakken naar de root ervan
	- terug UEFI-booten vanaf die schijf, 'installeren' en 'other dinges' kiezen, start de gparted van die distri live cd, ziet wel de SSD-schijf nu ze gepartitioneerd is. Aangeven hoe de gemaakte partities gemount moeten worden:
		200MB vfat ESP, te mounten naar /boot/efi
		32GB  ext4 XUBUNTU systeemschijf, te mounten naar /
		32GB  ext4 HOME dataschijf, te mounten naar /home
	- de linux-distri installeren naar de SSD (nvme0n1)
		toetsenbord (Compaq Qwerty part# 235212-102 INTL): model "Generic 104-key PC", layout "English (US)"
	- 25-4-2016 update naar Xubuntu 16.04LTS vanuit standaard update checker
		- deactiveert "http://archive.getdeb.net/ubuntu wily-getdeb apps" in Settings/Software&Updates/Other Software, terug activeren voor Xenial met:
			- zie "_Xubuntu truuks en commandos.adoc" sectie repositories :
			- verificatiesleutel :
				$ wget -q http://archive.getdeb.net/getdeb-archive.key -O- | sudo apt-key add -
			- repository :
				- in "Settings/Software&Updates/Other Software" :
					"http://archive.getdeb.net/ubuntu xenial-getdeb apps"
	- settings/language support/Language/Install-remove language: Dutch aangevinkt

== INSTELLINGEN ==

=== op netwerk gedeelde directories ===

- zie "_Xubuntu truuks en commandos.adoc" sectie "Folders delen op het netwerk"

	$ net usershare add BACKUPS /media/sdata/.backups "Backups van FRT en zo" Everyone:r guest_ok=n
	$ net usershare add CDROM /cdrom/ "cdrom en gemount image" Everyone:r guest_ok=y
	$ net usershare add DOCS /media/sdata/DOCS/ "documentatie op Seagate schijf" Everyone:r guest_ok=y
	$ net usershare add EBOOKS /media/sdata/ebooks/ "ebooks op Seagate schijf" Everyone:r guest_ok=y
	$ net usershare add FILMS /media/sdata/cinema/ "films op Seagate schijf" Everyone:r guest_ok=y
	$ net usershare add FLOPFAQ GEZIPTE.PRG/FLOP&FAQ/ "hardware docu en drivers op Seagate schijf" Everyone:r guest_ok=y
	$ net usershare add FOTOS /media/sdata/fotos/ "fotos op Seagate schijf" Everyone:r guest_ok=y
	$ net usershare add GEZIPTE.PRG GEZIPTE.PRG/ "installeerbare toepassingen op Seagate schijf" Everyone:r guest_ok=y
	$ net usershare add HOORCOLLEGES /media/sdata/hoorcolleges/ "hoorcolleges op Seagate schijf" Everyone:r guest_ok=y
	$ net usershare add MUZIEK /media/sdata/muziek/ "muziek op Seagate schijf" Everyone:r guest_ok=y
	$ net usershare add RAMDISK /media/ramdisk/ "Ramdisk Schrijfplek voor elkeen" Everyone:f guest_ok=y
	$ net usershare add TABLET_RW /home/dirk/Public/tabletRW/ "Schrijfplek voor Tablet" Everyone:f guest_ok=n

=== time-out instellen voor de UEFI boot manager ===
	$ sudo efibootmgr -t 1
	- ook 10 geprobeeerd, krijg even goed niets te zien. Is misschien afh. van UEFI bios setup 'fast boot' in Advanced/Windows OS config/MSI fast boot off

=== vuilnisbak toelaten ===

- zie script /root/bin/maaktrash, uit te voeren in (subdirectory van) mountpoint van bestandssysteem

- default vuilbak van b.v. Thunar zint me niet, in het beste geval min of meer volgens de specs van freedesktop.org
	- OPGELET : spacefm gebruikt uit zichzelf geen vuilnisbak
		- plugin corbeille-spacefm gebruikt alleen thuisvuilbak ~/local, en alleen voor bestanden onder ~/
	- OPGELET : thunar gebruikt geen vuilnisbak voor root in /
	- OPGELET: commandolijn deletes zoals 'rm bestand' komen nooit in de vuilnisbak
	- sommige progs (XnViewMp?) gebruiken .Trash-userid, niet .Trash/userid; daarom heb ik overal een link naar de 2de gemaakt met de 1ste als naam

- vuilnisbak vanop de opdrachtprompt : gvfs-trash en gvfs-ls (van Gnome virtual file system, standaard bij Ubuntu)
	- Move files or directories to the trash
		0 Xenial : $ gvfs-trash bestand..., in Bionic vervangen door "gio trash"
			- maakt een .Trash als er geen is
		$ gio trash bestand...
			- maakt een .Trash-$usernr als er geen is
			- in spacefm script check ik daarom eerst of er een .Trash is op het bovenliggend mountpoint
	- OPM: thunar's "Rubish Bin" ziet en restoret alles in andere dan local Trash naar die niet-local .Trash directory
	- Inspecting and emptying the "Trashcan" normally supported by file managers such as nautilus; with CLI :
		- Inspect the trash (verzamelt info van alle .Trash, behalve die op ramdisk (ook thunar's "Rubbish Bin" ziet die op ramdisk niet)) :
			$ gvfs-ls trash://
		- Empty the trash
			$ gvfs-trash --empty
	- gvfs heeft geen restore van trash, daarvoor trash-cli (zie die sectie) gemaakt
	- [Trash ] (verwijder naar .Trash) toegevoegd aan spacefm :
		- directe delete op schijfsystemen zonder .Trash in de root (o.a. ramdisk en /tmp, zijn niet voor dingen die blijven)
		- Options: "Run as task" met "popup error"
		>>>
			# zie _Xubuntu.adoc sectie "vuilnisbak toelaten"
			#%m is spacefm variabele; \%m noch %%m werkt, daarom onzichtbaar maken voor spacefm
			statformaat=m
			for i in %F; do if [ -d $(stat -c %$statformaat "$i")/.Trash ]
				then
					# echo stat "$i" is $(stat -c %$statformaat "$i") DUS WEL trash
					gvfs-trash "$i"
				else #-R to make rm work for directories as well
					# echo stat "$i" is $(stat -c %$statformaat "$i") DUS GEEN trash
					rm -R "$i"
				fi
			done
		<<<
		- WAS if [[ $(realpath %d) == /media/ramdisk/* || $(realpath %d) == /tmp/* ]] ;then rm -R %F; else realpath --zero %F | xargs --null trash-put; fi
		- NIET met trash-put (zie sectie "trash-cli")
		- OPM context van spacefm OK voor disable of hide menu item, maar shortcut key blijft actief : zie https://github.com/IgnorantGuru/spacefm/issues/696

- ~/.local/share/Trash is "thuisvuilbak" voor bestanden en mappen onder ~/ en in hetzelfde bestandssysteem als ~/ (root's ~/ is "/root"). Die trashmappen worden automatisch aangemaakt (als ze verwijderd werden, gebeurt dit bij een volgende delete).
	- zorgen dat root en dirk niet trashen naar quasi-onzichtbare eigen ~/.local/share/Trash directory, maar naar de overkoepelende trash van /home :
		# rmdir /root/.local/share/Trash
		- maak een dummy bestand Trash, zodat geen enkele domme toep. een directory Trash kan maken
		# touch /root/.local/share/Trash

- implementaties mogen thuisvuilbak gebruiken voor alle deletes, door verwijderde bestanden vanop andere gemounte bestandssystemen naar daar te kopiëren. Maar meestal een vuilnisbak per bestandssysteem, als volgt.

- Voor andere paden, en paden in andere bestandssystemen is vuilnisbak afh. van aanwezigheid van directory .Trash in de root (mount point) van het bestandssysteem :
	- vuilnisbak is %mountpoint%/.Trash/$UID/ als die map .Trash :
		- schrijfbaar is voor de gebruiker
		- sticky bit op heeft (d.w.z. alleen (groeps)eigenaar mag directory wijzigen/verwijderen :
			# chmod -R +t %mountpoint%/.Trash
	- vuilnisbak is %mountpoint%/.Trash-$UID/ als die map .Trash NIET if NIET ZO bestaat (b.v. geen sticky bit)
	- die vuilnisbakken worden door de file manager aangemaakt wanneer nodig

- een vuilbak krijgt autom. directories files/ en info/, en wanneer nodig expunged/ :
	- info/ : bestand "%filename%.info" documenteert het oorspronkelijke pad van verwijderde filename
	- files/ : naar hier worden verwijderde bestanden/mappen verplaatst (meeste implementaties : enkel binnen zelfde bestandssysteem)
	- expunged/ : voor verwijderen van bestanden die niet van u zijn, in een map die wel van u is
	- Rechtstreeks in de trashmappen dingen doen kan (voorzichtig)
	- Thunar's "Rubbish bin" (op bureaublad of in thunar) beheert alle vuilbakken samen,maar niet compatibel.

>>> https://specifications.freedesktop.org/trash-spec/trashspec-1.0.html (samengevat):
	- "For every user a “home trash” directory MUST be available. Its name and location are $XDG_DATA_HOME/Trash"
		- als $XDG_DATA_HOME niet bestaat (zoals bij mij) :
			- zie https://specifications.freedesktop.org/basedir-spec/latest/ar01s03.html :
				"If $XDG_DATA_HOME is either not set or empty, default to $HOME/.local/share"
			- voor root is de default dus /root/.local/share
		- “home trash” directory is dus ~/.local/share/Trash
	- "The “home trash” SHOULD function as the user's main trash directory. Files that the user trashes from the same file system SHOULD be stored here. A “home trash” directory SHOULD be automatically created for any new user. If this directory is needed for a trashing operation but does not exist, the implementation SHOULD automatically create it"
	- "The implementation MAY also support trashing files from the rest of the system into the “home trash” directory."
		- thunar niet, gebruikt $mountpoint/.Trash/$UID per device (zelfs ramdisk!)
		- spacefm plugin corbeille-spacefm trasht alleen op home-device
	- "An implementation MAY choose not to support trashing in some of these cases (notably on network resources and removable devices). It MAY also choose to provide trashing in the “top directories” of some or all mounted resources."
<<<

=== XFCE .themes van Rik uitgepakt naar home/dirk ===

=== terminal opdracht-aliassen toegevoegd in /home/dirk/.bash-aliases: (wordt aangeroepen uit .bashrc) ===

- .bashrc (en .bashrc_aliases) terug laden (gebeurt ook bij openen elke nieuwe bash-shell/elk nieuw terminal venster):
	. $HOME/.bashrc

=== Speciale tekens intikken met toetsencombinaties:  ===
	. startknop/settings/Keyboard/Layout/Compose key: "Right Win",  (ook Super of multi-key genoemd)
	ZIE _Xubuntu ComposeKey multikey combinaties.txt

- bij upgrade naar Xubuntu 16.04 verdween de Ibus keyboard input method system (Ibus blijkbaar niet meer geïnstalleerd) in "Settings/Language Support/Language/Keyboard input method systems", en was XIM in de plaats geselecteerd (geschikt voor Chinees e.a., was dus waarschijnlijk mijn eigen keuze bij installatie). Met XIM werkt de unicode escape Ctrl+Shift+U niet. Daaarom: "Settings/Language Support/Language/Keyboard input method systems" none.

0 OPM: met xmodmap kunt ge permanente toetsenbordwijzigingen maken (zie b.v. http://askubuntu.com/questions/367384/how-do-i-enter-the-euro-symbol), maar GUI xkeycaps () werkt niet goed (
	0# apt-get update
	0# apt-get install xkeycaps"
	- al rap verwijderd
		0# apt-get remove xkeycaps

=== hosts bestand voor linux: /etc/hosts (edit as root: pkexec mousepad /etc/hosts) ===
	. toegevoegd:
		127.0.2.1	www.mijnserver.be
	. syntax:
		#IPAddress	Hostname		Alias
		127.0.0.1	localhost		deep.openna.com
		208.164.186.1	deep.openna.com		deep
		208.164.186.2	mail.openna.com		mail
		208.164.186.3	web.openna.com		web
		#The leftmost column is the IP address to be resolved.
		#The next column is that host's name.
		#Any subsequent columns are alias for that host
		#restart your network for the changes to take effect:
		# sudo /etc/rc.d/init.d/network restart
	. grote verzameling advertentie- en malware sites: http://hosts-file.net/?s=Download

=== script $HOME/Documents/shellscripts/open-url.sh om windows .URL-bestanden te openen in default browser ===

=== Partities maken met gparted, worden door gparted (en Thunar) bij verstek gemount in /media/dirk/???  ===
	. Machtiging voor partitie aan dirk geven, voorbeeld:
		$ sudo chown root:dirk /media/dirk/tosh4l
		$ sudo chmod 775 /media/dirk/tosh4l
	. mountpoints vastleggen: zie "_installatie\fstab", te kopieren naar /etc/fstab

=== Vermijd accestime te schrijven bij elke leestoegang van bestanden op SSD-schijf: ===
	. in /etc/fstab optie 'noatime' toevoegen na elke ext4-schijf op SSD

=== Firefox cache niet naar SSD, maar RAM: (https://wiki.archlinux.org/index.php/Firefox_on_RAMd) ===
	. about:config
		browser.cache.disk.enable = false
		browser.cache.memory.enable = true (default value)
		browser.cache.memory.capacity = -1 (new integer entry)

=== Bestandsnamen sorteren op char (b.v. _Z voor A) i.p.v. als taal:  ===

- https://help.ubuntu.com/community/Locale
	LC_COLLATE: How strings (file names---) are alphabetically sorted. Using the "C" or "POSIX" (synoniemen) locale here results in a strcmp()-like sort order, which may be preferable to language-specific locales.

- locale zien:
	$ locale
	LANG=en_US.UTF-8
	LANGUAGE=en_US
	---
	LC_COLLATE="en_US.UTF-8"
	---
- sortering veranderen met
	$ sudo update-locale LC_COLLATE=C"
  en terug inloggen

=== Automatisch opstarten van toepassingen  ===

- Settings/Session and startup/Application autostart):
	- Skype: 'env PULSE_LATENCY_MSEC=60 skype %U'
	0 Thunderbird: 'thunderbird %u' WERKT NIET
	0 IBUS Keyboard input method system voor Unicode escapes: 'ibus-daemon'; is niet meer geïnstalleerd in 16.04
	- "setxkbmap -option keypad:pointerkeys"
		- zie "Xubuntu truuks en commandos.txt" sectie "numeriek toetsenbord gebruiken als muis"

- maakt .desktop bestanden in ~/.config/autostart, met o.a. een lijn die bepaalt of autostart actief is daarvoor :
	- Hidden=false : wordt opgestart
	- Hidden=true : wordt NIET opgestart

=== Schermopstelling wijzigen ===

- CLI: $ xrandr
	. nu via aliassen in ~/.bash-aliases

- GUI: Settings/Keyboard/Application Shortcuts
	. Super+P "xfce4-display-settings" i.p.v. "xfce4-display-settings --minimal"

=== Scherm roteren in tty-terminal ===

- zie https://www.kernel.org/doc/Documentation/fb/fbcon.txt "Framebuffer Console"

- in tty-terminals mijn Viewsonic scherm roteren naar portrait :
	- tijdelijk : vie tee om een sudo in de redirect te kunnen doen
		$ echo 3 | sudo tee /sys/class/graphics/fbcon/rotate
	- blijvend : in /etc/default/grub of /etc/default/grub.d/mijndefaults.cfg
		>>> GRUB_CMDLINE_LINUX="fbcon=rotate:3" <<<
		>>>
		GRUB_CMDLINE_LINUX
			Entries on this line are added to the end of the 'linux' command line (GRUB legacy's "kernel" line) for both normal and recovery modes. It is used to pass options to the kernel.
		GRUB_CMDLINE_LINUX_DEFAULT
			This line imports any entries to the end of the 'linux' line (GRUB legacy's "kernel" line). The entries are appended to the end of the normal mode only.
		<<<
	- terug landscape : 0 i.p.v. 3

=== Settings/Users and Groups/Dirk/Advanced settings/Privileges ===

	v Use VirtualBox virtualisation solutions
	v Use audio devices
	v Use scanners
	v Use video devices

=== 0 Langs panel filemanager openen op een map ===

=== 0 Panel Items kan meerdere items "Directory menu" aan, met verschillend icoon, maar ze hebben alle dezelfde startdirectory, dus nutteloos. Daarom leek het handig om in fstab een lijn te zetten om / te mounten met rbind op /home/dirk/_filesystem: ===
# /	/home/dirk/_filesystem	auto	rbind,shared
# root van filesystem mounten met recursive-bind op map in $HOME geeft nare neveneffecten in Thunar:
# namelijk systeem-zaken zoals "cpu,cpuacct", memory, devices, security uit de mappen
#  /sys/fs/cgroup, /sys/fs/fuse, /sys/fs/pstore, /proc/sys/fs enzovoorts

=== Swap file instellen ===

(https://www.digitalocean.com/community/tutorials/how-to-add-swap-space-on-ubuntu-16-04)
Maak de swapfile aan
	0 fallocate -l 32G /media/sdata/.swapfile
	>>> man swapon
		The swap file implementation in the kernel expects to be able to write to the file directly, without the assistance of the filesystem. This is a problem on preallocated files (e.g. fallocate(1)) on filesystems like XFS or ext4, and on copy-on-write filesystems like btrfs. It is recommended to use dd(1) and /dev/zero to avoid holes on XFS and ext4.
	<<<
	- het argument is niet overtuigend, maar swapfile maken is zo zelden nodig, dat ik het maar bij de aanbevelingen houdt :
	# dd bs=1M count=32k if=/dev/zero of=/media/sdata/.swapfile
		- size en count in 'b' blocks van 512 bytes, 'c' 1-byte (char), 'w' 2-byte (word) of in 1024^n (K, M, G, ...; enkel k mag kleine letter)
		- beter grote bs en kleine count dan omgekeerd (b.v. bs=1 count=12G duurt eeuwen), maar (zeker voor /dev/zero) <= 1G (2G is te groot)
		>>>  info '(coreutils) dd invocation'
			The numeric-valued strings above (N and BYTES) can be followed by a multiplier: ‘b’=512, ‘c’=1, ‘w’=2, ‘xM’=M, or any of the standard block size suffixes like ‘k’=1024 (*note Block size::). Any block size you specify via ‘bs=’, ‘ibs=’, ‘obs=’, ‘cbs=’ should not be too large—values larger than a few megabytes are generally wasteful or (as in the gigabyte..exabyte case) downright counterproductive or error-inducing.
		<<<
Beperk tot root
	# chmod 600 /media/sdata/.swapfile
Maak er een swapfile van
	# mkswap /media/sdata/.swapfile
	- zet o.a. een UUID en een paar codes in .swapfile, tussen bytes 0x400 en 0x1000, maar verder niets
Meld aan voor swappen
	# swapon /media/sdata/.swapfile
Meld aan voor swappen bij elke opstart
	# cp /etc/fstab /etc/fstab.bak
	# mousepad /etc/fstab
	- lijn toevoegen:
		/media/sdata/.swapfile none swap sw 0 0
Verlaag swapgretigheid van default 60 (servers) naar 10 (desktop pc):
	- maak custom sysctl-script, of voeg er een lijn aan toe :
	# echo "vm.swappiness=10" >> /etc/sysctl.d/40_mijn_swappiness.conf
Na opstarten checken met
	$ cat /proc/sys/vm/swappiness
	$ sudo swapon -s
Afzetten met
	# swapoff /media/sdata/.swapfile
	OF
	# swapoff -a
	-a --all : alles in /etc/fstab, behalve "noauto"

=== firefox search plugins ===

nog altijd installeren door te kopieren naar %profile%/searchplugins/, maar worden samengebald naar %profile%/search.json.mozlz4 en van daar gebruikt; dat bestand verwijderen om searchplugins te verversen

=== joystick ===

- zie ook "knowhow Joystick/joystick installatie uitzoeken.txt"
- zie ook "https://www.kernel.org/doc/html/v4.18/input/joydev/joystick.html#usage"

- volgende lijn toevoegen achteraan /etc/modules, zodat de module 'analog' (voor analoge joysticks) bij elke start automatisch geladen wordt :
	# analoge joystick
	analog

- Als de analoge joystick aangesloten is bij opstarten, wordt door module analog ook /dev/input/js0 gegenereerd, wat genoeg is voor 4 assen en 4 knoppen

- Als de joystick na boot wordt aangesloten, zelf device aanmaken:
	# mknod /dev/input/js0 c 13 0

- joystick CLI testen
	$ jstest /dev/input/js0
	- afsluiten met Ctrl-C

- joystick GUI testen, assen of knoppen verwisselen, en callibreren
	$ jstest-gtk
	- grafische callibrator, indien geinstalleerd
	- Ctrl-C na afsluiten zonder naar properties te zijn gegaan (start wschlk. jstest op in de achtergrond)

== INSTELLINGEN NA BACKUP 170215 ==

=== appfinder (Alt-F2) shortcuts ===

- configuratie wordt bijgehouden in /home/dirk/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-appfinder.xml :
- wijzigingen in xfce4-appfinder.xml pas actief na heropstarten (of mogelijk kill van xconfd, en appfinder terug opstarten; nog uit te zoeken)
- kan ook geconfigureerd worden met CLI-opdracht xfconf-query, MAAR
	- voordeel is dat de wijzigingen direct bruikbaar zijn
  	- is omslachtig en ondoorzichtige syntax (http://docs.xfce.org/xfce/xfconf/xfconf-query)
  	- voor nieuw shortcut moet de array <property name="actions" type="array"> uitgebreid worden, maar xfconf-query ondersteunt arrays maar gedeeltelijk (b.v. geen display)
	- OPGELET: niet samen met edit van xfce4-appfinder.xml zelf: xfconf-query overschrijft die met de geladen versie daarvan
	- voorbeeld opdracht:
		$ xfconf-query -c xfce4-appfinder -p /actions/action-3/command -s "xfce4-terminal -T \"man %s\" -x man %s"

- man-page wijzigen
	. titel van terminal-venster = "man %commando":
	. prefix ? i.p.v. #
		- in  /home/dirk/.config/xfce4/xfconf/xfce-perchannel-xml/xfce4-appfinder.xml :
			<property name="action-4" type="empty">
			  <property name="type" type="int" value="0"/>
			  <property name="pattern" type="string" value="?"/>
			  <property name="command" type="string" value="xfce4-terminal -T &quot;man %s&quot; -x man %s"/>
			  <property name="save" type="bool" value="false"/>
			</property>

	. gelijkaardige functionaliteit in Whisker Menu, geconfigureerd door properties daarvan, of direct in config bestand :
		- in /home/dirk/.config/xfce4/panel/whiskermenu-1.rc
			[action0]
			name=Man Pages
			pattern=?
			command=xfce4-terminal -T "man %s" -x man %s
			regex=false

- texdoc met '$'
	- recycleren een actie die ik niet gebruik (ben al vergeten dewelke); anders array-element toevoegen in property actions:
			<value type="int" value="5"/>
	- ongebruikte action wijzigen (dan wel toevoegen) :
		<property name="action-3" type="empty">
		  <property name="type" type="int" value="0"/>
		  <property name="pattern" type="string" value="$"/>
		  <property name="command" type="string" value="texdoc %s"/>
		  <property name="save" type="bool" value="false"/>
		</property>

=== /tmp in RAM ===

- tot nu toe werd /tmp weinig misbruikt, maar TeXstudio gebruikt dit intensief, daarom RAM i.p.v. SSD daar voor gebruiken.
	- opstarten met ander systeem om de /tmp van DIT systeem helemaal leeg te maken (ge kunt niet mounten naar een map met dingen in)
	- in /etc/fstab dit toevoegen
		#						systeem-TEMP, bij fail /tmp gewoon gebruiken als map van / op SSD
		tmpfs			/tmp		 tmpfs	defaults,size=8G,nofail

=== Firefox Ctrl-Q disablen ===
	- "Settings/Keyboard/Application shortcuts" Ctrl-Q to start the Whisker application menu. Zo komt Ctrl-Q niet meer tot bij Firefox

=== sudoers bestand gemaakt : ===

- Het bestand /etc/sudoers bevat de standaard configuratie van sudo. Als dat niet meer syntactisch correct is, kan er geen sudo meer worden uitgevoerd; dat is een ramp in Ubuntu, want de root user heeft in Ubuntu immers geen paswoord, root kan alleen via de sudo-opdracht gebruikt worden. Daarom worden locale sudo-configuraties toegevoegd aan aparte bestanden :
	- check dat /etc/sudoers een lijn "#includedir /etc/sudoers.d" heeft; daarmee worden locale sudoers-configuraties gelezen uit elk bestand in die directory zonder . in de naam (d.w.z. zonder extensie) en dat niet eindigt op '~' (eq. van .bak in dos).
	- gebruik voor een locale configuratie de speciale editor visudo, die de syntax checkt:
		# visudo -sf /etc/sudoers.d/mijnconfig
		-s : strikte syntax-controle
		-f .../mijnconfig : de sudoers-configuratie
		- visudo kopieert mijnconfig naar mijnconfig.tmp als tussenstap, controleert bij het afsluiten de syntax van die .tmp, en overschrijft het mijnconfig alleen als de syntax OK is
		# visudo -csf mijnconfig
		-c alleen syntax controleren, van bestand dat op een andere manier is aangemaakt
		- commandos in visudo (gebruikt nano als editor)
			- Alt-c : toon lijn en kolom van cursor
			- Alt-$ : word wrap long lines
			- Alt-s : soft scrolling

- Maak Sudoers-configuratie voor opdrachten die dirk kan uitvoeren zonder paswoord (wel laten voorafgaan met sudo) :
	# visudo -sf /etc/sudoers.d/dirksudos
	>>>
		# spin down 1 to 4 hard disks (moeten expliciet het commando met 1, 2, 3 en 4 hard disks geven t.b.v.
		# globbing (shell expandeert "/dev/sd?" naar "/dev/sda /dev/sdb /dev/sdc /dev/sdd ...", voor
		# zoveel als er HDD zijn)
		dirk    ALL= NOPASSWD: /sbin/hdparm -C *, /sbin/hdparm -y /dev/sd[a-z], /sbin/hdparm -y /dev/sd[a-z] /dev/sd[a-z], /sbin/hdparm -y /dev/sd[a-$
		# mount en unmount cdimage (.iso of .mdf) en backup (squashfs) naar directory mnt of cdrom (in root of elders, maar alleen die naam)
		dirk	ALL= NOPASSWD: /bin/umount */mnt,/bin/umount */cdrom,/bin/mount -o loop\,ro -t iso9660 *.iso */mnt,/bin/mount -o loop\,ro -t iso9660 *.iso */cdrom,/bin/mount -o loop\,ro *.mdf */mnt,/bin/mount -o loop\,ro *.mdf */cdrom,/bin/mount -o loop\,ro -t udf *.iso */mnt,/bin/mount -o loop\,ro -t udf *.iso */cdrom,/bin/mount -o ro -t squashfs *.squashfs */mnt,/bin/mount/ -o ro -t squashfs *.squashfs */cdrom
		# fysieke cds mounten (mits lijn in /etc/fstab daarvoor)
		dirk	ALL= NOPASSWD: /bin/mount */cdrom
	<<<
	- ALL= : "host=". B.v. FRT= zou moeten werken, maar geeft fout "visudo: Error: Host_Alias `FRT' referenced but not defined", ook al is FRT goed gedefinieerd in zowel /etc/hostname als in /etc/hosts (die laatste moet misschien 1287.0.0.1 zijn i.p.v. 127.0.1.1)
	- optie : ALL=(ALL:ALL) : host=(user:group)
		- , of desnoods 127.0.0.1= of localhost=
	- NOPASSWD: sudo vraagt geen wachtwoord bij de volgende commando's
	- optie : NOEXEC: voor alle opdrachten vanwaaruit ge ook een terminal kunt openen of een shellopdracht kunt uitvoeren (die draait dan immers als root); met NOEXEC: laat sudo die terminal of shell niet toe
	- komma-gescheiden lijst van opdracht met parameters (en wildcards voor parameters); de volgende tekens met '\' escapen om ze letterlijk op te nemen in een oprachtparameter : : , = ?

=== thumbnails (Thunar e.a.) naar /tmp ===

In $HOME/.profile volgende lijnen
	## ~/dirk/.cache/thumbnails/ naar hier gelinkt
	if [ ! -d /tmp/thumbnails ] ; then
		mkdir /tmp/thumbnails
	fi
	if [ ! $HOME/.cache/thumbnails ] ; then
		ln -s /tmp/thumbnails $HOME/.cache;
	fi
	if [ ! $HOME/.thumbnails ] ; then
		ln -s /tmp/thumbnails $HOME/.thumbnails;
	fi
	<<<

- Ook in /home/dirk/.cache/vlc een link art naar /tmp/thumbnails
	- alle gekende config-instellingen om VLC te laten stoppen met download album art ("metadata") zijn gestopt met werken; zo vervuilen ze alvast mijn /home niet meer.

=== Wineprefix VDub_PROGRAMS hernoemd naar Win7x86PROGS ===

=== file type magic file ===

In $HOME/.magic volgende lijn gedefiniëerd om met het file-commando een jbig2 te herkennen:
	>>> (zie http://manpages.ubuntu.com/manpages/xenial/man1/file.1.html en http://manpages.ubuntu.com/manpages/xenial/man5/magic.5.html)
		0	bequad	0x974A42320D0A1A0A	Jbig2 image
	<<<
	- lijkt niet gebruikt door thunar

=== telemetry van Mozilla Firefox en Thunderbird uitschakelen: ===

- Firefox verzamelt megabytes gebruiksgegevens, en kuist ze niet op :
	- in ~/.mozilla/firefox/%mijnprofiel%/datareporting/archived
	- in ~/.mozilla/firefox/%mijnprofiel%/saved-telemetry-pings
	- uitzetten in about:config (of manueel in ~/.mozilla/firefox/%mijnprofiel%/prefs.js) :
		toolkit.telemetry.archive.enabled to false
		toolkit.telemetry.enabled to false
		toolkit.telemetry.unified to false

- Thunderbird verzamelt megabytes gebruiksgegevens, en kuist ze niet op :
	- in ~/.thunderbird/%mijnprofiel%/saved-telemetry-pings
	- uitzetten in "Edit/Preferences/Advanced/Config editor" (of manueel in ~/.thunderbird/%mijnprofiel%/prefs.js) :
		toolkit.telemetry.enabled to false
		toolkit.telemetry.unified to false

=== ls - kleurencodes in terminal ===

- de 'ls'-opdracht gebruikt lichte kleuren, niet goed voor mijn lichte achtergronden

- de kleuren staan in shell-variabele LS_COLORS
	- die kan worden opgebouwd (gewoon print naar stdout) door
		$ /usr/bin/dircolors -b [configuratiebestand]
		-b : voor bash shell-variabele
		configuratiebestand : anders ingebouwde kleurdefinities

- ~/.dircolors gemaakt, wordt door .bashrc opgepikt, en vertaald naar env-variabele LS_COLORS
	- print default database naar bestand
	$ dircolors -p >~/.dircolors
	-p : print defaults
	0 met editor alle kleurcodes (na eerste ';') die beginnen met 01 (licht volgens de ene, bold volgens de andere) vervangen door 00 (restore ofte niets speciaal)
	- alles na "EXEC" in commentaar gezet
	- codes voor heldere achtergrond en voorgrond gevonden (en gedocumenteerd in ~/.dircolors)
		- zie https://stackoverflow.com/questions/4842424/list-of-ansi-color-escape-sequences
	- mooi setje gemaakt, o.a. : directory underscore, link kleurtje, exec fel gele achtergrond
	- testen met
		$ eval $(dircolors -b ~/.dircolors) ; echo $LS_COLORS
	- wordt door .bashrc ingesteld voor elke interactieve terminal

=== dirk/JAVA/TOOLS verhuisd naar GEZIPTE.PRG/JAVA ===

- nuttige .jars executable gemaakt
	$ chmod a+x ... : thunar properties/permissions geeft de executable-optie niet voor een jar)
	- link ter plaatse naar jar zonder versienr. :
	$ ln -sr iets2.3.jar iets.jar
	- link naar jar zonder versienr. in ~/bin/java
	$ cd ~/bin/java ; ln -s .../GEZIPTE.PRG/JAVA/.../....jar
	- niet -r (relative), want dan vertaald hij de symlinks in het pad (en dan zijn we voordeel van centrale link naar GEZIPTE.PRG kwijt)

=== printen naar pdf instellen ===

- zie http://www.cups-pdf.de/

- Configuratie in /etc/cups/cups-pdf.conf


- print naar ramdisk i.p.v. standaard naar $HOME/PDF :
	>>> /etc/cups/cups-pdf.conf lijn 45 gewijzigd :
		#Out ${HOME}/PDF
		Out /media/ramdisk
	<<<
	- zie https://bugs.launchpad.net/ubuntu/+source/cupsys/+bug/147551 :
	>>> /etc/apparmor.d/usr.sbin.cupsd lijn 188 vervangen
		@{HOME}/PDF/ rw,
		@{HOME}/PDF/* rw,
	DOOR
		@{HOME}/ rw,
		@{HOME}/* rw,
		/media/ramdisk/ rw,
		/media/ramdisk/* rw,
	<<<
	# /etc/init.d/apparmor restart

- scriptje om bij verstek tijdstamp achteraan afgedrukte pdf te zetten (om te voorkomen dat vorige afdruk overschreven wordt), maar met zenity nieuwe naam te vragen en bestand te openen:
	- evt. zelf bestandsnaam kiezen :
	>>> /etc/cups/cups-pdf.conf lijn 258 gewijzigd :
		#PostProcessing
		PostProcessing /usr/local/bin/cups-pdf-hernoem
	<<<
	- script geschreven en executable gemaakt ; dit wordt uitgevoerd met in environment o.a.:
	>>>
		TMPDIR=/var/tmp
		USER=root
		HOME=/var/spool/cups/tmp
		PATH=/usr/lib/cups/filter:/usr/bin:/usr/sbin:/bin:/usr/bin
		PWD=/
		SERVER_ADMIN=root@FRT
		LANG=en_US.UTF-8
		CHARSET=utf-8
	<<<
		- /usr/local/bin/cups-pdf-hernoem, kopie in /home/dirk/Documents/_installatie/_configs_systeem
		- uitvoering script toelaten door apparmor (zie https://ubuntuforums.org/showthread.php?t=893968)
		>>> /etc/apparmor.d/usr.sbin.cupsd (laatste lijn voor }) lijn 199 toegevoegd
		  /usr/local/bin/cups-pdf-hernoem uxr,
		<<<
		# /etc/init.d/apparmor restart

=== pulseaudio configureren voor 2 uitgangen tegelijk (2018/01/16) ===

- zie https://askubuntu.com/questions/78174/play-sound-through-two-or-more-outputs-devices
- zie https://wiki.archlinux.org/index.php/PulseAudio/Examples#Simultaneous_HDMI_and_analog_output
- zie sectie "GNOME registry (GConf)" in https://gavv.github.io/blog/pulseaudio-under-the-hood/

- root edit van /etc/pulse/default.pa
	>>> 1ste lijn na .fail
		load-module module-combine-sink sink_name=combined
	> laatste lijn
		set-default-sink combined
	<<<

- kortere beschrijving i.p.v. "Simultaneous output on ...":
	$ gconftool --set --type string /system/pulseaudio/modules/combine/args0 sink_properties=device.description=Combi
	- maakt directories en bestanden ~/.gconf/system/pulseaudio/modules/*

- pulseaudio heropstarten (als user)
	$ pulseaudio -k

=== naam van user directories Pictures, Music, Documents, ... (2018/03/04) ===

- namen en paden staan in ~/.config/user-dirs.dirs, in de taal van ~/.config/user-dirs.locale
	- xdg-user-dirs-update is normally run automatically at the start of a user session to update the XDG user dirs according to the users locale. Any configured directories that point to non-existing locations are reset by pointing then to the users home directory
	- bij gewoon editen, pas effectief na af- en aanmelden
	- direct effectief, vb. :
		$ xdg-user-dirs-update --set VIDEOS "/media/sdata/cinema"
		--set NAME PATH : Sets the XDG user dir with the given name.
			- NAME should be one of the following:
				DESKTOP, DOWNLOAD, TEMPLATES, PUBLICSHARE, DOCUMENTS, MUSIC, PICTURES, VIDEOS
			- PATH must be an absolute path, e.g.  $HOME/Some/Directory.

- mijn instellingen
	XDG_DESKTOP_DIR="$HOME/Desktop"
	XDG_DOWNLOAD_DIR="/media/sdata/WERK"
	XDG_TEMPLATES_DIR="$HOME/Templates"
	XDG_PUBLICSHARE_DIR="$HOME/Public"
	XDG_DOCUMENTS_DIR="$HOME/Documents"
	XDG_MUSIC_DIR="$HOME/muziek"
	XDG_PICTURES_DIR="$HOME/fotos"
	XDG_VIDEOS_DIR="/media/sdata/cinema"

=== ATM4 font collectie ===

- zie ook "_Xubuntu truuks en commandos.adoc" sectie "fonts installeren"

- symbolic links naar /opt/.win-gschijf/ATM4/TTFONTS resp. PSFONTS in ~/.fonts/truetype/ en ~/.fonts/type1/ (OPM : was /media/sdata/.win-gschijf/ATM4/...) :
	- getest: voor windows moeten psfonts-metrics niet in submap PFM staan, dus in tegenstelling tot oude windows-installaties alle *.pfm naar map G:\ATM4\PSFONTS verplaatst
	- al m'n oude windows lettertype-bestanden hernoemd naar hoofdletters, om in linux dubbels te helpen vermijden
	$ mkdir -p ~/.fonts/truetype/ ~/.fonts/type1/
	- voor truetype en type-1 aparte link naar resp. directories:
	$ ln -s /opt/.win-gschijf/ATM4/TTFONTS ~/.fonts/truetype/ATM4
	$ ln -s /opt/.win-gschijf/ATM4/PSFONTS ~/.fonts/type1/ATM4

- voor de type 1 postscript fonts zou ook het volgende moeten gebeuren (nog niet gedaan, juiste argumenten NOG NAKIJKEN) :
	# mkfontscale ~/.fonts/type1/ATM4/
	# mkfontdir ~/.fonts/type1/ATM4/
	- 1-malig, om mkafmmap te installeren :
		# apt install enscript 
	# mkafmmap ~/.fonts/type1/ATM4/*
		- veel errors en abort

- rescan your font folder :
	# fc-cache -f -v

- voor type 1 lettertypes in LibreOffice zou ook nog wat werk nodig zijn :
	>>> https://ask.libreoffice.org/en/question/5051/how-to-make-libreoffice-36-seetype-1-fonts-under-ubuntubodhi/
	LibreOffice (at least 3.6 and 4.1) require the font's .pfb and .afm files to be present (zie https://bugs.freedesktop.org/show_bug.cgi?id=374). If you don't have both, LibreOffice will not display the font in the font list. This is different to most other programs that are happy with only the .pfb. There's a relatively simple workaround, at least for Ubuntu and variants. Create afm files from your pfb files using fontforge :
		- install fontforge using apt-get, synaptic or your favorite method
		- Create a text file similar to the one in this (http://fontforge.org/scripting-tutorial.html) example, section "Using Loops". Replace ".ttf" with ".afm"
		- Save the text file in the same directory as your .pfb files, with the name "CreateAfm"
		- cd to the directory with your pfb files and execute fontforge and invoke the script using the command
			# fontforge -nosplash -lang=ff -script CreateAfm *.pfb
			- This will create .afm files, based on your .pfbs. When the files are generated, force a complete rescan your font folder with the command
				# fc-cache -f -v
	<<<

=== beveiligen G: schijf voor wine en Windows ===

- G:\ beschermen:
	- alle directories en bestanden
		- chown root:root, zodat de VBoxUser (dirk) niet zomaar alles kan
		- chmod o+r, zodat de VBoxUser (dirk, is nu 'other') wel alles kan lezen (was o.a. nodig voor jars van Britannica)
		- chmod o-w, zodat ze niet per ongeluk gewist kunnen worden
	- alle directories chmod o+x, zodat other erin kan navigeren
	- alleen individuele configuratiebestanden chmod o+w
	0 NIET NODIG voor wine ook executables en jars chmod o+x NIET NODIG

.VERHUIS NAAR SSD
****
	.win-gschijf staat nu deels op /opt, o.a. heel ./ATM4, maar meeste inhoud van CDKOPIE en PROGRAMS linkt nog gewoon naar /media/sdata
****

	# cd /media/sdata/.win-gschijf	
	# chown -R root:root .
	# find . -type d -exec chmod o+rx \{\} \+
	# find . -type f -exec chmod o+r \{\} \+
	# find . -exec chmod o-w \{\} \+
	# for i in ini cfg conf config txt lst log nfo properties jobs ; do find -type f -iname "*.$i" -exec chmod -c o+w \{\} \+ ; done
	- properties voor o.a. alle java
	- jobs voor virtualdub
- andere
	- deze directories moeten misschien helemaal schrijfbaar zijn
		- voor als ik ze eens nodig heb
		PROGRAMS/BOOTONTW/HULL :
		CDKOPIE/FS2004
	# chmod -cR o+w
		PROGRAMS/Adobe/Adobe Help Center/AdobeHelpData
		PROGRAMS/BatCorder/settings
		PROGRAMS/ExactAudioCopy/Profiles
		PROGRAMS/MDictPC/doc
		PROGRAMS/MOTOGP3/save
		PROGRAMS/NETWORDZ/*.DCT
		PROGRAMS/NoteWorthyComposerViewer/config
		PROGRAMS/OziExplorer/"System Files" PROGRAMS/OziExplorer/Data PROGRAMS/OziExplorer/Maps PROGRAMS/OziExplorer/"Index Maps"
		PROGRAMS/R4/data
		PROGRAMS/Icon Explorer  v3.1/Output
		- !! dubbele spatie voor v3.1 !!
		PROGRAMS/Ultradefrag 7.0.2/reports
		PROGRAMS/Ultradefrag 7.0.2/scripts
		PROGRAMS/Ultradefrag 7.0.2/tmp
		PROGRAMS/texstudio-2.12.6_xp/config
		PROGRAMS/Britannica2015/data/NOTES_DATA/notesdb/NOTES
		PROGRAMS/Britannica2015/data/NOTES_DATA/notesdb/NOTESDB.ver
		PROGRAMS/Britannica2007/data/NOTES_DATA/notesdb/NOTES
		PROGRAMS/Britannica2007/data/NOTES_DATA/notesdb/NOTESDB.ver
	# chmod -c o+x
		PROGRAMS/NoteWorthyComposerViewer/bass
		PROGRAMS/NoteWorthyComposerViewer/config
		PROGRAMS/NoteWorthyComposerViewer/fonts
		PROGRAMS/NoteWorthyComposerViewer/plugin
	# chmod -c o+w
		PROGRAMS/BSKempen_databank PROGRAMS/BSKempen_databank/BSKempen.mdb
			- BSKempen.mdb moet R/W, en BSKdb.exe moet BSKempen.ldb kunnen maken en wissen, anders "Fout met databank. De hoofding kon niet worden gelezen"
		PROGRAMS/BOOTONTW/FreeShip/FreeShip.dta
		PROGRAMS/BOOTONTW/Delftship/DelftShip.dta
		PROGRAMS/BOOTONTW/BearboatSP/BearboatPreference
		PROGRAMS/CDisplayCBZReader/cdisplayex.xml
		PROGRAMS/CDisplayCBZReader/cdisplayex (copy 1).xml
		PROGRAMS/Hachette2002/Data
		PROGRAMS/TRIALBKE Mountain Heights/hiscores.dat
		- mag beginnen als leeg bestand
		PROGRAMS/TRIALBKE Construction Yard/hiscores.dat
		- mag beginnen als leeg bestand
		PROGRAMS/TRIALBKE/hiscores.dat
		- mag beginnen als leeg bestand
		PROGRAMS/Xpra_XP/etc/gtk-2.0/gtkrc
		PROGRAMS/CAMPRON.18/components/xpti.dat

=== opdrachten uitvoeren bij suspend en resume, hibernate en thaw ===

- scripts in /etc/pm/sleep.d worden uitgevoerd met als $1 het bovenstaande commando
	- zie "man pm-action"
	- helaas enkel als de toestand werd aangezet met aangeroepen met pm-suspend, pm-hibernate of pm-suspend-hybrid
	- helaas zijn dat sudo-opdrachten
	- Zelfs dit help niet
		0# chown :dirk /usr/lib/pm-utils/bin/pm-action /usr/sbin/pm-suspend
			- geeft voor dirk nog altijd :
			>>>
				$ pm-suspend
				This utility may only be run by the root user.
			<<<
			- /usr/lib/pm-utils/bin/pm-action is een script, waar expliciet getest wordt op uitvoerder == 0 (root); zou die controle kunnen aanpassen om ook 1000 (dirk) toe te laten, maar er worden nogal wat opdrachten uitgevoerd in dat script; sommige daarvan zullen toch root zijn

=== systemrescuecd toegevoegd aan opstartmenu grub 2 ===

- custom menu item maken voor grub2 :
	>>> /etc/grub.d/40_custom
		# SYSTEMRESCUECD 5.2.2 (dit is de versie die nu op mijn 2MB USB-staaf staat
		menuentry 'systemrescuecd (v5.2.2) (op 2MB USB-staaf)' --class sysrcd {
			insmod part_gpt
			insmod part_msdos
			insmod fat
		# Met USB-staafjes weet ge nooit waar grub ze gaat vinden, dus beginnen zonde
		# 'set root' noch search hints (zodat search met en zonder hint hetzelfde zijn)
			search --no-floppy --file --set=root /boot/grub/grub-522.cfg
			set prefix=($root)'/boot/grub'
			configfile $prefix/grub-522.cfg
		}
	<<<

- nieuwe grub.cfg maken : zie "_Xubuntu truuks en commandos.adoc" sectie "toevoegen aan opstartmenu grub"

- in systemrescue cd GUI opstarten
	- via optie in grub opstartemenu
	OF
	- vanop opdrachtprompt '%' :
		% startx
	- scherm (hardware) draaien naar landscapemode, of display (software) draaien naar portrait :
		% xrandr --output HDMI2 --rotate left
		OF
		% xrandr -o left
		-o --orientation [none|right|left|mirror]

=== terugvaloptie voor opstarten van Medion USB-schijf grub-mkconfig ===

- zie sectie "terugvaloptie grub-mkconfig"

- Als de Medion USB-schijf niet aangekoppeld is tijdens het uitvoeren van grub-mkconfig, dan valt de linux-installatie daarop weg uit grub's menu. Daarom zetten we die met de hand in dat menu.

- WAS "/etc/grub.d/31_medion-fallback", nu "/etc/grub.d/30_alMijnLinuxen"
	- op basis van de entries uit een grub.cfg gemaakt met de Medion USB-schijf aangekoppeld, zoals door 30_os-prober aangemaakt, maar
		- de hints behouden we
		- voor de leesbaarheid "search --fs-uuid" en uuid 1a35ec2b-b226-4960-be45-da9128abb788 vervangen door "search --label" en MDLINUX
			- ook na de $menuentry_id_option (is niet gedocumenteerd en dient ook voor niets, maar even goed)
		- expliciete kernelversies vervangen door de symbolic links daarnaar (alleen generic, niet signed) die Ubuntu in root-directory / zet.
			- gek genoeg zet Ubuntu alleen links naar generic, niet naar generic.efi.signed. Maar '.efi.signed' is alleen nodig met UEFI-BIOS optie secureboot, zonder dat zal de pc even goed starten van generic

- dit menupunt zal alleen in grub.cfg verschijnen als die wordt bijgewerkt zonder aangesloten Medion-schijf.

== INSTELLINGEN NA BACKUP 181028 ==

=== voorbereiding dist-upgrade bionic ===

==== grub-voorkeuren uit /etc/default/grub gehaald ====

- bijschaven /media/sdata/.backups/_herstelNaarHDD.sh en ./_backup.sh

- timeout opties en grub deuntje staan nu in /etc/default/grub.d/00_mijn_grub_default.cfg, zodat ze behouden blijven bij update naar nieuwe release
	- en ook >>> GRUB_CMDLINE_LINUX="fbcon=rotate:3" <<<
		- blijvend roteren van tty-terminals op mijn Viewsonic scherm naar portrait
			- tijdelijk :
				$ echo 3 | sudo tee /sys/class/graphics/fbcon/rotate

- /etc/default/grub hersteld van /usr/share/grub/default/grub

==== vm.swappiness uit /etc/sysctl.conf gehaald ====

- vm.swappiness staat nu in /etc/sysctl.d/40_mijn_swappiness.conf

- /etc/sysctl.conf hersteld van /usr/share/doc/procps/examples/sysctl.conf

=== ** FULL-UPGRADE bionic (Xubuntu 18.04.1) ** ===

- zie .../.backups/upgradePatch.sh

- getest
	- playonlinux/wine nagenoeg alles 
	- TexStudio
	- stamboom
	- LibreOffice en LanguageTool
	- Stafke
	- mail schrijven
	- Meld
	- GParted
	- NzbGet
	- Skype
	- XSane
	- print naar pdf

==== externe ppa's en repositories die ik gebruik ====

- voor upgrade externe ppa's en repositories uitschakelen
	- zie sectie "externe ppa's en repositories die ik gebruik"

- zie ook "_Xubuntu truuks en commandos.adoc" sectie "ONDERHOUD / repositories (ppa)"
- zie ook "_Xubuntu truuks en commandos.adoc" sectie "lijst van alle definieerde repositories (ppa)"

- wijzigen via "Software & Updates", of direct edit van /etc/apt/sources.list en /etc/apt/sources.list.d/*.list

- dit lijstje is verzameld uit de installaties in dit document
	- gespecialiseerd op 1 of enkele samenhangende pakketten
		- ppa.launchpad.net/geany-dev/ppa
			- Geany
			- bionic 1.33-1
				- nu xenial 1.33
				- Ubuntu repo bionic 1.32
			- zie sectie "geany 1.33 bionic"
		- ppa.launchpad.net/ubuntuhandbook1/avidemux/ubuntu (Panda Jim "while www.getdeb.net is not updated")
			- avidemux2.7 	2.7.1-1build2+ubuntu18.04
			- zie sectie avidemux 2.7.1 bionic
		0 Panda Jim is recenter - ppa.launchpad.net/rebuntu16/avidemux+unofficial (Thanh Tung Nguyen)
			0 avidemux2.6-qt
				- nu 1:2.7.0-1~getdeb1 van ppa getdeb
			- avidemux2.7 	2.7.0-1~ppa+bionic3 
		0 Ubuntu repo bionic 5.2.10 - download.virtualbox.org/virtualbox/debian
			- virtualbox
			- deze ppa voor xenial was ook 5.2.10 
		0 Ubuntu repo bionic 2.1.3 - inswitch.org
			- WinSwitch Xpra
			- deze ppa voor xenial was ook 2.1.3 
		- ppa.launchpad.net/spvkgn/zathura-mupdf
			- Zathura
	- verzamelrepositories
		- NIET ZOMAAR ACTIVEREN
			- bieden meer dan 1 package, die ik niet allemaal nodig heb of wil
			- Veiliger: repository activeren, package installeren, repository deactiveren
			- Als het toch moet, prioriteiten van deze repositories instellen :
				- zie https://help.ubuntu.com/community/PinningHowto
				- zie https://askubuntu.com/questions/27362/how-to-only-install-updates-from-a-specific-repository
				- voor * NIET gebruiken
				- voor pakket bij naam WEL gebruiken
		0 definitieve versie - ppa.launchpad.net/belin/stable (“BeLin developers” team)
			- Skype 4.3.0.37 (werkt NIET meer)
				- geen bionic
		0 offline - archive.getdeb.net
			0 GParted : was nodig voor NVMe, die versie nu in Bionic
			0 XnViewMP : direct .deb downloaden van https://www.xnview.com/en/xnviewmp/#downloads
			0 AviDemux : vervangen door ppa van Panda Jim of Thanh Tung Nguyen
		0 gebruik cryfs niet, mag weg - ppa.launchpad.net/llxdev : cryfs
		0 Ubuntu repo bionic 1.12 - ppa.launchpad.net/ubuntuhandbook1/apps (Panda Jim "while www.getdeb.net is not updated")
			- 1.14 niets bijzonders nieuw, zie https://mupdf.com/release_history.html
			- mupdf 1.14 bionic
		0 playonlinux winebottles voldoen - ppa.launchpad.net/ricotz/unstable
			- wine2.0 winetricks playonlinux
		0 playonlinux winebottles voldoen - ppa.launchpad.net/ubuntu-wine/ppa
			- niet gebruikt
			- heeft (23-09-2018) nog geen Bionic

- zie verder sectie "BIONIC dist-upgrade 181029"

=== externe ppa's bionic ===

- gebruikte
	- ppa.launchpad.net/geany-dev/ppa : Geany
		- voor versiebehoud (1.33-1, Ubuntu repo bionic's 1.32)
		- zie sectie "geany 1.33 bionic"
	- ppa.launchpad.net/ubuntuhandbook1/avidemux/ubuntu (Panda Jim "while www.getdeb.net is not updated")
		- voor versiebehoud in bionic (door upgrade avidemux 2.6 naar 2.7.1)
		- zie sectie avidemux 2.7.1 bionic
	0 ppa.launchpad.net/belin/stable (“BeLin developers” team) : Skype 4.3.0.37
		- werkt NIET meer, ook niet met gehackt versienr. in de binary
	- ppa.launchpad.net/mozillateam/ppa/ubuntu : Thunderbird 
		- naar v60.3.1 omwille van bug in v60.2.1 bionic, zie sectie "Thunderbird v60.2.1 max. berichtgrootte")
		- “Mozilla Team” team - Firefox ESR and Thunderbird stable builds
			>>>
				the team responsible for making Firefox, Thunderbird and the rest of their friend great on the Ubuntu platform. For more information please see http://wiki.ubuntu.com/MozillaTeam
			<<<
		- zie "https://launchpad.net/~mozillateam/+archive/ubuntu/ppa"
		# add-apt-repository ppa:mozillateam/ppa
		# apt-get update
		# apt-get install thunderbird
	0 heeft bionic, maar voor niet-standaardversie van zathura zelf: ppa.launchpad.net/spvkgn/zathura-mupdf : zathura-pdf-mupdf plugin

- ongebruikt maar onthouden, omdat Ubuntu repo bionic zelfde versie heeft als ik via externe ppa had in xenial; onthouden om evt. te reactiveren om toch naar nieuwere bionic-versie te gaan
	- download.virtualbox.org/virtualbox/debian : VirtualBox
	- winswitch.org : WinSwitch Xpra
	- ppa.launchpad.net/rebuntu16/avidemux+unofficial (Thanh Tung Nguyen) : AviDemux
		- Panda Jim is recenter
	- archive.getdeb.net
		- offline
		0 GParted : was nodig voor NVMe, die versie nu in Bionic
		0 XnViewMP : direct .deb downloaden van https://www.xnview.com/en/xnviewmp/#downloads
		0 AviDemux : voorlopig vervangen door ppa van Panda Jim ("while www.getdeb.net is not updated") of Thanh Tung Nguyen
	 - ppa.launchpad.net/llxdev : cryfs
		- cryfs verwijderd
		- ppa diende voor 0.9.6, off. repo bionic nu 0.9.9
	- Ubuntu repo bionic 1.12 - ppa.launchpad.net/ubuntuhandbook1/apps (Panda Jim "while www.getdeb.net is not updated" )
		- 1.14 niets bijzonders nieuw, zie https://mupdf.com/release_history.html
		- mupdf 1.14 bionic
	- playonlinux winebottles voldoen - ppa.launchpad.net/ricotz/unstable
		- wine2.0 winetricks playonlinux
	- playonlinux winebottles voldoen - ppa.launchpad.net/ubuntu-wine/ppa
		- niet gebruikt

=== terugvaloptie grub-mkconfig ===

- vast stel grub-opstartmenu's voor de linux opstartschijven, op basis van de symlinks in root naar nieuwe en vorige kernelversie
	- "/etc/grub.d/30_alMijnLinuxen" (WAS "/etc/grub.d/31_medion-fallback")
		- cfr. sectie "terugvaloptie voor opstarten van Medion USB-schijf grub-mkconfig"

== BIONIC NAAR SSD 2018-11-11 ==

- van backup geupgrade en in orde gemaakte dist-upgrade naar bionic op Toshiba-schijf
	- met nieuwe indeling van SSD  : geen partitie vrijhouden voor windows, usr+opt+home op 2de partitie met inline data
# gparted
	>>>
	nvme0n1                                           0 119,2G  0 disk          SAMSUNG MZVPV128HDGM-00000             
	├─nvme0n1p1 M2EFI   m2efi                         0   200M  0 part vfat                                            
	├─nvme0n1p2 M2ROOT  m2root                        0     5G  0 part ext4                                            
	└─nvme0n1p3 M2UOH   m2uoh                         0   114G  0 part ext4                                            
	<<<

# mkfs.ext4 -O ^huge_file -U 88e332dc-deb9-4c9c-9dfc-e0afe7ad45bd -L M2ROOT /dev/nvme0n1p2
# mkfs.ext4 -m 2 -i 100000 -O ^huge_file,inline_data -L M2UOH /dev/nvme0n1p3
# cd /media/sdata/.backups/
# bash _herstelNaarHDD.sh
>>>
	[19:23:38]
	++ WELKE BACKUP HERSTELLEN ++
	U koos "6" voor "/media/sdata/.backups/181109_17u40m_ROOT_(Toshiba bionic OK).squashfs"
	...
	++ NAAR WAAR HERSTELLEN ++
	U koos "3" voor "sysnieuw"
	...
	deel ESP komt in directory "/" van device "PARTLABEL=m2efi", zijnde : /dev/nvme0n1p1
	deel ROOT komt in directory "/" van device "PARTLABEL=m2root", zijnde : /dev/nvme0n1p2
	deel USR komt in directory "/usr" van device "PARTLABEL=m2uoh", zijnde : /dev/nvme0n1p3
	deel OPT komt in directory "/opt" van device "PARTLABEL=m2uoh", zijnde : /dev/nvme0n1p3
	deel HOME komt in directory "/home" van device "PARTLABEL=m2uoh", zijnde : /dev/nvme0n1p3
<<<


== INSTELLINGEN NA BACKUP 2019-03-25  ==

=== .inputrc gemaakt ===
- toetsenbord-vertaling in terminal van /etc/inputrc gekopieerd naar nieuw bestand ~/.inputrc, en daar volgende lijnen aan toegevoegd :
	>>>
		# handig voor autom. invullen van bestandsnamen, met of zonder hoofdletter
		set completion-ignore-case on
		#pijl omhoog en omlaag bladeren door bash opdrachtgeschiedenis met reeds ingetikt deel als filter
		"\e[A": history-search-backward
		"\e[B": history-search-forward
	<<<

== INSTELLINGEN NA BACKUP 2019-09-17  ==

- ~/.inputrc gekopieerd naar /root

=== message of the day uit ===
- /etc/default/motd-news
	>>>
	ENABLED=0
	<<<
	- Message of the day, alleen getoond bij terminal login (Alt+Ctrl+[F1-F6], niet in de GUI login Alt+Ctrl+F7), maar gaat wel bij elke boot het internet op om die boodschap te zoeken

=== /var/tmp weg uit root ===
- /var/tmp naar HDD verplaatsen met een bind mount
	- /var/tmp is semi-tijdelijk, in tegenstelling tot /tmp die bij elke boot mag leeggemaakt
		- b.v. de AppImage audacity schrijft gigabytes (voor geluid van hele film) naar /var/tmp
	# mkdir /media/sdata/.vartmp
	# chmod 1777 /media/sdata/.vartmp
	- zoals /var/tmp zelf : schrijfbaar voor iedereen, en met sticky bit (alleen root en owner van bestand mogen deleten)
	[# mv /etc/fstab~ /etc/fstab~~]...
	# cp /etc/fstab /etc/fstab~
	# nano /etc/fstab
	>>> na regel voor /media/sdata
	/media/sdata/.vartmp	/var/tmp	none	rbind,nofail
	<<<
		- nofail : als de bind-mount niet lukt start systeem gewoon op met /var/tmp als gewone directory op SSD
	- als SDATA niet gemount raakt op /media/sdata, maakt fstab ook zonder 'nofail' gewoon zelf een directory /media/sdata/.vartmp (in root fs dus), en bindmount die op /var/tmp, en systeem werkt verder goed
	- in journal kan vanaf nu een boodschap komen dat /var/tmp niet leeg is vóór de bindmount, als volgt toch leegmaken zonder umount :
		- /mnt/var/tmp leegmaken (subdirs /var/tmp/systemd-private* zijn niet leeg, dus niet met rmdir)
		# mount / /mnt -o bind
			-bind : NIET -rbind, hiermee wordt '/' nog eens dubbel bereikbaar via /mnt, maar zonder de andere mounts op subdirs van '/'
		# rm -rf /mnt/var/tmp/*

=== /etc/fstab gestroomlijnd ===
- terug mooi in kolommen, maar compacter
- windows partitie fsck=0
- verwijderbare schijven noauto,user,[exec]
	- noauto : anders blijft systeem proberen te mounten, eerst om de 5 minuten, dan om het uur
	- user : om toch gemakkelijk en zonder sudo te kunnen mounten op ingesteld mountpoint, b.v.
		$ mount /media/tarch
	- [exec] : indien gewenst, uit user volgt noexec, terwijl defaults exec bevat
- USB-schijven die ntfs zijn, en cdrom : uid=1000,gid=1000
	
== PROGRAMMA-INSTALLATIES ==

=== 0 fsarchiver ===

- zelfs toen ik hiermee mijn backups maakte, niet nodig gehad om dit in eigen systeem te installeren
- zit o.a. in SystemRescueCD
- evt. het nuttige uit oude fsarchiver-backups bewaren in gewoon archief

=== squashfs-tools (USC, of misschien was dit al voorgeïnstalleerd) ===

- these programs are run from the command line: mksquashfs, unsquashfs

=== Conky hardware monitor ===
	# apt-get update
	# apt-get install conky
- .conkyrc van Rik gekopieerd naar home/dirk, en aangepast

=== 0 GParted partitioneerder voor nvme-SSD ===

- Die van bionic is nieuw genoeg voor nvme-SSD

- Ubuntu loopt voorzichtig achter, zouden oudere versie installeren
	0# apt-get update
	0# apt-get install gparted
daarom nieuwere versie van www.getdeb.net halen (die site compileert sneller nieuwe versies voor Ubuntu) Zie instructies op http://www.getdeb.net/updates/Ubuntu/15.10#how_to_install
	- zie "_Xubuntu truuks en commandos.adoc" sectie repositories :
	- verificatiesleutel :
		$ wget -q http://archive.getdeb.net/getdeb-archive.key -O- | sudo apt-key add -
	- Software Updater/[Settings---]/Other software/[Add---] openen, volgende invullen:
		deb http://archive.getdeb.net/ubuntu wily-getdeb apps

- Nu zou in startmenu/settings/Software Updater/[Settings---]/Other software het volgende moeten staan:
	http://archive.getdeb.net/ubuntu wily-getdeb apps, wat met [Edit---] het volgende is:
	>>>
		Type = Binary
		URI = http://archive.getdeb.net/ubuntu
		Distri = wily-getdeb
		Components = apps
	<<<

- Vanaf nu kunnen apps van getdeb.net geinstalleerd worden vanaf hun website, of met USC of 'sudo apt-get install'

- gparted 0.24.0-1~getdeb3~wily geinstalleerd vanaf website getdeb.net (komt in USC gek genoeg in de categorie 'Themes & Tweaks')

=== XnView Multi Platform ===

- download van http://www.xnview.com/en/xnviewmp: XnViewMP-linux-x64.deb
	# dpkg -i XnViewMP-linux-x64.deb
	- installeert in /usr/bin, koppelt naar /usr/lib en /usr/share/xnviewmp/
	- OPM: het kan ook dat ik die van getdeb.net geinstalleerd heb, want software updater zoekt en vindt nieuwe versies
- owner van /home/dirk/.config/xnviewmp/xnview.ini veranderen (stond op root)
	# chown dirk:dirk xnview.ini
- map /home/dirk/.config/.xnviewmp wissen (wschlk overblijfsel van oudere beta)

=== HP printer driver ===

download van http://hplipopensource.com/hplip-web/install/install/index.html:
	. hplip-3.16.3.run
	- is executable, uitvoeren, installeert in /usr/share/hplip/)

=== Master PDF Editor ===

download van https://code-industry.net/free-pdf-editor:
	. master-pdf-editor-3.6.30_amd64.deb
	# dpkg -i master-pdf-editor-3.6.30_amd64.deb
	- installeert in /opt/master-pdf-editor-3/
	- Crasht al eens bij opstarten, maar kan wel gedetailleerd bewerken.

update 2509/2007 :
	# dpkg -r master-pdf-editor3
	# dpkg -i master-pdf-editor-4.3.50_qt5.amd64.deb

=== VideoLan player 2.2.1-3 ===

	# apt-get update
	# apt-get install vlc

=== Skype (USC) ===

=== NZBGet usenet downloader ===

	# apt-get update
	# apt-get install nzbget
	/usr/share/javascript/raphael$ sudo ln -s raphael-min.js raphael.min.js
	- want onder die naam zoekt nzbget dat script, klein foutje in de distri
	$ mkdir /media/sdata/WERK/nzbget/
	- en submappen dst/ inter/ nzb/ queue/ scripts/ en tmp/
	- scriptje ./scripts/postprocessing.sh gemaakt, met daarin de keuze tss. uitzetten en standby, in commentaar

- ~/.nzbget aanpassen om naar die map te schrijven, user accounts van newsservers toegevoegd, pad naar gui:
	>>>.nzbget
	WebDir=/usr/share/nzbget/webui
	<<<

- starten met nzbget -D in terminalvenster, te monitoren in Firefox op http://localhost:6789/ (zie ~/Documents/shellscripts/startnzbget.sh)
	-D : start server in daemon mode
	[-s] : start server (niet in daemon mode), best in terminalvenster, geeft meer info in terminal
	- script en launcher (menu editor) hiervoor gemaakt, met tijdelijke bestanden op ramdisk
		. /home/dirk/Documents/shellscripts/startnzbget.sh

- unrar
	# apt-get update
	# apt-get install unrar
	te doen: zien of nzbget PeaZip kan gebruiken)
- 7zip
	# apt-get update
	# apt-get install 7zip-full
- pypar2 1.4-7 via USC
	. met par2cmdline 0.6.14-1
	. These programs are run from a terminal: par2, par2create, par2repair, par2verify

=== Shutter screen capture (standaard prog. 'Screenshot' pakt altijd het Startpanel mee, en crasht teveel) ===

=== 0 PeaZip archive manager ===

- versie 6.0.0 NIET GOED : nukkig, doet onverwachte dingen, werkt met beta van 7z : 7-Zip [32] 15.09 beta

- download van http://www.peazip.org/peazip-linux-64.html:
	. peazip_6.0.0.LINUX.GTK2-2_all.deb
	- installatieinstructies op http://ubuntuhandbook.org/index.php/2016/01/install-peazip-5-9-ubuntu-64-bit/
	$ sudo dpkg -i peazip_6.0.0.LINUX.GTK2-2_all.deb
	- installeert in /usr/local/bin/ en /usr/local/share/PeaZip)
	# apt-get update
	# apt-get install libatk1.0-0:i386 libc6:i386 libcairo2:i386 libgdk-pixbuf2.0-0:i386 libglib2.0-0:i386 libgtk2.0-0:i386 libpango1.0-0:i386 libx11-6:i386 libcanberra-gtk-module:i386

- terug verwijderd (USC)

=== Bitnami LEMP stack (Linux)-NginX-MySql-PHP  ===

- docu: https://docs.bitnami.com/installer/infrastructure/nginx/
- download van https://bitnami.com/stack/nginx/installer
	. bitnami-nginxstack-1.9.14-0-linux-x64-installer.run
	- installeert default naar /home/dirk/nginxstack-1.9.14-0, heb onder die naam een link gemaakt naar /media/sdata/.stacks/nginxstack-1.9.14-0
	. bitnami-nginxstack-1.9.14-0-linux-x64-installer.run permission executable geven en uitvoeren
	- installeren zonder Varnish (cache)
		- naar /home/dirk/nginxstack-1.9.14-0/
		- MySql root account pw vismeel

- zie sectie "localhost_onstrees geinstalleerd als bitnami-app"
	0 configuratie /home/dirk/nginxstack-1.9.14-0/nginx/conf/bitnami/bitnami.conf gewijzigd: in server { location / {
		root   /media/sdata/dirk/Stamboom/localhost_onstrees/webroot/;
	0 configuratie /home/dirk/nginxstack-1.9.14-0/nginx/conf/bitnami/phpfastcgi.conf gewijzigd: location ~ \.php$ {
		root           /media/sdata/dirk/Stamboom/localhost_onstrees/webroot;

- Sinds MySql 5.5 is InnoDB de default database engine van MySql. Mijn tabellen (webtrees EN mysql-schema zelf) gebruiken nog allemaal MyISAM (zit in tabel-creatie van sql-dump), omdat ze altijd zijn meegenomen naar volgende versies. Dat is GOED, de voordelen van InnoDB zitten vooral in multi-user gebruik en betrouwbaarheid (echte transacties en roll back), maar dat is minder relevant voor localhost single-user gebruik. InnoDB vraagt ook veel meer geheugen, zet alle tabellen in 1 bestand, start (soms veel) trager op en is trager (moet heel zijn database lezen) voor simpele zaken als 'query count'. IK BLIJF ZOLANG MOGELIJK OP MyISAM. Om creatie (of backup/restore) van de grote InnoDB-bestanden ibdata1 en ib_logfile0 en ---1 te vermijden, heb ik ineens de InnoDB uitgeschakeld (zie https://dev.mysql.com/doc/refman/5.5/en/innodb-turning-off.html) met
	0 beter op zijn plaats als "innodb=OFF" in /home/dirk/nginxstack-1.9.14-0/mysql/my.cnf) in ./mysql/scripts/ctl.sh definitie van variable
		MYSQL_START="--- --skip-innodb "
	. in ./mysql/my.cnf sectie [mysqld] (OPM: vanaf MySql 5.6 zijn er meer opties nodig, nu voorlopig als commentaar)
		default_storage_engine=MyISAM
		#>5.5	default_tmp_storage_engine=MyISAM
		innodb=OFF
		loose-innodb-trx=0
		loose-innodb-locks=0
		loose-innodb-lock-waits=0
		loose-innodb-cmp=0
		loose-innodb-cmp-per-index=0
		loose-innodb-cmp-per-index-reset=0
		loose-innodb-cmp-reset=0
		loose-innodb-cmpmem=0
		loose-innodb-cmpmem-reset=0
		loose-innodb-buffer-page=0
		loose-innodb-buffer-page-lru=0
		loose-innodb-buffer-pool-stats=0
		#>5.5	loose-innodb-cmp-per-index=0
		#>5.5	loose-innodb-cmp-per-index-reset=0
		#>5.5	loose-innodb-metrics=0
		#>5.5	loose-innodb-ft-default-stopword=0
		#>5.5	loose-innodb-ft-inserted=0
		#>5.5	loose-innodb-ft-deleted=0
		#>5.5	loose-innodb-ft-being-deleted=0
		#>5.5	loose-innodb-ft-config=0
		#>5.5	loose-innodb-ft-index-cache=0
		#>5.5	loose-innodb-ft-index-table=0
		#>5.5	loose-innodb-sys-tables=0
		#>5.5	loose-innodb-sys-tablestats=0
		#>5.5	loose-innodb-sys-indexes=0
		#>5.5	loose-innodb-sys-columns=0
		#>5.5	loose-innodb-sys-fields=0
		#>5.5	loose-innodb-sys-foreign=0
		#>5.5	loose-innodb-sys-foreign-cols=0
- limieten max_execution_time en memory_limit serieus opgerokken in /home/dirk/nginxstack-1.9.14-0/php/etc/php.ini

- CLI starten: achtereenvolgens:
	/home/dirk/nginxstack-1.9.14-0$ ./ctlscript.sh start mysql
	/home/dirk/nginxstack-1.9.14-0$ ./ctlscript.sh start php-fpm
	/home/dirk/nginxstack-1.9.14-0$ ./ctlscript.sh start nginx
- om te stoppen in omgekeerde volgorde:
	/home/dirk/nginxstack-1.9.14-0$ ./ctlscript.sh stop nginx
	/home/dirk/nginxstack-1.9.14-0$ ./ctlscript.sh stop php-fpm
	/home/dirk/nginxstack-1.9.14-0$ ./ctlscript.sh stop mysql
- testen of ze al lopen:
	/home/dirk/nginxstack-1.9.14-0$ ./ctlscript.sh status nginx
	---
- herstarten:
	/home/dirk/nginxstack-1.9.14-0$ ./ctlscript.sh restart nginx
	---
  de flag 'running' uitzetten als we zeker zijn dat ze niet bezig zijn:
	/home/dirk/nginxstack-1.9.14-0$ ./ctlscript.sh cleanpid nginx
	---

- GUI starten met (zie ~/Documenten/shellscripts/startlemp.sh)
	/home/dirk/nginxstack-1.9.14-0/manager-linux-x64.run
  die dan op een of andere manier dit script aanroept om achtereenvolges MySql, Php en dan Nginx te starten:
	/home/dirk/nginxstack-1.9.14-0/ctlscript.sh
  vanuit dat script starten dan (en bij stoppen in omgekeerde volgorde)
	$INSTALLDIR/mysql/scripts/ctl.sh
		bevat o.a. de opties
			--defaults-file=/home/dirk/nginxstack-1.9.14-0/mysql/my.cnf
			--datadir=/home/dirk/nginxstack-1.9.14-0/mysql/data (overschrijft de waarde in my.cnf)
	$INSTALLDIR/php/scripts/ctl.sh
	$INSTALLDIR/nginx/scripts/ctl.sh

- In principe kan de MySql data-map (met de databases) aangepast worden met sleutel in /home/dirk/nginxstack-1.9.14-0/properties.ini
	[MySql]
	mysql_data_directory=/media/sdata/dirk/Stamboom/localhost_onstrees/mysql_data/
  MAAR DIT LUKT NIET want de --datadir parameter in Bitnami-script /home/dirk/nginxstack-1.9.14-0/mysql/scripts/ctl.sh (en de andere scripts in die map!) blijft behouden; dit script best niet wijzigen, wordt wschlk. overschreven bij upgrade.
  Voorlopig gewoon
	- in /etc/fstab een tmpfs (ramdisk) gemount naar defaultmap /media/mysqldata/, en home/dirk/nginxstack-1.9.14-0/mysql/data/ vervangen door symbolic link naar /media/mysqldata
		tmpfs 	/home/dirk/nginxstack-1.9.14-0/mysql/data	tmpfs	size=150M,rw,user,sync,mode=0777
		(oorspronkelijk: 'sudo mount -t tmpfs -o size=150M tmpfs /home/dirk/nginxstack-1.9.14-0/mysql/data')
	- database-mappen naar daar uitpakken van archief met script
		/home/dirk/Documents/shellscripts/startlemp_archiverend.sh
	  (oude versie startlemp.sh doet gewoon kopie van HDD naar ramdisk met 'rsync -r -t --omit-dir-times /media/sdata/dirk/Stamboom/localhost_onstrees/mysql_data/ /home/dirk/nginxstack-1.9.14-0/mysql/data/' (--omit-dir-times omdat -t anders ook timestamp van mountpoint probeert te zetten, en daarop faalt), en na afsluiten indien gewijzigd terug naar HDD met 'rsync -r -c -t -v /home/dirk/nginxstack-1.9.14-0/mysql/data/ /media/sdata/dirk/Stamboom/localhost_onstrees/mysql_data/' (rsync vergelijkt en schrijft alleen gewijzigde blokken))

=== 0 Diodon clipboard manager via USC ===
	constant 13% cpu, luistert niet naar eigen commandos

=== 0 Parcellite clipboard manager via USC ===
	laat zelfs niet toe het clipboard te zien (alleen tekst)

=== 0 xkeycaps is a graphical front-end to xmodmap, slaagt in een knoop ===
	0 sudo apt-get update && sudo apt-get install xkeycaps
	0 sudo apt-get update && sudo apt-get remove xkeycaps

=== extundelete 0.2.4-1 ===
	. USC
	. om verwijderde bestanden op ext3- en ext4-partities te herstellen

=== Autopsy Forensic Browser 2.24-1 ===
	. USC
	. GUI voor Sleuthkit (sleuthkit  4.1.3-11ubuntu2 wordt mee-geinstalleerd)

=== TestDisk partitie en boot record recovery, en PhotoRec file recovery v6.14 ===
	. USC
	. these programs are run from a terminal:
		fidentify, photorec, testdisk

=== Ultracopier bestandskopiëerder à la Teracopy (http://ultracopier.first-world.info/) ===
	# apt-get update
	# apt-get install ultracopier
	>>>
		Helped me to save a lot of files from a corrupted 2TB hdd to a new 3TB hdd. Gnome Nautilus and Midnight Commander could not help me but this program is really cool. I have lost only 1 file from 2TB library. It is trying to re-read bad files several times and in the case of unsuccess it can put a bad file to the end of queue.
	<<<

=== MuPDF ebook-viewer (PDF, XPS, CBZ/CBR en EPUB) ===

- mupdf 1.7a-1 en mupdf-tools 1.7a-1 (USC)
	- mupdf - lightweight PDF viewer
	0 vanaf 1.11 in mutool: mudraw - render to image files, convert to svg or pdf, extract to plain text, html or xml
	- mutool - tool for PDF files : clean, (de)compress, create, extract, info, merge (doet ook split), tile (groot blad over meerdere kleine, ...)

=== VirtualBox (USC van Oracle VBox repository, zie hieronder) ===

- meest recente: zie sectie "Oracle VM VirtualBox 5.2 (USC)"

- USC-zoekterm "Oracle VM VirtualBox" of "virtualbox-5.2" of "...5.1"; "VirtualBox" toont alleen Ubuntu-ondersteunde

- Oracle VBox repository (zie https://www.virtualbox.org/wiki/Linux_Downloads) :
	- zie "_Xubuntu truuks en commandos.adoc" sectie repositories :
	- verificatiesleutel :
		$ wget -q https://www.virtualbox.org/download/oracle_vbox_2016.asc -O- | sudo apt-key add -
		$ wget -q https://www.virtualbox.org/download/oracle_vbox.asc -O- | sudo apt-key add -
		- die 2de (van 2010) is wschlk niet nodig, was voor oudere Ubuntus, doet niets mis die te laten bestaan
	- repository (replace 'xenial' by your distribution) :
		# echo "deb http://download.virtualbox.org/virtualbox/debian xenial contrib" > /etc/apt/sources.list.d/oraclevirtualbox.list

- These programs are run from the terminal:
	VBox, VBoxAutostart, VBoxBalloonCtrl, VBoxBugReport, VBoxDTrace, VBoxHeadless, VBoxManage, VBoxSDL, VBoxTunctl, VBoxVRDP, VirtualBox, rdesktop-vrdp, vbox-img, vboxautostart, vboxballoonctrl, vboxbugreport, vboxheadless, vboxmanage, vboxsdl, vboxwebsrv, virtualbox

ZIE OOK _VirtualBox.txt

0 To install VirtualBox, do
	# apt-get update
	# apt-get install virtualbox-5.0
	- versie 5.0.20 terug verwijderd (USC)
	- VirtualBox extension pack 5.0.20r106931
		- downloaden met Firefox
		- zoals voorgesteld openen in VirtualBox

- Settings/Users and Groups/Manage Groups
	VBoxusers/properties/Group members/ v Dirk
- Settings/Users and Groups/Dirk/Advanced settings/Privileges
	v Use VirtualBox virtualisation solutions

0 versie 5.1.8 (-111374~Ubuntu~xenial) :
	- kan ook via USC (zoekterm "Oracle VM VirtualBox" of "virtualbox-5.1")
	# apt-get update
	# apt-get install virtualbox-5.1
	- bij 1ste nieuwe start VirtualBox: OK op vraag om nieuw extension pack (5.1.8r111374) te installeren
		- in elke Windows VM best terug opstarten in veilige mode (?is dit nog nodig in Win7 en Win10?), en nieuwe 'guest additions cd' installeren

- dkms :
	- NOOT: versie 2.2.0.3 autom. geïnstalleerd op 8-5-2016 met virtualbox (5.1) zelf
	- Ubuntu/Debian users might want to install the dkms package ("Dynamic Kernel Module Support Framework") to ensure that the VirtualBox host kernel modules (vboxdrv, vboxnetflt and vboxnetadp, zie https://www.virtualbox.org/manual/ch02.html#externalkernelmodules) are properly updated if the linux kernel version changes during the next apt-get upgrade. For Debian it is available in Lenny backports and in the normal repository for Squeeze and later. The dkms package can be installed through the Synaptic Package manager or through the following command:
	# apt-get update
	# apt-get install dkms

=== Qemu utilities om Virtualbox .vdi e.a. virtual-drive-bestanden te mounten ===

- zie _VirtualBox.adoc sectie "Virtualbox Virtual Drive mounten in Linux"

- Installeren :
	# apt-get update
	# apt-get install qemu-utils
	OF
	USC
		- These programs are run from a terminal :
			ivshmem-client, ivshmem-server, qemu-img, qemu-io, qemu-make-debian-root, qemu-nbd
		- optional add-ons :
			x sharutils : shar, unshar, uuencode, uudecode
			0 debootstrap : bootstrap a basic Debian system
	- blijkbaar is ook qemu-block-extra geïnstalleerd: "Extra block backend modules for qemu-system and qemu-utils"

=== 0 gksu / gksudo : GUI-programma's openen met superuser rechten ===

- USC

- Afgeraden wordt hiervoor [GUI programmas] sudo te gebruiken (b.v. environment-variabele HOME blijft == user, waardoor b.v. ~/.Xauthority en configuratiebestanden voor dat GUI-programma in de HOME van user worden overschreven met root als owner, dus niet meer toegankelijk voor user zelf).

- pkexec (Policy Kit exec) doet hetzelfde als gksu, is standaard.

- terminalgebruiker op root zetten:
	$ sudo -i
	- ZIE "_Xubuntu truuks en commandos.adoc"
	- vervangt ineens environment van user door die van root
	- GUI commandos kunnen vanuit deze prompt veilig gestart worden
	- GUI commando in achtergrond uitvoeren door er '&' achteraan te zetten, dan best stdout en stderr naar /dev/null pipen:
		# guiopdracht >& /dev/null &

- Xubuntu docs http://docs.xubuntu.org/1604/user/C/command-line.html :
	>>>
		If the program you wish to run as an administrator is graphical, such as the Mousepad text editor, run the command prefixed with pkexec in the command line. For example, to run Mousepad with administrative rights, run the command pkexec mousepad /path/to/file.
		[Note] Please note that for an application to run successfully with pkexec, it will need to ship a pkexec policy file. All default applications in Xubuntu that might need to be ran with administrative rights come with pkexec policy files.
	<<<

=== 0 mkvtoolnix ===

- https://mkvtoolnix.download/downloads.html

- You first have to import my public GPG key because all of my pools are signed :
	>>> zie "_Xubuntu truuks en commandos.adoc" sectie repositories
		https://mkvtoolnix.download/gpg-pub-moritzbunkus.txt
	<<<
0 You can get the package by adding the following lines to your /etc/apt/sources.list (for Version 16.04 "Xenial Xerus"):
	deb http://mkvtoolnix.download/ubuntu/xenial/ ./
	deb-src http://mkvtoolnix.download/ubuntu/xenial/ ./
0 Now simply run
	# apt-get update
	# apt-get install mkvtoolnix mkvtoolnix-gui

=== gnome-sudoku verwijderd via USC/Installed/Games ===

=== Firefox optional add-on "Extension to watch videos without Flash plugin (xul-ext-video-without-flash)" toegevoegd via USC/Installed/Internet/Firefox Web Browser ===

=== Samba installeren om network shares te maken (OPGELET: ging niet vanzelf) ===
	# apt-get update
	# apt-get install samba
Installeert een hele reeks bijkomende pakketten, gaf de eerste x keren een fout:
	---
	Setting up samba (2:4.3.11+dfsg-0ubuntu0.16.04.1) ---
	Job for smbd.service failed because the control process exited with error code. See "systemctl status smbd.service" and "journalctl -xe" for details.
	invoke-rc.d: initscript smbd, action "start" failed.
	dpkg: error processing package samba (--configure):
	 subprocess installed post-installation script returned error exit status 1
	---
	Errors were encountered while processing:
	 samba
	E: Sub-process /usr/bin/dpkg returned an error code (1)

De (nutteloze) 'details' van "systemctl status smbd.service" zijn:
	● smbd.service - LSB: start Samba SMB/CIFS daemon (smbd)
	   Loaded: loaded (/etc/init.d/smbd; bad; vendor preset: enabled)
	   Active: failed (Result: exit-code) since di 2016-10-25 22:03:54 CEST; 47s ago
	 	Docs: man:systemd-sysv-generator(8)
	okt 25 22:03:54 FRT systemd[1]: Starting LSB: start Samba SMB/CIFS daemon (smbd)---
	okt 25 22:03:54 FRT smbd[5713]:  * Starting SMB/CIFS daemon smbd
	okt 25 22:03:54 FRT smbd[5713]:    ---fail!
	okt 25 22:03:54 FRT systemd[1]: smbd.service: Control process exited, code=exited status=1
	okt 25 22:03:54 FRT systemd[1]: Failed to start LSB: start Samba SMB/CIFS daemon (smbd).
	okt 25 22:03:54 FRT systemd[1]: smbd.service: Unit entered failed state.
	okt 25 22:03:54 FRT systemd[1]: smbd.service: Failed with result 'exit-code'.

De (nutteloze) 'details' van "journalctl -xe" zijn:
	okt 25 22:03:54 FRT systemd[1]: Starting LSB: start Samba SMB/CIFS daemon (smbd)---
	-- Subject: Unit smbd.service has begun start-up
	-- Defined-By: systemd
	-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel
	--
	-- Unit smbd.service has begun starting up.
	okt 25 22:03:54 FRT smbd[5713]:  * Starting SMB/CIFS daemon smbd
	okt 25 22:03:54 FRT smbd[5713]:    ---fail!
	okt 25 22:03:54 FRT systemd[1]: smbd.service: Control process exited, code=exited status=1
	okt 25 22:03:54 FRT systemd[1]: Failed to start LSB: start Samba SMB/CIFS daemon (smbd).
	-- Subject: Unit smbd.service has failed
	-- Defined-By: systemd
	-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel
	--
	-- Unit smbd.service has failed.
	--
	-- The result is failed.
	okt 25 22:03:54 FRT systemd[1]: smbd.service: Unit entered failed state.
	okt 25 22:03:54 FRT systemd[1]: smbd.service: Failed with result 'exit-code'.
Mogelijke oorzaken die op het net te vinden zijn:
- foute regels in een evt. oud bestand /etc/samba/smb.conf dat niet overschreven wordt bij de installatie
- in USC/Software sources tab 'Ubuntu Software' Download from: locale server

OPLOSSING
- mogelijk niet alle stappen nodig, maar dit werkte

	. Download from: tijdelijk terug op 'Main server' gezet
	# apt-get remove --purge samba samba-combine samba-combine-bin
	- remove --purge kuist grondiger op, hierna bleek heel /etc/samba verwijderd te zijn
	# apt autoremove
	- verwijderd pakketten die niet meer nodig zijn, o.a. de dependencies van samba die evt. nog van de locale server kwamen bij de eerste poging
	- 2 x gedaan, om evt. nieuwe (on)afhankelijkheden ook op te ruimen
	# apt-get update
	# apt-get install samba
	- installeert de hele zwik terug, nu van de main server
	. in /etc/samba/smb.conf (sectie [global] :
		- zie "_Xubuntu truuks en commandos.adoc" sectie "Samba configuratie wijzigen"
		- origineel bewaard als smb.conf.ORIG
		- workgroup = BOCO
		- usershare owner only = false
			- voorkomt "net usershare add: cannot share path /media/ramdisk/ as we are restricted to only sharing directories we own."
		- [homes] geactiveerd
		- share om vanaf de tablet naar te schrijven, met de naam [tablet], en in terminal:
			mkdir $HOME/Public/tabletRW
			chmod 766 $HOME/Public/tabletRW
		- shares zouden ook in dit bestand gedefinieerd moeten kunnen worden, maar dat werkt niet zo direct. Zie "_Xubuntu truuks en commandos" sectie "Folders delen op het netwerk"
		- bewaren als smb.conf.nieuw en testen vooraleer smb.conf zelf te overschrijven :
			$ testparm  /etc/samba/smb.conf.nieuw
	. Download from: via [other ---/choose a download server/Select Best Server] terug op 'ftp.belnet.be' gezet
	$ sudo  smbpasswd -a dirk
	- en 2x een paswoord voor de netwerk share intikken
	$ sudo  smbpasswd -e dirk
	- om de nieuwe user te enablen
OPM: shares geconfigureerd in /etc/samba/smb.conf nog niet werkend gekregen, 'net usershare add' werkt wel (zie _Xubuntu truuks en commandos.adoc : Folders delen op het netwerk); mogelijk is hieraan verholpen nu ik een user heb gemaakt met smbpasswd (zie boven), want er wordt sindsdien vanzelf een share 'dirk' getoond

OPM: de samba-service heet in Ubuntu niet samba, maar smbd (van Samba Daemon of zoiets), dus
	. om te checken of hij werkt: sudo service smbd status
	. om te [her]starten: sudo service smbd [re]start

=== Wine en Playonlinux (POL) ===

- Zie ook _Wine-PlayOnLinux.txt

- default wineprefix in /tmp
	- wordt soms ongewild aangemaakt, door ergens op een .exe of zo 'uitvoeren in wine' te kiezen
	- in $HOME/.profile deze lijnen toegevoegd:
	>>>
		if [ ! -d /tmp/.wine64 ] ; then
			mkdir /tmp/.wine64
		fi
		export WINEPREFIX=/tmp/wine64
	<<<

- POL installeren
	0 SYSTEEM-wine NIET VERWIJDEREN, staat apart van de wine versies beheerd door POL zelf; is de Wine-versie 'default' in de configuratie van POL virtual drives. Bovendien, als ge dit doet na installatie van POL, verwijdert remove van Ubuntu's Wine ook POL. Eventueel wel vervangen door WineHQ's laatste versie uit staging of development branch (zie https://wiki.winehq.org/Ubuntu)
	# apt-get update
	# apt-get install playonlinux
	- OPM: installeert ook MSWindows fonts, niet schrikken van popup in de terminal om licentie te aanvaarden); geeft aantal foutmeldingen "Can't drop privileges for downloading as file '/var/lib/update-notifier/package-data-downloads/partial/andale32.exe' couldn't be accessed by user '_apt'. - pkgAcquire::Run (13: Permission denied) " en andere .exe's, waarin die fonts zitten, wschlk omdat dat geen linux executables zijn. Is OK, dat zijn sfx-cabs waar de installer verderop de fonts uithaalt

- wine-versies en wineprefixes op HDD plaatsen i.p.v. op SSD: de mappen /home/dirk/.PlayOnLinux/wine en
/home/dirk/.PlayOnLinux/wineprefix vervangen door symbolic link naar de hdd :
	$ mkdirk /media/sdata/.playonlinux
	- mappen ~/.PlayOnLinux/wine, .../wineprefix, .../fonts en .../ressources ('...ss...' !) verplaatsen (thunar is ok) naar daar, en link maken (best zonder eind-/, die wordt anders dubbel opgenomen, is niet erg maar voor niets goed)
		$ ln -s /media/sdata/.playonlinux/wine /media/sdata/.playonlinux/wineprefix /media/sdata/.playonlinux/fonts /media/sdata/.playonlinux/ressources ~/.PlayOnLinux/ressources
	- voor eigen gemak ook :
		$ ln -sT "/home/dirk/.PlayOnLinux/wineprefix" "/home/dirk/PlayOnLinux's virtual drives"
- Opstarten via startmenu: Games - Playonlinux

- Dragon Naturally Speaking 11 installeert met foutbericht "err:winediag:SECUR32_initNTLMSP ntlm_auth was not found or is outdated. Make sure that ntlm_auth >= 3.0.25 is in your path. Usually, you can find it in the winbind package of your distribution." ==> daarom:
	. winbind met opties Samba nameservices integration (libnss-winbind) en Windows domain authentication integration (libpam-winbind) installeren via USC

- zie "_POLwineprefix 2.11 Win7x86PROGS.txt" e.a. _POL*.txt

=== checkinstall ===

Package om installatie van zelf-gecompileerde programma's beter te ordenen dan gewoon 'make install' (https://help.ubuntu.com/community/CheckInstall).
	# apt-get update
	# apt-get install checkinstall
	>>>
		CheckInstall keeps track of all files installed by a "make install" or equivalent, creates a Slackware, RPM, or Debian package with those files, and adds it to the installed packages database, allowing for easy package removal or distribution. Use CheckInstall instead of just running "sudo make install", as that will likely put files all over the filesystem, with no easy way of removing them if things go wrong. If in the future you try to install a package that contains the same file as the software you are compiling, you will receive errors and the software you compiled may stop working. Instead of
			sudo make install
		you will use
			sudo checkinstall
		When called with no arguments, checkinstall will call "make install". If you need other arguments, they can be supplied:
			sudo checkinstall make install_package
		The installed package can then also easily be removed via Synaptic or via the terminal:
			sudo dpkg -r packagename
	<<<

=== 0 fdupes (fdupes is a program for identifying duplicate files residing within specified directories) ===

NIET installeren, gewoon zelf compileren (zie c/fdupes-master) en in ~/bin zetten

gebruikt md5sum en byte compare om gelijke bestanden te vinden in 2 mappen.
- niet die via USC, is versie 1.51 van 'google code' (https://code.google.com/archive/p/fdupes/), kan nog niet sorteren. Het project is (luidens de google code project pagina zelf!) verhuisd naar github, waar de versienummering helaas anders is.
- 1.6.1 gedownload van https://github.com/adrianlopezroche/fdupes naar ~/documenten/c_linux/fdupes-master
- optie reverse geimplementeerd in fdupes.c->sort_pairs_by_filename
- optie regex op bestandsnaamm en optie case-insensitive
- optie duplicaten hernoemen zoals eerste geselecteerde duplicaat
- optieletters aangepast (vooral voor sort)

0 instructies in INSTALL aangepast omdat
	- Ubuntu het voorgestelde gebruik van su blokkeert door 'root te locken'
	- het package checkinstall (zie hierboven) beter lijkt dan 'make install'
	- na verhuis naar github werd versie 1.51 opgevolgd door 1.6, maar Ubuntu software update vind 1.51 natuurlijk een latere versie
0 gecompileerd en geinstalleerd volgens ./INSTALL (zie aldaar)

=== archivemount ===

- USC
- hiermee archieven (zip, tar ---) mounten, via de systeemversie van fuser
- zie _Xubuntu truuks en commandos.adoc sectie MOUNT

=== libjpeg-turbo-progs ===

- USC
- cjpeg, djpeg, exifautotran, jpegexiforient, jpegtran, rdjpgcom, wrjpgcom
- de programma's van de IJPEG groep zoals in Windows, die de snelle implementatie van libjpeg-turbo8 gebruiken

=== mscorettffonts ===

Waren al geinstalleerd, maar krak dezelfde fonts werden bij autom. update terug gedownload om weer te installeren. Zie "_Xubuntu truuks en commandos.adoc" sectie "langlopende reeks problemen met ttf-mscorefonts-installer" voor details

== PROGS NA BACKUP 161222  ==

=== Meld Diff Viewer ===

- USC
- in Xfce-menu Development als Meld of 'Diff viewer'
- Meld is a visual diff and merge tool targeted at developers. Meld helps you compare files, directories, and version controlled projects. It provides two- and three-way comparison of both files and directories, and has support for many popular version control systems.

=== jstest-gtk Joystick testing and configuration tool : USC ===

=== gpart : hulppakket voor gparted, om 'device/attempt data rescue' te kunnen doen na overschrijven begin partitie ===

=== MS Windows 10 op Seagate-schijf ===

- ZIE " _MS Windows 10 installatie.txt"

=== memtest86 op SSD en Toshiba ===

- zie GEZIPTE.PRG/_OFFICIELE DOWNLOADS/PassMark MemTest86/LEESMIJ.TXT

- In EFI System Partition (ESP) van een of meer schijven zetten, b.v. label M2EFI (mijn Samsung SSD) of label TEFI (mijn Toshiba HDD):
	# mount Memtest86-7.2.iso /cdrom
	# mount LABEL=TEFI /mnt
	# cd /mnt/EFI
	# mkdir memtest86
	# rsync -rlptD /cdrom/efi/boot/ .

- UEFI-bios-setup blijft alleen booten van (EFI System Partition)/EFI/ubuntu, dus we moeten memtest86 in het grub-menu zetten
	# spawn mousepad /etc/grub.d/40_custom
		- zie "/etc/grub.d/40_custom"
	- opslaan natuurlijk
	- nieuwe grub.cfg maken : zie "_Xubuntu truuks en commandos.adoc" sectie "toevoegen aan opstartmenu grub"

=== 0 Firefox optional add-on "Menu Wizard" toegevoegd via Firefox om keyboard shortcuts in te stellen ===
	- weet niet wat er mis ging, maar staat disabled

=== xCHM chm-viewer ===

- xCHM (USC)
	- opent geen bestandsnamen met niet-ASCII, index op b.v. "Duden = Das große Wörterbuch der deutschen Sprache.chm" gaat enkel naar de blz., niet naar het lemma.

- alternatieven
	- zie sectie "kchmviewer zelf gecompileerd"
	- libchm-bin (USC) installeert binaries chm_http, enum_chmLib, enumdir_chmLib, extract_chmLib, test_chmLib
		- chm-http : simpele webserver om inhoud van .chm-bestand te browsen (in VM geïnstalleerd, en gebruikt om "Duden = Das große Wörterbuch der deutschen Sprache.chm" te kopiëren naar html)
		- extract_chmLib : .chm-bestand helemaal uitpakken (de bestanden #*.* en $*.* zijn ondersteunend voor hh.exe, niet nodig om de inhoud zelf te verwerken)
	- Firefox chm add-ons werken NIET :
		0 chmFox 2.10.1 van Zhuo Qiang (opent in oneindige loop nieuwe browsertabs)
		0 CHM Reader 0.2.3 van Sarah Av./lonecatz (Firefox wil die zelfs niet installeren, ook niet de Linux-xpi van sourceforge)
	- hh.exe van Wine toont chm-bestanden mooi met opmaak, maar start traag, en vindt niet alles uit de index van JDK8 javadoc
	- hh.exe van XP SP3 (zie .win-gschijf/PROGRAMS/XPHelp) werkt goed in wine voor Frank Allimant's Javadoc, niet voor "Duden = Das große Wörterbuch der deutschen Sprache.chm"

=== bashdb BASH debugger via USC ===

=== lame 3.99.5+repack1-9build1 (includes frontend) via USC ===

- de 'frontend' is het CLI-commando 'flac', geen GUI. De backend zijn de bibliotheken

=== flac 1.3.1-4 via USC ===

- https://xiph.org/flac/documentation_tools.html

- flac - The command-line encoder and decoder.
- metaflac - The command-line metadata editor.

=== shntool 3.0.10-1 via USC ===

- Multi-purpose tool for manipulating and analyzing WAV files

- met add-ons cuetools, flac, sox, wavpack

- These programs are run from a terminal:
	- shncat, shncmp, shnconv, shncue, shnfix, shngen, shnhash, shninfo, shnjoin, shnlen, shnpad, shnsplit, shnstrip, shntool, shntrim
	- cuebreakpoints, cueconvert, cueprint, cuetag
	- flac, metaflac
	- play, rec, sox, soxi
	- wavpack, wvgain, wvunpack

- /usr/bin/cuetag in een sh-script met te weinig quotes rond variabelen, en werkt o.a. daardoor niet zoals het bedoeld was; ik heb een betere bash-versie gemaakt in ~/bin/cuetag

- SoX : Sound eXchange, the Swiss Army knife of sound processing programs. A command line utility that can convert various formats of computer audio files in to other formats. It can also apply various effects to these sound files, and, as an added bonus, SoX can play and record audio files on most platforms.
	- http://sox.sourceforge.net/

=== jpeginfo 1.6.0-6 via USC ===

=== OpenJDK 1.8 JDK ===

0 NIET via USC, heeft alleen openjdk-8-jre

- jdk installeren
	# apt-get update
	# apt-get install openjdk-8-jdk
	$ java -version
		openjdk version "1.8.0_03-Ubuntu"
		OpenJDK Runtime Environment (build 1.8.0_03-Ubuntu-8u77-b03-3ubuntu3-b03)
		OpenJDK 64-Bit Server VM (build 25.03-b03, mixed mode)
	0 NIET NODIG met eclipse: apt-get install openjdk-8-source openjdk-8-doc :
	- Eclipse javadoc location voor rt.jar staat  vanzelf op https://docs.oracle.com/javase/8/docs/api/
	0 source met de hand gedownload van http://download.java.net/openjdk/jdk8/ naar /media/sdata/DOCS/JDK8/openjdk-8-src-b132-03_mar_2014.zip, is volledige JDK-source, niet alleen .java van rt.par, en in mapstructuur met share/, windows/, ---- Alhoewel bij debuggen deze source-code niet merkbaar erger uit sync is met de .class, misschien beter toch met de src.zip van apt-get werken:
	- source met file-roller uitgepakt van archief "/var/cache/apt/archives/openjdk-8-source_8u77-b03-3ubuntu3_all.deb" naar /media/sdata/DOCS/JDK8/openjdk-8-source_8u77-b03-3ubuntu3_all.deb_src.zip

- classpath in ~/.pam_environment
	CLASSPATH=.:/home/dirk/Documents/java/UTIL

- symbolic links
	# cd /usr/lib/jvm/java-8-openjdk-amd64/jre/lib/ext
	# ln -s /home/dirk/Documents/java/Applicet/REDIST/prodjar/ApplicetLN.jar
	# ln -s /home/dirk/Documents/java/Applicet/REDIST/prodjar/JApplicetLN.jar
	# ln -s /home/dirk/Documents/java/BigDecimal/ArciMath.jar

- .desktop launchers voor Stafke gemaakt in /home/dirk/.local/share/applications/ :
	- Stafke_Kadaster_NL.desktop
	- Stafke_NGI_BE.desktop

- openjdk-8-source (USC)

=== Eclipse Neon 4.6.2 ===

0 NIET via USC, heeft alleen stokoude 3.8 (Indigo met Juno-updates)

- De default installatie-packages zijn voor het grote werk (Mylyn, Mave, git etc. zit er allemaal bij).
- De installer van die installatiepackages installeert bij verstek in /home/dirk/workspace; kunnen de naakte 'platform runtime binary' ook downloaden als tar.gz, met de hand uitpakken in b.v. (aanbevolen) /opt), en dezelfde toegangsrechten geven als de workspace in /home/dirk, of wschlk. is groepstoegang al genoeg: 'chown -R :dirk /opt/eclipse'
- ZIE Getting a lightweight installation of Java Eclipse (http://stackoverflow.com/questions/2992749/getting-a-lightweight-installation-of-java-eclipse)

- Download-site:  http://download.eclipse.org/eclipse/downloads/ , kies een release (Neon 4.6.2
  (zie lijst afkortingen op http://download.eclipse.org/eclipse/downloads/drops4/R-4.6.2-201611241400/details.html)
	- download Platform Runtime Binary : eclipse-platform-4.6.2-linux-gtk-x86_64.tar.gz
	- gewoon uitpakken (als root) naar /opt (met behoud directorytree ./eclipse)
	- om als lid van groep 'dirk' packages bij te kunnen installeren (zonder schrijftoegang tot de installatiemap van eclipse wordt anders alle bijkomende software die in Eclipse via 'Help, Install software' wordt geinstalleerd, in de workspace, d.i. in de home directory van de gebruiker gezet. Daarom (kan zeker geen kwaad, default is de hele installatie van Eclipse in de home directory, en dus zelfs owner dirk:dirk) :
	# chown :dirk -R /opt/eclipse
	- .desktop launcher gemaakt in /home/dirk/.local/share/applications/ :
		[Desktop Entry]
		Type=Application
		Version=1.1
		Name=Eclipse
		Generic=Java IDE
		Comment=Integrated Development Environment
		Icon=/opt/eclipse/icon.xpm
		Encoding=UTF-8
		Exec=/opt/eclipse/eclipse
		Path=/home/dirk/Documents/java
		Terminal=false
		Categories=Development;IDE;
	- in /opt/eclipse/eclipse.ini, args voor eclipse (na -vmargs, 1 arg per lijn) : -Xmx800m
	- download Java development tools SDK (JDT SDK) : org.eclipse.jdt.source-4.6.2
		- contains the JDT Runtime binary with associated source and programmer documentation:
			- JDT Runtime Binary : contains the Java development tools bundles only, with user documentation and no source and no programmer documentation. The Eclipse platform and Plug-in development environment are NOT included. You can combine this with the Platform Runtime Binary

- Eclipse JDT Java Development Toolkit : eclipse opstarten, via help/install new software de nodige packages installeren. Ofwel via de standaard site, maar die biedt niet alles aan, b.v. wel JDT Runtime binary, maar niet JDT SDK inclusief Runtime binary, ofwel eerst downloaden en dan installeren; hier het laatste
	- pad naar packages gewoon invullen in 'Work with' en enteren (resource sites kunnen ook blijvend toegevoegd worden via [Add---])
	- Bij "There are no categorized items" onder 'Details' het hokje 'Group items by category' uitvinken.
	v Eclipse Java Development Tools (Eclipse Java development tools (binary runtime and user documentation).)
	v Eclipse JDT Plug-in Developer Resources (API documentation and source code zips for Eclipse Java development tools.)

- In 'Window/preferences/Java/Installed JREs/Edit/JRE System Libraries' source code en javadoc koppelen aan rt.lib, BigDecimal.jar (source uit ./BigDecimal/UNMUNGED) ApplicetLN.jar en JApplicetLN.jar (javadoc uit /home/dirk/Documents/www/SHAREIT/RELEASES/applicet.zip, archive-path /javadoc)

=== 0 Freeplane-1.5.18-1 backport for Ubuntu-16.04 LTS ===

zie /GEZIPTE.PRG/UBUNTU/freeplane-backport-1.5.18-1  for Ubuntu-16.04 LTS.txt
- met freeplane scripting API : groovy
	- java-achtige script-taal gekoppeld aan JVM en javac
	- ook los van freeplane te gebruiken
- met simply-htmldoc API documentation

- evt. met XPra op Android+Java te gebruiken
	- https://github.com/jksiezni/xpra-client
- beperkte Android-viewer :
	- https://github.com/bekoeppel/droidplane
		- ontwikkeling ligt al 3 jaar stil
- eenvoudige Android-mindmap voor Freeplane formaat :
	- https://bitbucket.org/tomthe/mindbike-mindmapping/overview
		- in alpha, ontwikkeling ligt al jaar stil

== PROGS NA BACKUP 170215  ==
Opgelet: "$mountpoint/tmp/.*" was niet exluded, dus na restore "$mountpoint/tmp" leegmaken
	*****************

=== 0 Test power-up in standby voor Toshiba-schijf: ===

- powerup van alle schijven is onvermijdelijk, want Ubuntu vult zo /dev/disk/by-*

- Met al deze instellingen, wordt de Toshiba-schijf toch nog aan het draaien gebracht, al is het dan pas na grub, bij opstarten Ubuntu van de SSD :
	- power-up in standby enabled voor Toshiba-schijf :
		# hdparm -s1  --yes-i-know-what-i-am-doing  /dev/sdb
	- in UEFI-bios "MSI Fast boot" enabled, zodat BIOS geen SATA en USB-schijven zoekt (anders wordt Toshiba-schijf toch al aan het draaien gebracht vóór grub)
	- in /boot/grub/grub.cfg en /boot/efi/EFI/ubuntu/grub.cfg de search-opdrachten voorzien van hints (en menu-entries voor booten van Toshiba-schijf tijdelijk in commentaar gezet) :
			if [ x$feature_platform_search_hint = xy ]; then
				search --no-floppy --hint=(hd3,gpt2) --hint=(hd4,gpt2) --fs-uuid --set=root  88e332dc-deb9-4c9c-9dfc-e0afe7ad45bd
			else
				---
			fi
	- in /etc/fstab mount-opties user,noauto voor /media/tarch

=== ****** FULL-UPGRADE naar Xubuntu 16.04.2 ****** ===

- in launcher 'Settings/Software & Updates' tab 'Updates' tijdelijk alles op gezet:
	v Importamt security updates (xenial-security)
	v Recommended updates (xenial-updates)
	v Unsupported updates (xenial-backports)
	maar nog altijd 'NEVER automatically check for updates

- commandline upgrade naar o.a. Ubuntu 16.04.2 LTS met kernel 4.4.0-62 (van 4.4.0-53)
	- alle USB-schijven waarvan ge ooit wilt booten, insteken (mounts niet nodig), zodat ze in grub-menu komen
	- backup nemen van /boot/grub/grub.cfg , want die wordt gewijzigd om op te starten met nieuwe kernel, en als Medion-usbschijf niet aangesloten is dan verdwijnt die uit het bootmenu
	# apt-get update
	# apt-get full-upgrade
	- zie /media/tarchs/.backups/170216_full_upgrade.log
	- desnoods booten van MEDION-usb terug in /boot/grub/grub.cfg zetten (met WinMerge van kopie op ramdisk van grub.cfg en zijn backup)

=== ppa-purge ===

- a bash shell script capable of automatically downgrading all packages in a given PPA back to the ubuntu versions
	# apt install ppa-purge

=== Wine - semi-manuele update naar 2.0 stable ===

0 USC heeft zowel onder 'Microsoft Windows Compatibility Layer (meta package)' als onder 'Wine Windows Program Loader' maar versie 1.6.2. Het is de laatste die geïnstalleerd is (de 1ste is enkel het meta-package, die naar de laatse verwijst)

- remove 'Wine Windows Program Loader' in USC
	- verwijdert ook PlayOnLinux, maar niet de instellingen en wineprefixes daarvan

- beschikbare ppa's:
	- het Wine team (https://launchpad.net/~wine), vooral Sebastian Lackner, publiceert staging en developing versies. Official Wine builds (https://launchpad.net/~wine/+archive/ubuntu/wine-builds) :
		0 add-apt-repository ppa:wine/wine-builds
		0 apt-get update
	- het Ubuntu Wine Team (https://launchpad.net/~ubuntu-wine), Scott Ritchie and Maarten Lankhorst, publiceert betas voor meerdere Ubuntu versies. (Ubuntu) Wine team ppa (https://launchpad.net/~ubuntu-wine/+archive/ubuntu/ppa) :
		# add-apt-repository ppa:ubuntu-wine/ppa
		# apt-get update
		- heeft op 16-2-2017 nog geen gecompileerde 2.0, alleen 1.8:
		- in USC onder 'Microsoft Windows Compatibility Layer (meta package)', niet onder 'Wine Windows Program Loader'
	- Rico Tzschichholz (https://launchpad.net/~ricotz), aspirant-lid van het 'ubuntu wine team', heeft wine2.0 x64 gecompileerd. Zijn 'unstable ppa' (https://launchpad.net/~ricotz/+archive/ubuntu/unstable) publiceert wel de stable-version 2.0 van wine :
		- zie "_Xubuntu truuks en commandos.adoc" sectie repositories :
			# add-apt-repository ppa:ricotz/unstable
			# apt-get update
		!!!! BELANGRIJK na installatie van wine 2.0 terug uitvlaggen in 'Settings/Software & updates/other software', want RicoTz publiceert in deze ppa wel degelijk UNSTABLE packages (zie b.v. 'apt list --upgradable')
		0 installeer via USC (zoekterm 'wine')  'Microsoft Windows Compatibility Layer (meta package)' geeft nog altijd maar v1.8.6, 'Wine Windows Program Loader' blijft zelfs op 1.6.2, daarom manueel installeren :
		0 'apt install wine2.0' raadt aan om eerst 'apt autoremove' te doen, om o.a. een paar restanten van vorige wine te verwijderen
		- backup nemen van /boot/grub/grub.cfg, want die wordt gewijzigd door autoremove, Indien bootable usb-schijf Medion niet gedetecteerd wordt, die menuentry er terug bijzetten:
		- alle USB-schijven waarvan ge ooit wilt booten, insteken (mounts niet nodig), zodat ze in grub-menu komen
		# apt autoremove
		# apt install wine2.0 winetricks playonlinux
		- na install van wine2.0, de 'unstable ppa' van RicoTz uitvlaggen in 'Settings/Ssoftware & updates/other software' :
			_ https://ppa.launchpad.net/ricotz/unstable/ubuntu xenial main
		- als wine2.0 van Ricotz problemen geeft, terug naar defaultversie van Ubunut gaan met
			- sudo ppa-purge ppa:ricotz/unstable
	- even terug Playonlinux openen, en tab 'Tools/manage wine versions' openen om die terug 'in herinnering' te brengen
	- In USC onder PlayOnLinux nog snel even bij geïnstalleerd:
		v DOSBox Emulator (dosbox)
	- procedure voor 'wine file association hijack vermijden' (zie "_Wine-PlayOnLinux.txt")
		- deze keer alleen optie -a verwijderen van winemenubuilder in /usr/share/wine/wine.inf sectie [Services]
		- wschlik. is hetzelfde in de verschillende $WINEPREFIX/system.reg van PlayOnLinux wineprefixen niet nodig

- fout in playonlinux.log van oude wineprefix (wine 1.9.22 32-bits) met Dragon Naturally speaking NL 11 Premium:
	"p11-kit: couldn't load module: /usr/lib/i386-linux-gnu/pkcs11/gnome-keyring-pkcs11.so: /usr/lib/i386-linux-gnu/pkcs11/gnome-keyring-pkcs11.so: cannot open shared object file: No such file or directory" : zie https://www.codeweavers.com/support/wiki/linux/faq/ubuntu_keyring
	- zou redelijk 'onschadelijk' zijn, maar toch:
	# apt-get install libp11-kit-gnome-keyring:i386

=== equivs (Circumvent Debian package dependencies) ===

- t.b.v. 'vanilla'-installatie van TexLive (d.w.z. met de eigen installer van TexLive, niet met apt noch met USC

- USC

- These programs are run from a terminal:
	- equivs-control : create a configuration file for equivs-build
	- equivs-build : make a Debian package to register local software
	>>>
		This package provides a tool to create trivial Debian packages. Typically these packages contain only dependency information, but they can also include normal installed files like other packages do.
		One use for this is to create a metapackage: a package whose sole purpose is to declare dependencies and conflicts on other packages so that these will be automatically installed, upgraded, or removed.
		Another use is to circumvent dependency checking: by letting dpkg think a particular package name and version is installed when it isn't, you can work around bugs in other packages' dependencies. (Please do still file such bugs, though.)
	<<<

=== Tex Live 2016 ===

- OPGELET Tex Live 2017 is de laatste voor Windows XP
	>>>
	It is possible to install an older version of TeX Live by pointing the TeX Live installer to a repository from the archive of historical versions of TeX Live. This is how you would install TeX Live 2017:
		$ ./install-tl -repository ftp://tug.org/historic/systems/texlive/2017/tlnet-final
	It may be necessary to use the TeX Live installer for the specific TeX Live version, such as ftp://tug.org/historic/systems/texlive/2017/tlnet-final/install-tl.zip for TeX Live 2017.
	<<<

- install gids op https://www.tug.org/texlive/doc/texlive-en/texlive-en.html sectie "3 Installation"
	- kan in home of waar dan ook geïnstalleerd worden, installer heeft optie om symlinks in standard directories te maken voor
		- binaries : /usr/local/bin
		- manpages : /usr/local/share/man
		- info : /usr/local/share/info
	- default locatie is /usr/local/texlive/2016 (releasejaar), maar volgens de File Hierarchy Standard FHS hoort dit pakket ongetwijfeld thuis in /opt. Zoals voor Eclipse t.b.v. bij-installeren van pakketten de installatiemap onder controle van gebruiker plaatsen (anderen maken een speciale gebruiker voor installatien en wijzigingen aan TexLive, lijkt me wat omslachtig)
	$ sudo mkdir /opt/texlive
	$ sudo chown dirk:dirk /opt/texlive
	- ik zet de grootste mappen, waarvan zeker doc en source niet nodig zijn voor de texcommandos, maar enkel ter documentatie, op HDD om SSD te sparen; later zien of (sommige) fontbestanden (1GB) niet beter een plek op de SSD krijgen
	$ mkdir -p /media/sdata/.texlive/2016/doc /media/sdata/.texlive/2016/fonts /media/sdata/.texlive/2016/source
	$ mkdir -p /opt/texlive/2016/texmf-dist
	$ ln -s -t /opt/texlive/2016/texmf-dist /media/sdata/.texlive/2016/doc /media/sdata/.texlive/2016/fonts /media/sdata/.texlive/2016/source

- gekozen voor Net installer, download "install-unx.tar.gz" from CTAN, under systems/texlive/tlnet; the url http://mirror.ctan.org/systems/texlive/tlnet should redirect to a nearby, up-to-date, mirror.
	- install-unx.tar.gz uitgepakt naar ramdisk, is een perl-script. Voor de GUI-mode gebruikt die tk, "a graphical user interface toolkit for Perl" :
	- t.b.v. GUI-interface van de installer, perl-tk is trouwens veelgebruikte set ui-widgets voor perl en pythonprogrammas
	# apt install perl-tk
	$ cd "dir waar install-unx.tar.gz is uitgepakt"
	- default TMPDIR is /tmp, daar worden duizenden archieven naar gedownload en uitgepakt
		0 TMPDIR=/media/ramdisk perl install-tl -gui
		- TMPDIR niet meer nodig, want mijn /tmp is nu op tempfs, dus ook in RAM
	$ perl install-tl -gui
		x full scheme, dan volgende collecties schrappen (onderdelen nadien met tlmgr per package bijïnstalleren)
			0 ConTeXt
			0 Games typesetting
			0 Humanities (misschien m.u.v. qtree, dramatist, stage, verse, ---)
			0 alle talen behalve Engels - achteraf packages voor dutch, french en german installeren met tlmgr
			0 Other European languages - collectie is op zich klein, is niet meer dan een lange lijst van depends, maar kunnen die en andere talen even goed apart te installeren
			0 Music packages (later misschien piano en guitar)
			0 Omega
			0 Publisher styles (m.u.v. ebook)
	 		0 TexWorks editor (is alleen Windows binary)
	 	0 Portable setup
	 	x TEXDIR /opt/texlive/2016, en directories die daarvan afhangen
	 	x TEXHOME ~/.texmf
	 		- in terminal $ mkdir ~/.texmf
	 		- is na 2 jaar nog altijd leeg
	 	x Default paper size A4
	 	x Allow execution of restricted list of programs via write18
	 	x Create all format files
	 	x Install font/macro doc tree (omvangrijk, maar komt door de eerder gemaakte symbolic links op de HDD)
	 	x Install font/macro src tree (idem)
	 	0 Create symlinks in system directories: beter zelf path en pad naar man aanvullen
 	$ mkdir /opt/texlive/current
 	$ cd /opt/texlive/current
	$ ln -s ../2016/bin
		- OPM: t.e.m. 21.07.2018 was dit "ln -s /opt/texlive/2016/bin/x86_64-linux /opt/texlive/current/bin"
	- bin bevat ook reeds link naar bin/man, is genoeg voor man pages
	- lijn toevoegen aan ~/.profile :
		export PATH=${PATH}:/opt/texlive/current/bin/x86_64-linux
			- OPM: t.e.m. 21.07.2018 was dit /opt/texlive/current/bin
	$ ln -s ../2016/texmf-dist/doc/info
		- OPM: t.e.m. 21.07.2018 was dit "ln -s /opt/texlive/2016/texmf-dist/doc/info /opt/texlive/current/info"
	- info kan nu opgeroepen worden met
		$ info -d /opt/texlive/current/info/
	- EVT TE DOEN /opt/texlive/current/info/ toevoegen aan /usr/share/info/dir, ZIE https://www.gnu.org/software/texinfo/manual/texinfo/texinfo.html#New-Info-File

- om te voorkomen dat andere software een volledige Ubuntu-distributie TexLive binnentrekt via apt of USC, met equivs-build (zie hierboven installatie van "equivs (Circumvent Debian package dependencies)"), laten weten dat TexLive al geïnstalleerd is (zie "GEZIPTE.PRG/UBUNTU/TexLive/debian-equivs-2016 - Avoiding installation of dependency packages (texlive) - Ask Ubuntu.pdf" of "https://askubuntu.com/questions/76009/avoiding-installation-of-certain-dependency-packages-texlive/76113")
	- OPGELET: in dat document wordt aangeraden om de template hieronder aan te passen voor een niet-full installatie, maar dat lijkt me uit den boze: ontbrekende paketten moeten nog altijd in de zelf geïnstalleerde TexLive directorystructuur terecht komen, dus met tlmgr geïnstalleerd worden, en niet door apt naar ergens waar de Ubuntu-TexLive ze zou zetten
	- Tex User Group heeft met equivs-control zelf al een template gemaakt, te downloaden op http://www.tug.org/texlive/files/debian-equivs-2016-ex.txt, andere jaarreleases ook beschikbaar
		- GEZIPTE.PRG/UBUNTU/TexLive/link.txt
		$ cd ????/GEZIPTE.PRG/UBUNTU/TexLive ; equivs-build debian-equivs-2016-ex.txt
		- maakt GEZIPTE.PRG/UBUNTU/TexLive/texlive-local_2016-2_all.deb
		- OPGELET : de naam en versie wordt bepaald door wat in debian-equivs-2016-ex.txt staat, en kan dus verschillen naargelag release; exact deze naam in het volgende commando gebruiken:
		# apt install freeglut3
		- debian-equivs-2016-ex.txt heeft een depends on freeglut3; dpkg only installs a package, and notifies of any dependencies without installing them; dpkg will also not configure the package because well --- the dependencies are not there.
		$ sudo dpkg -i texlive-local_2016-2_all.deb
		- hierna is te zien dat het dummy package goed geinstalleerd is:
			$ apt list --installed | grep -i live
				liblivemedia50/xenial,now 2016.02.09-1 amd64 [installed,automatic]
				texlive-local/now 2016-2 all [installed,local]
 		- in USC is er geen merkbaar verschil, maar apt (apt-get -s : simulatie) neemt het goed mee, ZIE verschil tss.
 			GEZIPTE.PRG/UBUNTU/TexLive/debian-equivs-2016-ex = "apt-get install texstudio" MET deze voorzorg.log
 			GEZIPTE.PRG/UBUNTU/TexLive/debian-equivs-2016-ex = "apt-get install texstudio" ZONDER deze voorzorg.log

- !!! bash-alias "tlmgr gui" gezet op tlmgr; originele commando uitvoeren :
	$ "tlmgr"
	OF
	$ \tlmgr

- packages bij-installeren
	$ tlmgr gui
	- Repository : Load default (anders alleen reeds geïnstalleerde packages te zien, in de kolom 'local')
	- Display configuration : not installed
	- Match : dutch
	x babel-dutch -- Babel contributed support for Dutch
	x hyphen-dutch -- Dutch hyphenation patterns.
	- [Install]
	x babel-french -- Babel contributed support for French
	x e-french -- Comprehensive LaTeX support for French-language typesetting
	x hyphen-french -- French hyphenation patterns.
	- [Install]
	x babel-german -- Babel support for documents written in German
	x german -- Support for German typography
	x hyphen-german -- German hyphenation patterns.
	x umlaute -- German input encodings in LaTeX
	- [Install]
	x ebook
	- [Install]

- eigen vertaling
	- /opt/texlive/texmf-local/tex/latex/genealogytree/gtrlang.dutch.code.tex

	- NOOT kunnen naast de texlive installatie zelf nog zaken (fonts, macros, scripts, ---) toevoegen in  /opt/texlive/texmf-local (zie https://www.tug.org/fonts/fontinstall.html); to see the directory name, enter the command '$ kpsewhich --var-value TEXMFLOCAL'
		>>> http://www.tex.ac.uk/FAQ-install-where.html
			some examples of where various sorts of files should go:
				.sty, .cls or .fd: $TEXMF/tex/
				.mf:   $TEXMF/fonts/source/
				.tfm:  $TEXMF/fonts/tfm/
				.vf:   $TEXMF/fonts/vf/
				.afm:  $TEXMF/fonts/afm/
				.pfb:  $TEXMF/fonts/type1/
				.ttf:  $TEXMF/fonts/truetype/
				.otf:  $TEXMF/fonts/opentype/
				.map:  $TEXMF/fonts/map/
				.enc:  $TEXMF/fonts/enc/
				.pool, .fmt, .base or .mem: $TEXMF/web2c
			---
			Documentation for each package should all go, undifferentiated, into a directory on the doc/ subtree of the TDS. The layout of the subtree is slightly different: doc/latex hosts all LaTeX documentation directories, but more fundamental things are covered, e.g., by doc/etex or doc/xete
		<<<

- BELANGRIJK 2018/07/24 :
	- Repository definitief instellen op historische versie 2016, voorkomt vermenging met recentere Tex Live releases :
		- zie sectie "TexLive Windows binaries" (2018/07/24)

=== LanguageTool - grammaticacontrole in veel talen ===

	- https://languagetool.org/nl/
	- LanguageTool controleert grammatica van geschreven teksten en gaat veel verder dan waar conventionele spellingcontrole haar grens bereikt. In geautomatiseerde spellingcontrole wordt alleen gekeken naar de schrijfwijze van losse woorden. Als het gewenst is om terugkoppeling te krijgen over de schrijfwijze van meerdere woorden in relatie tot elkaar, loont het om kennis te maken met LanguageTool en grammaticacontrole in te zetten. Deze gratis en vrije software is platformonafhankelijk (Java) en werkt op Windows, OS X en GNU/Linuxsystemen zoals Ubuntu en bestaat al meer dan tien jaar en van de meer dan 30 talen die worden ondersteund is Nederlands goed vertegenwoordigd.
	- download zowel
		- plugin voor LibreOffice writer
		- standalone : via localhost ook aan te roepen vanuit TeXstudio (Options/configuration/Language checking/LanguageTool)
	- die 2 lijken heel wat code te delen, maar zijn anders verpakt, en in LibreOffice hebben de extra jar's een versienummer in de naam, in standalone niet. Voorlopig gewoon alletwee apart houden.
	- standalone als root uitgepakt naar /opt
	- link daarnaar zonder versienr., ook in /opt
	- plugin moet niet uitgepakt worden, LibreOffice doet dat zelf bij installatie van 'extensie' :
		- Kies Extra / Extensiebeheer / Toevoegen
		- Herstart LibreOffice/OpenOffice (ook de snelstarter).
		- komt in "~/.config/libreoffice/4/user/uno_packages/cache/uno_packages/HASHNAAM/LanguageTool-VERSIE.oxt/", opkuisen als volgt (van 154MB naar 9MB) :
		- schijfbeslag verkleinen :
			- .oxt wordt tijdelijk uitgepakt in "~/.config/libreoffice/4/user/extensions/tmp", mag leeggemaakt als dat niet vanzelf gebeurde
			- 1ste stap : gelijk genoemde en gelijke bestanden vervangen door link naar gewone installatie van zelfde versie LanguageTool
				$ export ltl_versie=4.1 ## in tevullen
				$ cd "~/.config/libreoffice/4/user/uno_packages/cache/uno_packages/HASHNAAM/LanguageTool-$ltl_versie.oxt/"
				$ find . -type f -exec bash -c 'ltdir="/opt/LanguageTool-$ltl_versie";[ -e "$ltdir"/"${1#./}" ] && cmp --silent "${1#./}" "$ltdir"/"${1#./}" && echo ln -sft "${1%/*}" "$ltdir"/"${1#./}"' _ \{\} \;
				- na controle heruitvoeren zonder "echo"
			- 2de stap : *.jar-bestanden in Libreoffice vervangen door link naar hun zonder versie genoemde identieke kopie in /opt
				- staan bij LibreOffice in root van installatiedirectory, met versienr. tussen naam en extensie
				- staan bij LanguageTool in subdirectory libs/, zonder versienr
				- OPM : fdupes heeft nog geen optie om bestand te vervangen door link naar identiek bestand
				$ find /opt/LanguageTool-$ltl_versie/libs -type f -iname "*.jar" -exec bash -c 'jarglob="${1##*/libs/}";jarglob="${jarglob%.jar}"-[0-9]*.jar;[ -e $jarglob ] && cmp --silent "${1}" ./$jarglob && echo ln -sfT "$1" $jarglob;' _ \{\} \;
				- na controle heruitvoeren zonder "echo"
				- de jarglob-constructie rekent erop dat globbing tot 1 en slechts 1 bestandsnaam leidt (1 versienr)
					- OPM: globbing wordt niet uitgevoerd in de stap "jarglob=$jarglob*.jar", maar pas bij gebruik van $jarglob (unquoted) in opdracht
		
=== TeXstudio : a fork of Texmaker with additional features; http://www.texstudio.org/ ===

- zie ook sectie "/tmp in RAM"

- TexLive vinden:
	- "/opt/texlive/current/bin/x86_64-linux" in PATH voor 1ste keer opstarten van TexStudio om texlive autom. te laten vinden, anders alle commando's (en dat zijn er veel) met de hand instellen
	OF
	- Options/Configure TexStudio/Advanced options : "X"/Build/Build options/Additional search paths/Commands ($PATH) : "/opt/texlive/current/bin/x86_64-linux"
		- OPM: mogelijk nodig tot "Commands" te scrollen met scrollbalk rechts in sectie "Additional search paths"

0 installatie op 16.04.1 gaf bug https://bugs.launchpad.net/ubuntu/+source/xapian1.3-bindings/+bug/1536507
	---
	Processing triggers for man-db (2.7.5-1) ---
	Processing triggers for doc-base (0.10.7) ---
	Processing 45 changed doc-base files, 2 added doc-base files---
	Error in `/usr/share/doc-base/xapian-python3-docs', line 9: all `Format' sections are invalid.
	Note: `install-docs --verbose --check file_name' may give more details about the above error.
	---
  is niet vitaal, gaat enkel over registratie in documentatie-database van de documentatie "/usr/share/doc/python3-xapian1.3/index.html" voor python3-xapian1.3, die blijkbaar niet bestaat (zie dus /usr/share/doc-base/xapian-python3-docs), /usr/share/doc/python-xapian1.3/index.html bestaat wel, misschien geeft het een (tijdelijke) oplossing door die te kopiëren (niet linken, want dan zou ze zelf overschreven worden bij update)

- Ontwikkelaars compileren zelf voor o.a Ubuntu, dus geen alternatieve ppa zoeken, gewoon downloaden en installeren met dpkg.
	- NOOT : dpkg wordt door apt gebruikt om de .deb van alle dependencies te installeren, maar weet zelf niet hoe het die moet zoeken. Dus krijgen we een "error --- dependency problems - leaving unconfigured ---". Maar "apt-get install -f" lost dat op, en doet dan ook alsnog de configuratie
	$ cd %download-directory%
	$ sudo dpkg -i texstudio_2.12.2-2.1_amd64.deb
		---
		dpkg: dependency problems prevent configuration of texstudio:
		 texstudio depends on libpoppler-qt5-1 (>= 0.24.5); however: Package libpoppler-qt5-1 is not installed.
		 texstudio depends on libqt5script5 (>= 5.0.2); however: Package libqt5script5 is not installed.
		 texstudio depends on libqt5xml5 (>= 5.0.2); however: Package libqt5xml5 is not installed.
	# apt-get install -f
	-  -f, --fix-broken : attempt to correct a system with broken dependencies in place. This option, when used with install/remove, can omit any packages to permit APT to deduce a likely solution. If packages are specified, these have to completely correct the problem.
		...
		Correcting dependencies--- Done
		The following additional packages will be installed:
		  libpoppler-qt5-1 libqt5script5 libqt5xml5
		...
	- even nakijken:
	$ sudo dpkg-query -s texstudio
		Package: texstudio
		Status: install ok installed
		...

- enkele instellingen (Opties, Configure TexStudio)
	- General, Appearance :
		x Taal : standaard (er is nog te veel onvertaald)
	- Language Checking,  Spell Check
		. Importeer woordenboek voor nl-NL spellchecker /media/sdata/
			GEZIPTE.PRG/UBUNTU/OpenTaal-210G-LO.oxt
	- Language Checking,  Language tool
		x LT Path : /opt/LanguageTool/languagetool.jar (met /opt/LanguageTool link naar laatste versie)
		x Start LanguageTool if not running (TeXstudio heropstarten)
	- Build, Meta Commands
		x Default Bibliography Tool : txs:///biber
			- i.p.v. het oudere bibtex, dat o.a. geen UTF-8 gebruikt
			- bovendien is biber beter verbonden met het package biblatex
	- Adv. Editor, Special options
		0 Show help on commands in internal pdf viewer (texdoc) (er is maar 1 instance van internal viewer, in externe viewer kunnen we wel meer docu openhouden)
	- tijdelijke bestanden (en dan helaas ook alle andere output) in aparte map ./output, b.v. gelinkt naar /tmp of /media/ramdisk :
		- Build/build options/Additional Search paths :
			- Log File : output
			- Pdf File : output
		- Commands
			- PdfLaTeX e.a. : pdflatex -output-directory=output ...
			- voor alle viewers, conversie- en hulpprogrammas, "output/" voor de plaatshouders % en ? zetten, b.v. ... output/% ...
	- Zathura als pdf-viewer :
		- van pdf in zathura naar editor met Ctrl-Muisknop1. Dit is niet in te stellen: er is geen (bekende) shortcut-functie voor synctex om in zathurarc met "map" een andere knop toe te wijzen (zie man zathura en man zathurarc)
		- Opties/Configure/Commands/External pdf viewer : zathura --synctex-forward @:1:?c:rme output/%.pdf > /dev/null 2>&1
		- ~/.config/zathura/zathurarc
			>>>
			set synctex true
			set dbus−service true
			set synctex-editor-command "texstudio --line %{line} %{input}"
			<<<
			- wschlk is laatste lijn genoeg, synctex en dbus zouden default true zijn

=== LibreOffice Writer: java interface en LanguageTool toevoegen ===

- USC LibreOffice Writer Optional add-ons :
	x Office productivity suite -- arch-independent Java support files (libreoffice-java-common)
- LibreOffice Writer openen
	- Extra, Opties, LibreOffice , Geavanceerd :
		x Gebruik een Java runtime env.
		x Oracle Corporation 1.8...
	- Extra, Extensiebeheer, Toevoegen...
		x GEZIPTE.PRG/UBUNTU/LanguageTool/LanguageTool-4.1.oxt

=== Eukleides : LaTeX Euclidean geometry drawing language (http://www.eukleides.org/) ===

- USC

- geometry diagrams with output in pstricks
- TEDOEN : The first version of Eukleides came with a graphical user interface (GUI) named xeukleides based on the GTK+ 1.2 toolkit. A GUI for the second version will be developed in the future. The latest source code for xeukleides is available here:
	- http://www.eukleides.org/legacy.html
	- http://gnu.gds.tuwien.ac.at/directory/all/Xeukleides.html

- ZIE DOCS/LaTeX/eukleides reference manual.pdf

- these programs are run from a terminal:
	- eukleides : maakt eps
	- euktoeps
	- euktopdf
	- euktopst : maakt PSTricks macros
	- euktotex

=== SpotLite(v2) Ubuntu  ===

- ZIE procedure "1 Aanbevolen VEILIGERE installatie" in GEZIPTE.PRG/UBUNTU/SpotLite/INSTALLATIE.TXT

=== ffmpeg ===

- FFmpeg is the leading multimedia framework, able to decode, encode, transcode, mux, demux, stream, filter and play pretty much anything that humans and machines have created. It supports the most obscure ancient formats up to the cutting edge.

- voor dagelijks gebruik: USC
	- v.7:2.8.11
	- This package contains:
		. ffmpeg: a command line tool to convert multimedia files between formats
		. ffserver: a multimedia streaming server for live broadcasts
		. ffplay: a simple media player based on SDL and the FFmpeg libraries
		. ffprobe: a simple multimedia stream analyzer
		. qt-faststart: a utility to rearrange Quicktime files
	- is maar 2 MB zonder documentatie, omdat ffmpeg libraries gebruikt die toch al in Ubuntu zitten.

- recentere versie (o.a. betere aac geluidscompressie, b.v. 32k goed genoeg voor stem), static build (libraries ingelinkt) zodat het geen conflicten geeft met geinstalleerde versies van libraries
	- https://www.johnvansickle.com/ffmpeg, docu in pdf
	- gewoon uitgepakt in /media/sdata/.stacks/ffmpeg..., gelinkt als /opt/ffmpeg
	- v3.3.2
	- 186MB, wat veel voor iets dat ik zo weinig gebruik, daarom op harde schijf: verwerkingstijd zit niet in het laden van het programma, maar in het coderen van video

- iets minder recente versie van ppa ronny1982, version 3.2.4, gelinkt als ffmpeg-fdkaac in /opt/ffmpeg

=== mplayer Movie player for Unix-like systems : USC ===

=== mencoder 2:1.2.1-1ubuntu1 MPlayer's Movie Encoder : USC ===

=== avidemux2.6-qt 1:2.6.20-1~getdeb1 : USC ===
	(OPM : is in USC niet te vinden met zoekopdracht "avidemux", wel met "avidemux2")

=== lsdvd ter ondersteuning van rippen dvd, dvd-iso, of dvd-kopie op HDD: ===
	- an application for printing the contents of a dvd to terminal or in machine readable format
	- USC, 67kB
	- werkt op map VIDEO_TS en op moeder-map met een VIDEO_TS in:
		$ ls /media/ramdisk/dvdkopie
			VIDEO_TS
		$ lsdvd /media/ramdisk/dvdkopie
		...

=== Gaupol Subtitle Editor (USC) ===
	- naam en omschrijving aangepast in /usr/share/applications/gaupol.desktop

=== maxima 5.37.2-8 (USC) computer algebra, zonder opties ===
	- this program is run from a terminal: maxima
	- docu apart gedownload naar .stacks van
	- USC loopt 2 jaar achter, maar maxima is rijp genoeg om standaard USC versie te gebruiken (noot: in juli 2017 loopt https://launchpad.net/~blahota/+archive/ubuntu/wxmaxima (bevat ook volledige Maxima) slechts 1/2 jaar achter)
	- ZWARE BUG:  loadfile: failed to load /usr/share/maxima/5.37.2/share/draw/draw.lisp
		. zou opgelost zijn in 5.37.2-9
		. de versie (2017-08-13) van ~blahota biedt geen oplossing: is nieuwere wxMaxima GUI, maar dezelfde maxima versie 5.37.2-8

xmaxima 5.37.2-8 (USC) nodig voor sommige fties van maxima, o.a. plotdf
	- in menu Xfce/Education/Maxima algebra system

wxmaxima 15.08.2-1 (USC) GUI voor maxima, zonder optie Tex Live (vermits die bij mij buiten apt-systeem om geïnstalleerd is)
	- in menu Xfce/Education/wxMaxima

- maxima docu op http://maxima.sourceforge.net/documentation.html en in ~/Public/DOCS/maxima.pdf
- hulp en docu voor beide op http://andrejv.github.io/wxmaxima/help.html

=== jdownloader.jar van jdownloader.org naar /opt/JDownloader.jar  ===
	- o.a. voor grote downloads van mega.nz

=== dosbox ===

- was blijkbaar default geinstalleerd

- eerste opstart genereert config /home/dirk/.dosbox/dosbox-0.74.conf

- start default op in Z: (correspondeert niet direct met een toegankelijke schijf of map op host)
- schijven toevoegen aan een dosbox sessie met het eigen dosbox commando
	z:\> mount x map
	- x : toe te kennen schijfletter
	- map : map op de linux host (zie vb. hierna)

- in sectie [autoexec] (achteraan) toegevoegd:
	mount c /media/sdata/.stacks/dosbox/c
	C:

- dosbox afsluiten met het commando 'exit'

- ramsak laat zich niet vertragen door dosbox cpu-cycles te laten verbruiken, net zoals vanouds ramsak zich niet liet vertragen op een snelle pc. Dat proggie werkt blijkbaar tezeer op hardware niveau.

- Ctrl-F11 en Ctrl-F12 (virtuele CPU vertragen/versnellen door meer cycles te skippen) werken niet

=== GoldenDict (USC) ===

- in tegenstelling tot de documentatie ondersteunt goldenDict ook Octopus MDict formaat  .mdx
	 - mdx begint met een beschrijvend tekstgedeelte, in UTF16 Unicode. Daar kan met een hex editor de Title="titel" aangepast worden.

- soft links naar gedownloade woordenboeken in "/home/dirk/OpenEbooks/GoldenDict woordenboeken"
	- GoldenDict volgt soft links naar hun orig. map, en gebruikt de woordenboeknaam die IN het bestand staat (althans voor .mdx) (niet de linknaam of de naam van het originele bestand). Hij gebruikt wel een .jpg met de orig. bestandsnaam als icon. Het heeft dus geen zin de woordenboekbestanden of links ernaartoe een gebruiksvriendelijke naam te geven.

- online woordenboeken vallen uiteen in
	- Edit/Dictionaries/Sources/Wikipedia : zoekurl van de vorm "https://nl.wiktionary.org/w", goldendict weet hoe het verder moet
	- Edit/Dictionaries/Sources/Websites : zoekurl van de vorm "http://lingvopro.abbyyonline.com/en/Search/en-ru/%GDWORD%", met %GDWORD% als het zoekwoord (in andere codepage: %GD1251% etc., zie dat scherm zelf)

- uitzicht fijn regelen :
	- zie ook http://goldendict.org/wiki/index.php/FAQ
	- ~/.goldendict/article-style.css : voor gecombineerde zoekresultaten; rechtsklikken-Inspect daarin geeft een "Inspect Element" zoals van Firefox
	- ~/.goldendict/qt-style.css : voor UI, zoals searchPane, translateLine, wordList

=== xfce4-clipman (USC) ===

- Clipboard history utility

- bestemd voor notification area ('system tray'); een alternatief is de xfce4-clipman-plugin voor in een xfce-panel, maar daar hou ik liever alleen complete toepassingen met hun grote iconnen).

=== xfce4-timer-plugin (USC) ===

- Timer plugin for Xfce panel

=== unionfs.fuse (USC) ===

- schrijfbare map over leesbare map mounten

- these programs are run from the terminal:
	- mount.unionfs, unionfs, unionfs-fuse : laatste 2 zijn synoniemen, 1ste iets minder opties
	- unionfsctl : schrijft debugboodschappen naar een bestand

- gebruik :
	$ unionfs [-o opties] dir1:dir2:... /mnt
		- dir1 heeft voorrang op dir2, ...
		-o cow : Enable copy-on-write, d.w.z. dat wijzigingen allemaal en alleen naar dir1 worden geschreven

=== fuseiso (USC) ===

- FUSE module to mount ISO filesystem images : mount iso end single-track .bin, .mdf, .img en .nrg using FUSE (user space, i.e. zonder sudo)

- these programs are run from the terminal: fuseiso

- OPM: kan niet overweg met /media/sdata/.win-gschijf/CDKOPIE/BROCKHAUS2010/BMM2010PDVD.mdf

=== Zathura (USC) - A minimalistic document viewer (pdf, djvu, ps, cbz) ===

- wordt geïnstalleerd met de pdf plugin voor poppler; mupdf is veel sneller en kan ook epub tonen
	- mupdf moet geinstalleerd zijn (heb ik, maar in volgende stap installeer ik de nieuwste package)
	- package zathura-pdf-poppler zal verwijderd worden; gewoon terug installeren om weer poppler i.p.v. mupdf te gebruiken
	- VOOR :
		$ zathura --version
			zathura 0.3.5
			(plugin) pdf-poppler (0.2.6) (/usr/lib/zathura/pdf.so)
			(plugin) djvu (0.2.5) (/usr/lib/zathura/djvu.so)
			(plugin) ps (0.2.3) (/usr/lib/zathura/ps.so)
			(plugin) cb (0.1.5) (/usr/lib/zathura/cb.so)
	- https://askubuntu.com/questions/804515/install-mupdf-plugin-backend-for-zathura-document-viewer :
		>>>
			I've uploaded zathura-pdf-mupdf package to Launchpad PPA ppa:spvkgn/zathura-mupdf [https://launchpad.net/~spvkgn/+archive/ubuntu/zathura-mupdf], it contains packages for 16.04, 16.10, 17.04 and 17.10 Ubuntu series. The plugin compiled against library from latest MuPDF 1.11 version.
		<<<
		- pavel (launchpad.net/~spvkgn)
		# add-apt-repository ppa:spvkgn/zathura-mupdf
		# apt-get update
		# apt install zathura-pdf-mupdf
			>>> ...
				The following packages will be REMOVED
				  zathura-pdf-poppler
				The following NEW packages will be installed
				  zathura-pdf-mupdf
			<<<
	- NA:
		$ zathura --version
			zathura 0.3.5
			(plugin) pdf-mupdf (0.3.1) (/usr/lib/zathura/pdf.so)
			(plugin) djvu (0.2.5) (/usr/lib/zathura/djvu.so)
			(plugin) ps (0.2.3) (/usr/lib/zathura/ps.so)
			(plugin) cb (0.1.5) (/usr/lib/zathura/cb.so)

- lijn toevoegen aan /usr/share/applications/zathura.desktop (heeft geen icon) :
	Icon=/usr/share/icons/Humanity/mimes/24/application-postscript.svg

-  instellingen (zie ook "man zathurarc") via zathura commandolijn : ctrl-m, :instellingsopdracht
	>>> ~/.config/zathura/zathurarc, o.a.
		set show-scrollbars true
		set default-bg \#F0D080
		set default-fg \#000080
		set guioptions ""
		set window-height 1000
		set window-width 1200
		set adjust-open width
		set page-padding 5
		set recolor false
		set recolor-keephue false
		set recolor-darkcolor \#000000
		set recolor-lightcolor \#FFF8E8
		set recolor-reverse-video true
		set window-title-basename true
		set window-title-page true
		set index-fg \#B00000
		set index-bg \#80FFD0
		set index-active-bg \#D00000
		set index-active-fg \#80FFD0
		set window-icon /usr/share/icons/Humanity/mimes/24/application-postscript.svg
		set selection-clipboard clipboard
	<<<

=== mupdf update naar 1.11 ===

- relevante verbeteringen:
	- epub hyperlinks
	- epub table of contents
	- epub user style sheets :
		-U stylesheet.css : Specify a CSS file containing user styles to load for EPUB layout.
		-S size : Set the default font size in points for EPUB layout.
	- FB2 (FictionBook 2) ondersteuning
	- annotate PDF documents
	- command line tools to annotate, edit, and convert to HTML, SVG, PDF, and CBZ
	- write scripts to manipulate documents using Javascript

- ppa van dezelfde gebruiker (Pavel, launchpad.net/~spvkgn) als zathura-pdf-mudf heeft build errors op launchpad (enkel te zien met View package details) :

- PPA van Panda Jim (launchpad.net/~ubuntuhandbook1), aanbevolen door b.v. http://sourcedigit.com/22187-install-mupdf-pdf-e-book-viewer-on-ubuntu-linux/
		# add-apt-repository ppa:ubuntuhandbook1/apps
			>>>
				Apps that are not available in Ubuntu universe repositories or the Ubuntu repositories only provide an old version
				Maintained by http://ubuntuhandbook.org
			<<<
		# apt-get update
		# apt install mupdf mupdf-tools

- mudraw is nu optie draw in mutool: render to image files, convert to svg or pdf, extract to plain text, html or xml

=== java decompilers (via http://www.javadecompilers.com/) ===

- jad (Pavel Kouznetsov) 1.5.8e for Linux statically linked (http://www.javadecompilers.com/jad en https://varaneckas.com/jad/)
	- decompileert maar tot Java 5
	- zie "GEZIPTE.PRG/JAVA/JAD/Jad 1.5.8e for Linux (statically linked).zip"
	- uitgepakt naar /opt
		$  mv /opt/Readme.txt /opt/jad_1.5.8e_Readme.txt
		$  chmod a-x /opt/jad_1.5.8e_Readme.txt
		$  sudo chown root:root /opt/jad*

- recentere java decompilers :
	- ZIE http://www.javadecompilers.com/
	- JBE - Java Bytecode Editor (GEZIPTE.PRG/JAVA/)
		- geen decompiler, rechtstreeks de bytecode wijzigen
	- CFR class decompiler (GEZIPTE.PRG/JAVA/)
		- decompileert ineens een hele jar
	- Procyon class decompiler (GEZIPTE.PRG/JAVA/)
		- Luyten GUI
		- KonLoch GUI voor o.a. Procyon en Fernflower https://github.com/Konloch/bytecode-viewer
		0 gui d4j van SecureTeam
			- vereist JavaFX
				- soort opvolger van AWT/Swing met meer grafisch en multimedia geweld
				- apart bij-installeren met OpenJDK (Ubuntu package openjfx) (bij Oracle JDK is die standaard)
	0 Fernflower class decompiler (GEZIPTE.PRG/JAVA/)
		- alleen maar src distrib. gevonden
	0 JD-core en JD-eclipse (niet onderhouden sinds 09-2015)

- link gemaakt in ~/bin/java :
	$ ln -fs .../GEZIPTE.PRG/JAVA/....jar

=== Xpra remote desktop server (eerst PPA toevoegen, dan pas USC) ===

- xpra : server, client en viewer voor "remote, persistent X applications"
- xpra_launcher : GUI to connect to a remote xpra session. Can read a pre-configured session file.
- xpra_browser : Shows the xpra sessions found via mDNS

- zie GEZIPTE.PRG/UBUNTU/Xpra - WinSwitch
- zie GEZIPTE.PRG/OFFICIELE DOWNLOADS/Xpra - Winswitch

- eerst eigen repository van xpra-winswitch toevoegen (Ubuntu's standaard repositories hebben steenoude, niet meer ondersteunde versie 0.15, Xpra zit op 2.3) :
	- zie "_Xubuntu truuks en commandos.adoc" sectie "repositories (ppa)" :
	- verificatiesleutel :
		$ wget -q http://winswitch.org/gpg.asc -O- | sudo apt-key add -
	- repository :
		# echo "deb http://winswitch.org/ xenial main" > /etc/apt/sources.list.d/winswitch.list
	0 apt-get install software-properties-common : heb ik al ($ apt list | grep software-properties-common)
	- software-properties-common manages the repositories that you install software from (common). This software provides an abstraction of the used apt repositories. It allows you to easily manage your distribution and independent software vendor software sources. This package contains the common files for software-properties like the D-Bus backend.
	0 add-apt-repository universe : heb ik al (cat /etc/apt/sources.list)
	# apt-get update
	- Installeer Xpra of Winswitch: (USC)
		OFWEL xpra CLI alleen (5MB download, 14MB op schijf)
		# apt-get install xpra
			- xpra heeft zelf ook ergens een panel-menuutje met info
		OFWEL winswitch GUI voor xpra (35MB downlaod, 65MB op schijf)
		0 apt-get install winswitch
	- voeg user dirk toe aan groep xpra (alternatief: dedicated user voor xpra, maakt de zaak moeilijker)
		# usermod -aG xpra dirk
			>>> anders bij starten server
				2018-03-10 13:04:07,440 Warning: cannot create socket '/run/xpra/FRT-1'
				...
				2018-03-10 13:04:07,441   missing 'xpra' group membership?
				2018-03-10 13:04:07,441   permissions on directory /run/xpra: 0775
				2018-03-10 13:04:07,441   ownership root:xpra
			<<<

- in Windows VM
	- netwerk-kaart instellen alsvoor
		- Host-only adapter (is absoluut de veiligste keuze, kan niet op internet. Andere instellingen werken ook, maar voor elk terug de netwerkinstellingen in Windows goed krijgen, is klungelwerk)
		- Advanced
			- Adapter type : Paravirtualized Network (virtio-net)
				- is 10GB/s verbinding
			- Promiscuois mode : Deny (alleen host)
				OF "VMs only"
				OF "All" (VMs en host)	-
	- VM opstarten
	- in apparaatbeheer netwerkdriver voor virtio installeren van "GEZIPTE.PRG/OFFICIELE DOWNLOADS/KVM-VirtualBox virtio driver Windows, m.n. Paravirtualized Network (virtio-net)/KVM windows guest virtio drivers 0.1.141.zip"
	- Computereigenschappen: werkgroep BOCO
	- verbinding type thuisnetwerk (Thuisgroep NIET nodig)
		- wschlk. niet als bedrijfsnetwerk aangeven, is meer voor inbel- en VPN-verbindingen, met domein
	- evt. G:\PROGRAMS\Xpra in pad zetten
		- is uitgepakt van GEZIPTE.PRG/OFFICIELE DOWNLOADS/Xpra - Winswitch/Xpra-Client_2.1.3-r17254.zip)
		- "Some platforms and package managers may choose to only build the client and not the  server. In this case, only the attach subcommand will be available."

		- evt. uitsluiten in Virusscanner, want anders bij elke start 2-3x vertraging van 15s voor scannen

- Gebruik: zie _Xpra.txt

=== SpaceFM : andere filemanager (USC spacefm-gtk3 1.0.5-1)  ===

- met udevil : alternatieve storage media interface voor SpaceFM
	- USC SpaceFM Optional addons
	- these commands are run from a terminal :
		- udevil - mounts and unmounts removable devices and network shares without requiring password (set suid), shows device information and monitors device changes. It includes the devmon  automounting script.
		- devmon - Automounts and unmounts optical and removable drives

- thunar NIET verwijderen: is geintegreerd met xfce (draait b.v. altijd als daemon), o.a. voor automount
	- mogelijk op te vangen door spacefm of pcmanfm bij opstarten te laden als daemon (spacefm -d &)
	- zie https://wiki.archlinux.org/index.php/File_manager_functionality

- EERST pkexec EN sudo DEFAULT MAKEN, dan pas opstarten :
	- pkexec staat nog niet in de keuzelijst van SpaceFM voor "graphical SU" (view/preferences/advanced), is sinds Ubuntu 13.04 nochtans voorkeursmethode boven b.v. gksu of gksudo, die nu zelfs niet meer geïnstalleerd worden. Ineens ook sudo instellen voor "terminal SU", i.p.v. SpaceFM's default su. Om pkexec en sudo als default in te stellen voor alle gebruikers, als root volgende lijnen van /etc/spacefm/spacefm.conf ontcommentariëren en wijzigen :
		>>>
			terminal_su=/usr/bin/sudo
			graphical_su=/usr/bin/pkexec
		<<<
	- als ge spacefm toch al hebt uitgevoerd, moet ge ook (wanneer ge spacefm hebt afgesloten) uw eigen instellingen in ~/.config/spacefm/session aanpassen :
		>>>>
			su_command-s=/usr/bin/sudo
			gsu_command-s=/usr/bin/pkexec
		<<<

- ftp mounten met udevil:
	- in Devices/Settings/Protocol handlers de protocol handler "ftp" achter protocol handler "udevil" zetten, zodat voor ftp:// udevil wordt aangeroepen (default protocol handler "ftp" gebruikt curlftps, is niet geïnstalleerd)
	- om te verbinden met ftp-server, gewoon de url in de het pad-veld tikken:
		>>> ftp://gebruiker:paswoord@server/uploadfolder <<<

=== tweak (USC) Efficient text-mode (terminal) hex editor  ===

- these commands are run from a terminal :
	tweak, tweak-wrapper

- alternatieven voor ghex :
	0 ghex
		- cut/copy/paste en insert werken dikwijls niet (of op onverwachte manier)
		- kunt niet beginnen met een leeg bestand
	0 bless
		- website (zelfs host) is al jaar uit de lucht (http://home.gna.org/bless/index.html)
		- auteur Alexandros Frantzis heeft Launchpad-ppa, maar zelfs daar is het project dood
		- documentatie wordt niet mee geïnstalleerd, en verwijzing naar verdwenen website helpt ook niet
		- gewijzigd bestand saven kan alleen na instellen van temp-directory in ~/.config/bless/preferences.xml :
			<pref name="ByteBuffer.TempDir">/tmp</pref>
		  maar die instelling (en heel preferences.xml) durft al eens verdwijnen bij opstarten bless
		- insert mode kan niet goed overweg met hex digits binnen een byte
		- leuke bitwise operator mode, maar die wijzigingen komen niet in undo
		- andere bugs
	0 jeex
		- invoer is 'free form', maar gebrekking
			- als ge niet zelf groepeert in 2 digits, 1 spatie, kan het resultaat verrassend zijn
			- enkel hex characters worden aanvaard, zonder terugkoppeling
		- extra views worden niet gesynchroniseerd met invoervenster
		- beperkte max. bestandsgrootte, weliswaar zelf te kiezen in preferences
	0 wxHexEditor : uitgebreide hex editor
		- nog niet zo stabiel (ikzelf al crash na 5 minuten)
		- kan zelfs direct filesystem en process ram editen, maar best niet met die stabiliteit
		- kan bestand met gewijzigde lengte niet naar eigen naam opslaan
			- aanvaardt dan enkel 'opslaan als', maar bij 'opslaan als' naar zichzelf, wordt het bestand verminkt (b.v. alleen ingevoegde stuk wordt opgeslagen)
		- hex/tekst paneel niet gesynchroniseerd, eerst heropbouw van venster forceren
		- idem bij verandering van groepering (bytes of words); geen probleem natuurlijk als ge alleen groepering per bytes gebruikt
		- idem bij verandering van encoding (voor tekst paneel)
	? madedit-mod : hex en tekst - https://sourceforge.net/projects/madedit-mod/
		- voortzetting van MadEdit (was al 9 jaar dood)
		- package voor Ubuntu 16.04 https://sourceforge.net/projects/madedit-mod/files/0.4.9/madedit-mod_0.4.9-1_amd64_ubuntu16.04.deb/download
	? wxmedit : hex en tekst - https://wxmedit.github.io/downloads.html
		- verder onderhoud van MadEdit (was al 9 jaar dood)
		- package voor Ubuntu 16.04, Debian 8

== PROGS NA BACKUP 2017-11-14  ==

- oude kernels opkuisen
	- Medion USB-schijf insteken (bootmenu wordt ververst)
	# apt autoremove

- ./_backup.sh naar /media/uarch (Medion USB-schijf) en naar /media/tarch (Toshiba schijf)
	- verschillend tijdstip -> verschillen in .squashfs
	- Meld-compare van hele directorystructuur :
		- geen verschillen tss. gemounte backups onderling
		- op uitgesloten mappen (o.a. /run) na, geen verschillen tss. gemounte backup en gemounte ssd-partities

=== **** FULL-UPGRADE naar Xubuntu 16.04.3 ***** ===

- in launcher 'Settings/Software & Updates' tab 'Updates' (tijdelijk) alles op gezet:
	v Importamt security updates (xenial-security)
	v Recommended updates (xenial-updates)
	v Unsupported updates (xenial-backports)
	maar nog altijd 'NEVER automatically check for updates

- commandline upgrade naar o.a. Ubuntu 16.04.3 LTS met kernel 4.4.0-98 (van 4.4.0-64)
	- Medion-usb gemount
	0 backup nemen van /boot/grub/grub.cfg , want die wordt gewijzigd om op te starten met nieuwe kernel, en als Medion-usbschijf niet gemount is dan verdwijnt die uit het bootmenu
	# apt-get update
	# apt-get update
	# apt-get full-upgrade | tee /media/tarchs/.backups/171115_full_upgrade.log
	0 booten van MEDION-usb terug in /boot/grub/grub.cfg gezet (met WinMerge van kopie op ramdisk van grub.cfg en zijn backup)

=== font Inconsolata ===

- gekopieerd van /GEZIPTE.PRG/UBUNTU/fonts.google Inconsolata naar /usr/local/share/fonts
	- http://www.levien.com/type/myfonts/inconsolata.html

=== geany 1.30-1 ===

- USC loopt een jaar achter. Toch een paar gewilde wijzigingen sindsdien (zie release notes), daarom geany's eigen ppa gebruiken :
	- zie "_Xubuntu truuks en commandos.adoc" sectie repositories :
	- zie https://launchpad.net/~geany-dev/+archive/ubuntu/ppa
	# add-apt-repository ppa:geany-dev/ppa
	# apt-get update
	- installeren via USC
	! sudo apt-get install geany-plugin-markdown LUKT NIET (conflict in versies van geany-afhankelijkheden)
		- wordt ook niet geinstalleerd met hele pakket geany-plugins
		- mogelijk eigen aan bovenstaande ppa
		- later nog eens proberen

- keybindings gelijk getrokken met mousepad : mousepad, geany Ctrl-Shift-S = "Save all"
	- Ctrl-Shift-S = "File/Save as" i.p.v. "Save all", Ctrl-Shift-A = "File/Save all" toegevoegd
	- Ctrl-R = "Seach/Replace" i.p.v. Ctrl-H, Ctrl(-Shift)-H = "Find (prev.) word under carret"

- OPGELET : voor bestanden in archivemount (zie ook "_Xu truuks en commandos" sectie "archief mounten")
	- in Preferences/Various allebei "use_gio_unsafe_file_saving" en "use_atomic_file_saving" uitgevinkt, die kunnen geen save naar een bestaand bestand in een met archivemount gemount archief (wel naar nieuw bestand)

- meegeleverde plugins geactiveerd (Tools/plugin manager)
	- autosave (instellingen via Edit/Plugin preferences)
		- Backup copy naar /media/sdata/.backups/GeanyBackupCopies
		- Autosave (ingesteld op 300 sec. all files, niet 'when loosing focus')
	- split window (2de window van een bestand is niet volwaardig, maar ge kunt zelfde of ander bestand naast elkaar zien)
	- lineoperations

- geany opent standaard alles in zelfde instance, zelfs als die op een andere workspace staat
	- /usr/share/applications/geany.desktop gekopiëerd naar ~/.local/share/applications/geany.desktop, en optie -i (new instance) toegevoegd aan opdracht; eigen .desktop blijkt voorrang te hebben, zowel via startmenu als via bestandsbeheer
	- alternatief: 1 instance per workspace (kunt dan nog altijd tab afsplitsen naar eigen venster) :
		>>> https://www.geany.org/manual/current/
			$ geany --socket-file=/tmp/geany-sock-$(xprop -root _NET_CURRENT_DESKTOP | awk '{print $3}')
			- xprop : property displayer for X
		<<<
	- zie ook https://unix.stackexchange.com/questions/246827/geany-open-a-new-instance-per-workspace-when-opening-a-file-in-that-workspace

- alternatief voor mousepad
	0 mousepad
		- crasht te dikwijls alle vensters bij veranderen van opties voor zoek en vervang
		- kan niet zonder encoding
	- geany : snel ladende teksteditor
		- kan bestanden laden zonder encoding
	- gedit
		- verloor zijn hoofdontwikkelaars in juli 2017, toekomst onduidelijk (is nochtans de Gnome editor)
		- kan binaire bestanden laden, maar verandert dan elke byte die niet binnen de gebruikte encoding valt, in een soort escape code \xx, dus verminkte bestanden bij opslaan
	0 Sublime text
		- betalend of met af en toe een pestdialoog (en later misschien grotere beperking)
	- atom
		- javascript/html5/css (ionic app framework), dus voor grote bestanden traag en geheugenhongerig
	- Visual Studio Code (Microsoft)
		- javascript/html5/css (ionic app framework), dus voor grote bestanden traag en geheugenhongerig

=== Oracle VM VirtualBox 5.2 (USC zoekterm "Oracle VM VirtualBox" of "virtualbox-5.2") ===

- eerst 5.1.x verwijderd (USC)
- zie ook hoger, sectie "VirtualBox"

- virtualbox-5.2 5.2.0-118431

- These programs are run from a terminal :
	VBox, VBoxAutostart, VBoxBalloonCtrl, VBoxBugReport, VBoxDTrace, VBoxHeadless, VBoxManage, VBoxSDL, VBoxTunctl, VBoxVRDP, VirtualBox, rdesktop-vrdp, vbox-img, vboxautostart, vboxballoonctrl, vboxbugreport, vboxheadless, vboxmanage, vboxsdl, vboxwebsrv, virtualbox

- nieuw extension pack installeren :
	- download van https://www.virtualbox.org/wiki/Downloads (gewoon effe naar ramdisk) : Oracle_VM_VirtualBox_Extension_Pack-5.2.0-118431.vbox-extpack
	- VBox (heet eig. VBox Manager) opstarten:
		- preferences, extensions :
			- oude verwijderen
			- nieuwe toevoegen: selecteer de download

- 2018/02/27 : update naar 5.2.6
	# apt-get install virtualbox-5.2
	>>>
	The following packages will be upgraded:
	  virtualbox-5.2
	...
	Get:1 http://download.virtualbox.org/virtualbox/debian xenial/contrib amd64 virtualbox-5.2 amd64 5.2.6-120293~Ubuntu~xenial [73,6 MB]
	...
	Preparing to unpack .../virtualbox-5.2_5.2.6-120293~Ubuntu~xenial_amd64.deb ...
	<<<

=== Unison directory tree synchronization (with detect and display of conflicts) ===

- USC "Unison (unison-gtk)" : GTK interface for the unison file synchronization tool 2.40.102
	- trekt ook unison zelf binnen : unison-gtk 2.48.3-1ubuntu1

- https://www.cis.upenn.edu/~bcpierce/unison
- ZIE "_Xubuntu truuks en commandos.adoc - directory van mijn website synchroniseren over FTP "
- ftp server moet gemount worden (b.v. met gigolo)

=== trash-cli (USC) : Command line vuilbak utility, vooral nuttig voor interactieve restore ===

- volledig beheer van vuilnisbak via CLI :
	- restore-trash, trash (== trash-put), trash-empty, trash-list, trash-put, trash-rm
		trash-put           trash files and directories.
		trash-empty [days]  empty the trashcan(s) [of files removed more than $days ago].
		trash-list          list trashed files.
		restore-trash       list all trashed files under current directory, with choice to restore
		trash-rm [pattern]  remove individual files from the trashcan.

- trash[-put] trasht naar /.Trash/ van mountpoint voor current directory
	- OPGELET zet ook niet-lege directories zonder waarschuwing in trash, dus GEEN "alias rm=trash-put" maken: echte rm heeft optie -r nodig voor niet-lege directory; gedrag van trash-put zou onverwacht zijn
	- thunar kan blijkbaar niet restoren van de info die trash-put maakt.
	0 opgelost in 0.12.9.14 NIET GEBRUIKEN voor bestand in readonly directory: kopiëert dat eerst naar .Trash, om dan pas vast te stellen dat het niet verwijderd kan worden in originele directory => 2 exemplaren
	- "gio trash" (was gfvs-trash), die kijkt of bestand verwijderbaar is, en verplaatst naar .Trash van 1ste bovenliggend mountpoint, maar kan niet overweg met bindmount
		- equivalent zou zijn "trash-put $(realpath bestand)", omdat anders bij gelinkte directories de trash van het schijnbare eerste mountpoint gebruikt wordt; dan zou b.v. ~/cinema (gelinkt naar /media/sdata/cinema op HDD) getrashed worden naar ~/.local/share/Trash op de SSD, met gigabytes kopiëren naar de SSD tot gevolg.
	- klein foutje : trash-put maakt op ramdisk zelf een .Trash-directory, maar zonder sticky bit. Geeft foutboodschap:
		$ trash-list
		>>> TrashDir skipped because parent not sticky: /media/ramdisk/.Trash/1000 <<<
		- zie https://github.com/andreafrancia/trash-cli/issues/109

- trash-list, trash-empty en trash-rm werken over alle .Trash-directories heen

- restore-trash werkt enkel op .Trash-directory van mountpoint voor current directory

- trash-rm : wildcard IN QUOTES, anders globbing door shell naar overeenkomende bestanden in current directory

=== JGsoft RegexBuddy v3.2.1 Retail (GEZIPTE.PRG/GETEST Windows) geinstalleerd in wine naar G:\PROGRAMS ===

=== 0 Skype 4.3 gered (2018/01/15) ===

- Skype (4.3.0.37-0ubuntu0.12.04.1) sluit af direct na het aanmelden (zelfs niet meer in task manager) :
	- Is end-of-life gezet door Microsoft :
	>>> https://answers.microsoft.com/en-us/skype/forum/skype_linux-skype_startms-skype_installms/end-of-life-of-skype-for-linux-43/70fe7036-ddf3-4fa3-9c06-1bca3ec0226c?auth=1
		Babs [Skype] started on Nov 7 2017 - Microsoft Forum Owner | Article Author
		End of Life of Skype for Linux 4.3
		As announced earlier this year, the old Skype for Linux v4.3 is at its end-of-life and will be decommissioned in the upcoming weeks. You will be automatically signed out of Skype until you update. Please, update to the new Skype 8.x, which is ready for you with lots of improvements at Skype.com.
	<<<
	- MS biedt nu zelf (https://www.skype.com/en/get-skype/) een download aan (gewoon maar een deb-pakket) voor een versie 8 (zie GEZIPTE.PRG) die 250MB installeert!

- Skype 4.3.0.37 verwijderd (USC); wordt daarna niet meer gevonden door USC om opnieuw te installeren

- Skype 4.3.0.37 terug geinstalleerd van PPA “BeLin developers” team op https://launchpad.net/~belin/+archive/ubuntu/stable
	# add-apt-repository ppa:belin/stable
	# apt-get update
	- geinstalleerd (USC): zoeken op "Skype" of "skype-bin", niet op "skype"
		- "Client for Skype VOIP and instant messaging service - binary files", skype-bin:i386 version : 4.3.0.37-0ubuntu0.12.04.5 (44,8MB installed)
		x Optional add-on "Indicator support for Qt (sni-qt)"
		-  op "skype" enkel deze te zien "Client for Skype VOIP and instant messaging service", skype 4.3.0.37-0ubuntu0.12.04.5 (378.9kB when installed)
	- werkt ook niet zoals geinstalleerd
	- OPLOSSING: als root met ghex in /usr/binskype de enige occurence van versie-string 4.3.0.37 (offset 0x1645618) gewijzigd naar 8.3.0.37
	- In "Software & Updates/Other sources" repository belin terug uitgevlagd, om te vermijden dat er van daar andere pakketten dan skype worden betrokken; nieuwe skype 4.3 zal er toch niet komen, dus geen probleem langs die kant

- skype geluidskanalen vastleggen : (zie "_Xubuntu truuks en commandos" sectie "luidspreker kiezen") :
	- vervang (root) de volgende lijn
	>>> skype.desktop
		Exec=env PULSE_LATENCY_MSEC=60 skype %U
	DOOR
		Exec=env PULSE_LATENCY_MSEC=60 PULSE_SOURCE="alsa_input.usb-Plantronics_Plantronics_.Audio_648_USB-00.iec958-stereo" PULSE_SINK="alsa_output.usb-Plantronics_Plantronics_.Audio_648_USB-00.iec958-stereo" skype %U
	<<<

=== Stellarium 0.17.0.1 appimage (2018/01/16) ===

- AppImages are basically ISO compressed files containing all dependencies within them which allows to use them on any Linux distro without need of any installation. More info https://en.wikipedia.org/wiki/AppImage

- 64-bit linux AppImage gedownload van http://stellarium.org/en/ naar /media/sdata/.stacks/stellarium/
	>>> https://appimage.org/
	 "To run an AppImage, simply: Make it executable and run!"
	<<<

- ~/.stellarium gekopieerd naar sdata/.stacks/stellarium/config, en vervangen door link naar die config

- Locatie Bazel (Kruibeke)  N 51° 8' 49.24" - O 4° 18' 0.58"

- menu-entry in Education en launcher in stafke-groep

=== zerofree (USC) - Zero free blocks from ext2, ext3 and ext4 file-systems (2018/01/28) ===

- i.p.v. een virtuele schijf met "dd if=/dev/zero ..." alle ongebruikte blocks met 0-bytes te schrijven, vooraleer de 0-blokken met "fallocate -d ..." sparse te maken, met zerofree alleen 0-bytes schrijven naar de ongebruikte blocks die niet-0 bevatten

- zie ook libguestfs om e.e.a. te doen met virtuele schijven van zowat alle VM-managers

=== 0 cryfs dropbox versleuteling (https://www.cryfs.org/) met FUSE (2018/02/20) ===

- verwijderd

- zit vanaf Aardvark in Ubuntu

- voor Xenial cryfs v.9.6-1 gevonden in repository van “llxdev” team, die een educational Ubuntu-based custom ubuntu derivative maken, lijkt betrouwbaar (er is een cryfs v9.7-1 op https://launchpad.net/~hda-me/+archive/ubuntu/zulucrypt, maar dat is maar een bijzaakje bij ene zulucrypt)
	- https://launchpad.net/~llxdev/+archive/ubuntu/xenial :
		# add-apt-repository ppa:llxdev/xenial
		# apt-get update
		# apt install cryfs

- gebruik :
	- zie /home/dirk/Public/DOCS/CryFS Tutorial.pdf
	$ cryfs versleuteldedir ontsleuteldedir
		[--blocksize bytes] : standaard 32k; als er veel kleine bestanden zijn, best instellen op die van onderliggend filesystem, want is minimum bestandsgrootte voor zelfs een leeg bestand
		- kan waarschijnlijk niet versleuteldir over zichzelf mappen, zou teveel gevraagd zijn (ecryptfs kan dat wel, maar die zit in de kernel)
		- maakt desnoods beide directories als ze niet bestaan
		- vraagt paswoord
		- testje gedaan met 3GB erop te zetten, had maar 10MB extra nodig
	$ fusermount -u ontsleuteldedir

- alternatief : gocryptfs (zie GEZIPTE.PRG/UBUNTU)
	- niet installeren, gewoon in b.v. ~/bin zetten
	- is 30% sneller dan cryfs
	- geen obfuscation van directory structuur, file size en modification time; cryfs heeft dat wel
	- vooraf met -init uitvoeren voor versleutelde map (geeft dan masterkey die ge moet opschrijven voor als ge uw paswoord vergeet; dan kunt ge evengoed uw paswoord opschrijven)
	- heeft reverse mode om locaal onversleuteld bij te houden, met versleutelde kijk daarop in dropbox synchronizatiedirectory
	- "To support sparse files, all-zero blocks are accepted and passed through unchanged."

=== removed mkvtoolnix (2018/05/02) ===
- nog nooit gebruikt, ffmpeg kan alles

- verwijderen
	# apt-get update
	# apt-get remove mkvtoolnix-gui mkvtoolnix
- wissen uit /etc/apt/sources.list
	deb http://mkvtoolnix.download/ubuntu/xenial/ ./
	deb-src http://mkvtoolnix.download/ubuntu/xenial/ ./

=== Oracle VM VirtualBox update naar 5.2.10  (USC, zoekterm "Oracle VM VirtualBox" of "virtualbox-5.2") ===

	- repositories terug wat op orde brengen, zoals in sectie "VirtualBox (USC van Oracle VBox repository, zie hieronder)"
	# apt-get install virtualbox-5.2

- These programs are run from a terminal :
	VBox, VBoxAutostart, VBoxBalloonCtrl, VBoxBugReport, VBoxDTrace, VBoxHeadless, VBoxManage, VBoxSDL, VBoxTunctl, VBoxVRDP, VirtualBox, rdesktop-vrdp, vbox-img, vboxautostart, vboxballoonctrl, vboxbugreport, vboxheadless, vboxmanage, vboxsdl, vboxwebsrv, virtualbox

- nieuw extension pack installeren :
	- download van https://www.virtualbox.org/wiki/Downloads (gewoon effe naar ramdisk) : Oracle_VM_VirtualBox_Extension_Pack-5.2.10.vbox-extpack (version 5.2.10r122406)
	- VBox (heet eig. VBox Manager) opstarten:
		- preferences, extensions :
			- oude verwijderen
			- nieuwe toevoegen: selecteer de download

=== mrsid decoder ===

- mrsidgeodecode - for decoding MrSID files to other file formats, such as GeoTIFF
- mrsidgeoinfo - for displaying information about a MrSID file, such as pixel dimensions, geospatial extents, etc
- mrsidgeometa - for modifying specific types of metadata in a MrSID, such as embedding world file information, adding user metadata, etc
- lidardeocde - for decoding MrSID LiDAR files to other formats.

- "GEZIPTE.PRG/UBUNTU/LizardTech MrSID GeoExpress tools/GeoExpressCLUtils-9.5.0.4326-linux64.tar" uitgepakt naar /media/sdata/.stacks, met link daarnaar als /opt/GeoExpress
- alles chmod root:root ...; links moeten blijkbaar overschreven worden:
	# ln -sf ... ...
- library-pad zetten naar de libraries in ./bin (zie README.TXT):
	>>> ~/.pam-environment
		LD_LIBRARY_PATH=/opt/GeoExpress/bin
	<<<

=== TexLive Windows binaries (2018/07/24) ===

- Repository definitief instellen op historische versie 2016, voorkomt vermenging met recentere Tex Live releases :
	- Om in 2018 de binaries van 2016 of 2017 (zou laatste voor windows XP zijn) te installeren, expliciet opgeven welke repository gebruikt moet worden. De CTAN mirrors (Com­pre­hen­sive TeX Archive Net­work) houden niet systematisch oudere versies bij, de TUG (Tex User Group) wel:
		$ \tlmgr option repository ftp://tug.org/historic/systems/texlive/2016/tlnet-final/
		OF via GUI :
		$ tlmgr
		- (dit is bash alias "tlmgr gui")
		- "Options/General/Default package repository/Change" :
			ftp://tug.org/historic/systems/texlive/2016/tlnet-final/
		- stelt als "main repository" het archief van final versie 2016 in voor alle tlmgr bewerkingen, zodat we niet per ongeluk packages etc. uit nieuwste release mengen met mijn 2016-installatie
		- OPM : via ftp (ftp://tug.org/historic/...) werkt 1 downloadmethode van tlmgr niet, daarom
			- voor met elke \tlmgr opdracht de parameter "--no-persistent-downloads" meegeven :
				$ \tlmgr --no-persistent-downloads ...
			OF
				$ \tlmgr conf tlmgr persistent-downloads 0
	- lokaal repository (b.v. iso) veel vlotter dan historisch ftp-repository van tug.org, waar de download-methodes die tlmgr eerst probeert, niet werken; is per tlmgr-opdracht op te geven :
		$ sudo mount "GEZIPTE.PRG/UBUNTU/TexLive/texlive2016-20160523.iso" /cdrom
		$ \tlmgr --repository /cdrom ...
	- per package kunnen nog bijkomende repositories opgegeven worden: zoek in "man tlmgr" op --pin-file

- Windows exe's bij-installeren
	- Tex Live 2017 is laatste voor Windows XP, voorlopig houd ik het bij de reeds geinstalleerde v. 2016
		- binaries zijn 32-bits, te proberen of die van versie 2018 e.v. toch niet in XP werken
		>>> https://www.tug.org/texlive/doc/texlive-en/texlive-en.html
		9 Release history
			9.2 Present—2018
			 Platforms:
				Windows: XP is no longer supported.
		<<<
	- list which platforms are supported and which are installed :
		$ sudo mount "GEZIPTE.PRG/UBUNTU/TexLive/texlive2016-20160523.iso" /cdrom
		$ \tlmgr --repository /cdrom platform list
			- \tlmgr of "tlmgr" voorkomt vervanging door bash-alias "tlmgr gui" van tlmgr
			>>> OPM: er is nu (2018/05/23) geen win64
				Available platforms:
					aarch64-linux
					...
					sparc-solaris
					win32
					x86_64-cygwin
					...
				(i) x86_64-linux
					...
				Already installed platforms are marked with (i)
				You can add new platforms with: tlmgr platform add ARCH1 ARCH2...
			<<<
	- Windows exe's installeren'
		$ mkdir /media/sdata/.texlive/2016/binwin32
		$ cd /opt/texlive/2016/bin
		$ ln -s /media/sdata/.texlive/2016/binwin32 win32
		0 tlmgr
			- alias voor 'tlmgr gui'
			- doet gedwongen update naar tlmgr 2018
			- gui kan geen platform toevoegen, alleen verwijderen
		- \tlmgr omzeilt alias 'tlmgr=tlmgr gui'
		- indien nog niet gedaan :
			$ sudo mount "GEZIPTE.PRG/UBUNTU/TexLive/texlive2016-20160523.iso" /cdrom
		$ \tlmgr --repository /cdrom platform add win32
			- geeft aantal foutboodschappen voor platform-specifieke uitbreidingen nodig voor sommige packages die niet bestaan voor Windows (niet elke package auteur doet de moeite om elk platform te ondersteunen). Daar is NIETS aan te doen :
			>>>
				"tlmgr: action platform add, cannot find package adhocfilelist.win32"
				Idem voor bibexport.win32, checklistings.win32, cyrillic-bin.win32, dtxgen.win32, fontinst.win32, latex-papersize.win32, latex2nemeth.win32, latexfileversion.win32, listings-ext.win32, ltxfileinfo.win32, lwarp.win32, pdfbook2.win32, pdfjam.win32, pdflatexpicscale.win32, pdfxup.win32, texconfig.win32, texosquery.win32, tpic2pdftex.win32, typeoutfileinfo.win32 en xdvi.win32
			<<<
	- link naar /opt/texlive als /media/sdata/.win-gschijf/PROGRAMS/texlive
		- Er is een TeX Live launcher die zorgt voor 1ste configuratie van de Tex Live omgeving op windows
			- niet nodig voor TexStudio (zie verder)
			- zie "https://www.tug.org/texlive/windows.html"
			- docu "http://mirror.ctan.org/support/tlaunch/tlaunch.pdf"
			- toegangscontrole : zie sectie "beveiligen G: schijf voor wine en Windows"
		0 WERKT NIET in Windows XP : "/opt/texlive/2016/bin/win32/tlaunch.exe"
			- is "installer" voor Windows van bestaande TexLive download, typisch op netwerk (of VBox host in dit geval)
			- doet niet meer dan pad instellen en een dialoog met snelkoppelingen tonen
		0 WERKT WEL in Windows XP : "/opt/texlive/2016/w32client.bat" (start Perl-script "/opt/texlive/2016/w32client" met de perl interpreter van TexLive  zelf)
			- GEZIPTE.PRG/UBUNTU/TexLive/w32client.zip gedownload van "The old Windows client installer scripts" (https://www.tug.org/texlive/w32client.html) en aangepast voor TexLive 2016 volgens GEZIPTE.PRG/UBUNTU/TexLive/w32client.diff
			- zet PATH en maakt een (heel beperkt, 2 items) menuutje in startmenu

- TexStudio 2.12.6 portable (tot nu toe laatste voor WinXP) van https://www.texstudio.org/ uitgepakt naar /media/sdata/.win-gschijf/PROGRAMS/texstudioXP
	- 2.12.10 voor XP (met Qt5) heeft geen portable, wel een installer
	- ./config/ schrijfbaar voor Dirk (zie sectie "beveiligen G: schijf voor wine en Windows")
	- zorgen dat TexStudio de TexLive installatie vindt:
		- gebruik expliciet G:\PROGRAMS\texlive\2016, NIET de symlinks in G:\PROGRAMS\texlive\current : werkt niet (heeft niet alle TexLive benodigdheden, alleen bin en info), en 2016 is toch op 1 na laatste voor XP
		- "Options/Configure TexStudio/Toon geavanceerde opties" : "X"
			"Options/Configure TexStudio/Bouw/Bouwopties/Aanvullende zoekpaden/Commando's ($PATH)" : "G:\PROGRAMS\texlive\2016\bin\win32"
			- OPM: mogelijk nodig tot "Commando's" te scrollen met scrollbalk rechts in sectie "Aanvullende zoekpaden"
		OF
		0 "Mijn computer/Eigenschappen/Geavanceerd/Omgevingsvariabelen" toevoegen aan PATH :
			- "G:\PROGRAMS\texlive\2016\bin\win32" om b.v. pdflatex.exe ook op opdrachtprompt te gebruiken
			- "G:\PROGRAMS\texlive\2016" (basisdirectory van TexLive 2016) is genoeg voor TexStudio
	- "Options/Configure TexStudio/Commando's/Externe PDF weergave" : "G:/PROGRAMS/SumatraPDF.exe" %.pdf
	- rest is automatisch gegenereerd (check met "Help/Check LaTeX installation")
	- tijdelijke bestanden, tussenbestanden, en uitvoer (pdf, log, aux, biber, ...) buiten map met latex-broncode houden :
		- "Options/Configure TexStudio/Commando's/PdfLatex" : pdflatex -output-directory OUTPUTMAP ...
			- OUTPUTMAP :
				- absoluut, b.v. "J:\TEMP" (met J: b.v. ramdisk)
				- relatief, b.v. "tmpout" (subdirectory van map texdocumenten)
		- "Options/Configure TexStudio/Commando's/Externe PDF weergave" : OUTPUTMAP toevoegen met syntax
			- absoluut: "G:/PROGRAMS/SumatraPDF.exe" OUTPUTMAP\%.pdf
			- relatief: "G:/PROGRAMS/SumatraPDF.exe" ?a)OUTPUTMAP\?m.pdf
				?a) : selector voor absoluut pad master (eindigt blijkbaar vanzelf in '\')
				?m. : selector voor basisnaam master, afgesloten met '.'
		- "Options/Configure TexStudio/Toon geavanceerde opties" : "X"
			"Options/Configure TexStudio/Bouw/Bouwopties/Aanvullende zoekpaden/Logbstand" : OUTPUTMAP
			"Options/Configure TexStudio/Bouw/Bouwopties/Aanvullende zoekpaden/PDF-bestand" : OUTPUTMAP

=== verversen certificaat winswitch ===

- 2018/10/23 13:49:44
	# apt-key adv --keyserver keys.gnupg.net --recv-keys F18AD6BB

=== cifs - Common Internet File System ===

- nodig in VM om Samba share te mounten; installeer het hier zodat elke backup die hersteld wordt naar VM, daarover beschikt

- 2018/10/23 13:49:44
	# apt-get update
	# apt-get install cifs-utils
	- 122kB

== BIONIC dist-upgrade 181029 ==

- spacefm
	- spacefm Trash-plugin : "gio trash" i.p.v. gvfs-trash, ineens script uitgebreid, ook geinstalleerd voor root user
- Firefox plugins (zia about:addons, Legacy Extensions) :
	- nieuwere "Print Edit WE", "Video DownloadHelper"
	- "Bookmark Tab Here" is er terug
	- "Nimbus Screen Capture" ipv "Screenshooter Fixed"
	- "NoScript" v.10 van Giorgio Maone i.p.v. oude noscript
	- UnMHT niet meer in Firefox, alternatief: Java zipwebserver met https://stackoverflow.com/a/36567112
	- rest nog uit te zoeken

=== LAPMIDDELS ===

==== zathura nog zonder zathura-pdf-mupdf, mupdf zelf gebruiken ====

- mupdf blijkt bijna even bruikbaar te zijn als zathura
	- heeft echter geen auto-reopen, handig voor b.v. latex-werk. Alternatieven :
		- key binding 'r'
		- ?? send a SIGHUP signal to the mupdf process
	- kan wel tekst kopiëren (selecteren met averechtse muisknop, Ctrl-C), maar is minder precies bij moeilijke pagina-opmaak
	- evt. instellen als default via spacefm (die schrijft dat weg naar xdg-mime default, wat gebruikt wordt door xdg-open.)
	- bash alias "mupdf -r 180" (default is 72dpi, de vga-resolutie) om pdf direct in groter venster te openen
	- kopie van /usr/sharelocal/ naar  ~/.local/share/applications/mupdf.desktop, met -r 180 :
		$ sed -e "s/^Exec=mupdf/Exec=mupdf -r 180/g" /usr/share/applications/mupdf.desktop > ~/.local/share/applications/mupdf.desktop

- zathura : OK, maar nog geen zathura-pdf-mupdf 
	- Terug geinstalleerd (USC), versie 0.3.8-1, met opties zathura-ps, zathura-djvu en zathura-cb (en default pdf-popller)
		- alternatieve werkwijze :
			# apt-get install --install-suggests zathura
				- doet er ineens ook de suggesties zathura-ps, zathura-djvu en zathura-cb bij
	- OPM : project is nog actief op https://git.pwmt.org/pwmt/zathura, maar project website "https://pwmt.org/projects/zathura/" is onbereikbaar
	- spvkgn, die voor Xenial de mupdf plugin aanbood, heeft wel een ppa met zathura 0.4.0-1, maar zelfs de meest recente 0.4.1 biedt niets wereldschokkends tegenover Ubuntu bionic's default zathura 0.3.8-1
		0# add-apt-repository ppa:spvkgn/zathura
		- op deze ppa zijn er wel bionic-plugins voor cb, djvu, pdf-poppler en ps
		- ook in zijn "https://launchpad.net/~spvkgn/+archive/ubuntu/bionic-updates" is er alleen Zathura poppler
	- ik had graag zathura-pdf-mupdf i.p.v. pdf-poppler : sneller dan poppler pdf, doet ook epub
		- er is (nog?) geen mupdf ppa (meer) voor bionic, deze ppa heeft enkel nog xenial en ouder
			- ppa is nu uitgeschakeld in "Software & Updates", "Release" staat nog op Xenial
			- ooit terug activeren voor Bionic, of definitief verwijderen :
				# add-apt-repository --remove ppa:spvkgn/zathura-mupdf
				# apt-get update
			- poging de zathura-pdf-mupdf van xenial te blijven gebruiken mislukt
				- er zijn er zelfs die de zathura-mupdf van ArchLinux met succes gebruiken
				- bij mij lukt het niet direct (met ppa:spvkgn/zathura-mupdf xenial) :
				>>>
					# apt-get install zathura-pdf-mupdf
					Reading package lists... Done
					Building dependency tree       
					Reading state information... Done
					Some packages could not be installed. This may mean that you have
					requested an impossible situation or if you are using the unstable
					distribution that some required packages have not yet been created
					or been moved out of Incoming.
					The following information may help resolve the situation:
					The following packages have unmet dependencies.
					 zathura-pdf-mupdf : Depends: zathura-abi-2gtk3 but it is not installable
										 Depends: libgirara-gtk3-2 (>= 0.1.3) but it is not installable
				<<<
		- zie https://askubuntu.com/questions/804515/install-mupdf-plugin-backend-for-zathura-document-viewer
			>>> spvkgn, die van de ppa voor xenial
				The plugin is still not included in Debian repos and so I decided to package it myself. I've uploaded zathura-pdf-mupdf package to Launchpad PPA ppa:spvkgn/zathura-mupdf, it contains packages for 16.04, 16.10, 17.04 and 17.10 Ubuntu series. The plugin compiled against library from latest MuPDF 1.11 version.
				spvkgn
			<<<
			>>>
				A dirty and hacky way is to use the Arch binary. Be aware, in general it is not recommended to install software this way. It is a binary from a different distribution, it will not be updated nor patched automatically. Use it at your own risk.
				Download and extract the binary /usr/lib/zathura/pdf.so from the package and copy it to e.g. /usr/lib/zathura/pdf.so on your Ubuntu machine. Better rename your existing pdf.so (poppler) to pdf.bu so it won't conflict.
				The plugin is recognized:
					$ zathura --version
					zathura 0.3.5
					(plugin) djvu (0.2.5) (/usr/lib/zathura/djvu.so)
					(plugin) pdf-mupdf (0.3.0) (/usr/lib/zathura/pdf.so)
					(plugin) ps (0.2.3) (/usr/lib/zathura/ps.so)
					(plugin) cb (0.1.5) (/usr/lib/zathura/cb.so)
				Till now I haven't seem much stability issues. Zathura is much faster then before, especially in rendering (huge images) and searching.
				Advantage is that the zathura-pdf-mupdf-0.3.0 plugin also supports the epub format.
			<<<


==== VLC autoscale op tv ====

- Probleemstelling : sinds Bionic 18.04.1 heeft VLC (3.0.3) problemen op tv-out : lettertype menu is 30x vergroot, zodat er niets anders meer te zien is, zo gauw de interface (met of zonder "video in interface" voor de helft of meer op TV-scherm komt)
	- alleen met de standaard qt-interface
	- niet met Skinned interface
		- skin-bestanden hebben extensie .vlt, is ofwel een tar.gz, ofwel een tar, met daarin een theme.xml en resources (font, beelden)
		- theme.xml lijkt gemakkelijk te wijzigen.
			- bedieningsbalk voor volledig scherm heet <Window id="fullscreenController" visible="vlc.isFullscreen">; er is nergens een functie om die wel of niet te verbergen, dus waarschijnlijk wordt dat door vlc zelf gestuurd a.d.h.v. de id of de visible-parameter
		- VLC heeft een Java skin editor
	- Op  "https://www.videolan.org/vlc/skins.php" is er slechts 1 skin met auto verbergen van bedieningsbalk in volledig scherm :
		- Advantage vlc (~/.config/vlc/avs_0_95_beta.vlt)

- oorzaak : xrandr ziet onze 42"-"tv als een scherm van 16x9mm :
	>>> $ xrandr
		Screen 0: minimum 320 x 200, current 3120 x 1920, maximum 8192 x 8192
		HDMI-1 connected 1920x1080+1200+0 (normal left inverted right x axis y axis) 16mm x 9mm
		...
	<<<
	- zie "http://doc.qt.io/qt-5/highdpi.html"
	>>>
	High DPI Support in Qt
    Ability to provide pixmaps or artwork for high resolution: see Drawing High Resolution Versions of Pixmaps and Images.
    Qt 5.6 supports cross-platform high-DPI scaling for legacy applications, similar to the scaling done natively by macOS. This allows applications written for low-DPI screens to run unchanged on high-DPI devices. This feature is opt-in, and can be enabled by the following environment variables:
        QT_AUTO_SCREEN_SCALE_FACTOR [boolean] enables automatic scaling, based on the pixel density of the monitor. This will not change the size of point sized fonts, since point is a physical unit of measure. Multiple screens may get different scale factors.
        QT_SCALE_FACTOR [numeric] defines a global scale factor for the whole application, including point sized fonts.
        QT_SCREEN_SCALE_FACTORS [list] specifies scale factors for each screen. This will not change the size of point sized fonts. This environment variable is mainly useful for debugging, or to work around monitors with wrong EDID information(Extended Display Identification Data). The format can be either a semicolon-separated list of scale factors in the same order as QGuiApplication::screens(), or a semicolon-separated list of name=value pairs, where name is the same as QScreen::name().
	<<<
	
0 lapmiddel 1 : standaard interface skinned, met skin ~/.config/vlc/avs_0_95_beta.vlt (nog te verbeteren: lichter en meer knoppen)
	- klassieke qt-interface starten
		$ qvlc
		- bedieningsbalken volledig op maat maken
		- luistert naar Windows-manager toetsen voor plaatsing van venster

- lapmiddel 2 :
	- de qt-interface van vlc is er blijkbaar op voorzien om op te schalen op high-dpi monitors, en onze tv wordt blijkbaar herkend als zo'n high-dpi monitor. Dit uitschakelen (als lapmiddel; eig. zouden de EDID-parameters van onze tv ergens moeten aangepast worden) :
	0 per opstart van vlc (kan dit in .desktop?) :
		$ env QT_AUTO_SCREEN_SCALE_FACTOR=0 vlc
		EN
		$ env QT_AUTO_SCREEN_SCALE_FACTOR=0 qvlc
	- algemeen (omdat ik toch geen high-dpi schermen heb) :
		>>> ~/.pam_environment OF  ~/.profile (en zelfde voor /root)
		QT_AUTO_SCREEN_SCALE_FACTOR=0
		<<<

- definitieve oplossing ?
	- zie https://wiki.ubuntu.com/X/Quirks#Intel_Driver_-_Resolution_Mis-detected_due_to_lack_of_EDID_quirks_in_kernel

==== vdi in qemu-nbd faalt ====

- er zijn (andere?) bugs in .vdi-schrijven van qemu-utils, b.v.
	>>> https://bugs.launchpad.net/qemu/+bug/721825
	"VDI is not used heavily and typically in read-only mode so these bugs are not urgent."
	<<<

- op Xubuntu 16.04.3 :
	$ apt-cache policy qemu-utils
	>>>
	qemu-utils:
	  Installed: 1:2.5+dfsg-5ubuntu10.16
	  Candidate: 1:2.5+dfsg-5ubuntu10.32
	  Version table:
		 1:2.5+dfsg-5ubuntu10.32 500
			500 http://archive.ubuntu.com/ubuntu xenial-updates/main amd64 Packages
		 1:2.5+dfsg-5ubuntu10.30 500
			500 http://security.ubuntu.com/ubuntu xenial-security/main amd64 Packages
	 *** 1:2.5+dfsg-5ubuntu10.16 100
			100 /var/lib/dpkg/status
		 1:2.5+dfsg-5ubuntu10 500
			500 http://archive.ubuntu.com/ubuntu xenial/main amd64 Packages
	<<<

- Alternatieven :
	0 probeer .vdi op HDD ipv tmpfs
	? probeer opties van qemu-nbd zoals --cache= of --nocache, -aio, --shared, --detect-zeroes + --discard
	- volledig herstel naar raw disk image op ramdisk, dan convert naar .vdi
	- .vdmk i.p.v. .vdi
		- evt. achteraf converteren (disk image eerst losmaken van VM) :
		$ vboxmanage clonemedium disk --format VDI bron.vmdk [pad/doel.vdi]
			- default doel : bron.vdi

- PROBLEEM : bestand met qemu-nbd verbinden aan een /dev/nbd# lukt, dat partitioneren lukt, maar dan een ext4 bestandssysteem maken in die partitie blijft hangen; bovendien blijft mkfs.ext4 hangen in process status 'D' :
	>>> D means it is in uninterruptible sleep and cannot and will not handle signals. You cannot kill it until it's done. <<<
	$ grep nbd /var/log/syslog
	>>>
		Nov  1 10:16:57 FRT kernel: [ 3046.269966] block nbd0: Other side returned error (5)
		Nov  1 10:16:57 FRT kernel: [ 3046.269977] print_req_error: I/O error, dev nbd0, sector 34816
		Nov  1 10:17:28 FRT kernel: [ 3076.626238] block nbd0: Connection timed out
	<<<
	$ grep -i ext4 /var/log/syslog
	>>>
		Nov  1 10:20:34 FRT kernel: [ 3263.319030] INFO: task mkfs.ext4:3234 blocked for more than 120 seconds.
		Nov  1 10:20:34 FRT kernel: [ 3263.319041] mkfs.ext4       D    0  3234   3233 0x00000000
		Nov  1 10:22:35 FRT kernel: [ 3384.147268] INFO: task mkfs.ext4:3234 blocked for more than 120 seconds.
		Nov  1 10:22:35 FRT kernel: [ 3384.147279] mkfs.ext4       D    0  3234   3233 0x00000000
	<<<

- voorlopig heb ik hier alleen last van in mijn scripts ".../.backups/_maakVMvanBackup*.sh" om vanop de CLI zelf een Virtual machine te maken van een backup
	- een weg hierrond is om te beginnen vanaf een (sparse) niet-vdi-bestand, daarin de nodige partities en bestandssystemen te maken, dat neemt niet veel plaats in, daarvan een vdi virtuele schijf te maken, en die mounten en beschrijven, b.v. :
	$ cd /media/ramdisk
	$ truncate -s 10G bestand
		- is vanzelf sparse (0 blocks op schijf)
	$ parted --script --align optimal bestand -- mklabel gpt mkpart vusr ext4 0% 100% unit B print
	$ sudo losetup --show -Pf bestand
	>>> [sudo] password for dirk: <<< stderr
	>>> /dev/loop0 <<< stdout
	$ sudo mkfs.ext4 -L mijnfslabel /dev/loop0p1
	$ sudo losetup -d /dev/loop0
	$ vboxmanage convertfromraw bestand bestand.vdi --format vdi
	- en dan verder met de gebruikelijke opdrachten zoals (vb. voor interactief gebruik) :
		$ sudo modprobe nbd
		$ for i in {0..15} ; do  $(lsblk -nrpo NAME,MOUNTPOINT,SIZE,TYPE,LABEL /dev/nbd$i);if [[ $? == 32 ]] ; then echo $i is vrij;break;else echo $i bezet;fi;done
		0 is vrij
		$ sudo qemu-nbd -c /dev/nbd0 bestand.vdi

TEST OP HDD
$ vboxmanage createmedium disk --filename /media/tarch/WERK/test.vdi --size 15000
$ sudo modprobe nbd
$ for i in {0..15} ; do lsblk /dev/nbd$i; echo $i $?;done
$ sudo qemu-nbd -c /dev/nbd0 /media/tarch/WERK/test.vdi 
$ sudo parted --script --align optimal /dev/nbd0 mklabel gpt mkpart PLTSTUSR ext4 0% 100% unit B print
$ lsblk
$ sudo mkfs.ext4 -L FLTSTUSR /dev/nbd0p1
	>>>
		mke2fs 1.44.1 (24-Mar-2018)
		Discarding device blocks: failed - Input/output error
		Creating filesystem with 3839488 4k blocks and 960992 inodes
		Filesystem UUID: ac9b8373-6e58-4a0a-b43d-572348e31cec
		Superblock backups stored on blocks: 
			32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208

		Allocating group tables: done                            
		Writing inode tables: done                            
		Creating journal (16384 blocks): done
		Writing superblocks and filesystem accounting information:
	<<<
	- blijft hangen, zie /media/tarch/WERK/syslog
$ sudo mount /dev/nbd0p1 /mnt
$ sudo unsquashfs -f -d "/mnt/usr" /media/sdata/.backups/181029_15u28m_USR_*.squashfs 2>&1

=== OPGELOST ===
- scannen : OK
- cups aanpassen voor pdf-move-script : OK
- pulseaudio configureren voor 2 uitgangen tegelijk : OK

==== Xpra ====

- xpra : officiele bionic repository zit nu ook op versie 2.1.3, dezelfde als die ik Xenial van ppa:winswitch.org geïnstalleerd heb. Die xpra in USC verwijderd (en zijn repositories uit "Software & sources") en terug geinstalleerd:
	- USC Xpra
		- versie xpra 2.1.3-r17247-1
		- remove
		- toont nu versie xpra 2.1.3+dfsg-1ubuntu1
		- install
	- evt. nieuwere latere versies
		- verificatiesleutel :
			$ wget -q  https://xpra.org/gpg.asc -O- | sudo apt-key add -
		- repository van xpra zelf :
			# echo "deb https://xpra.org/dists/ bionic main" > /etc/apt/sources.list.d/xpra_org.list

- PROBLEEM 1 : X11 Server - Xorg van Ubuntu zou defect zijn
	- xpra 2.1.3+dfsg-1ubuntu1 gebruikt Xorg (net als 2.4.1 voor bionic van xpra.org zelf), maar die zet bij impliciete of expliciete "xpra stop" heel het systeem op zwart scherm
		- zie /etc/xpra/conf.d/55_server_x11.conf
	- muis en toetsenbord werken nog, dus in nood
		OFWEL
			- <alt><ctrl>T : open terminalvenser
			$ shutdown now
			OF (met mijn .bash_aliases)
			$ uit
		OFWEL
			- <alt><ctrl>F1 - F6 : open tty1 of t.e.m. tty6
			- login
			- doe daar nog het nodige		

- OPLOSSING 1 : Xvfb i.p.v. Xorg
	- eigen "Virtual display command" in ~/.xpra/xpra.conf gebruiken, gekopiëerd uit /etc/xpra/conf.d/55_server_x11.conf :
		>>> ~/.xpra/xpra.conf :
			xvfb = Xvfb +extension Composite -nolisten tcp -noreset \
			-auth $XAUTHORITY \
			-screen 0 5760x2560x24+32
		<<<
	- Hiermee wordt als vanouds in xpra, de opdracht xvfb (X virtual frame buffers) van X11 gebruikt om scherm van xpra op te bouwen, i.p.v. de opdracht Xorg 

- PROBLEEM 2 : proxy : xpra start nu vanaf boot na installatie, bij opstarten pc een "xpra proxy" proxyserver, met toevallig mijn connection string "--bind-tcp=0.0.0.0:14500"
	- zie /lib/systemd/system/xpra.service (met datum < mijn installatiedatum, dus dit komt uit de .deb)
	- die string is daardoor niet meer vrij voor expliciet gebruik bij "xpra start --bind-tcp=0.0.0.0:14500"

- OPLOSSING 2 : proxy service uitschakelen
	0 wis /lib/systemd/system/xpra.service
	# systemctl [--now] disable xpra
		>>> Removed /etc/systemd/system/multi-user.target.wants/xpra.service.<<<
		- "... this command does not implicitly stop the units that are being disabled. If this is desired, either combine this command with the --now switch, or invoke the stop command with appropriate arguments later."
		- zie b.v. "https://superuser.com/questions/513159/how-to-remove-systemd-services"
	OF berusten in de default connection string van de xpra proxy :
		- "xpra start ..." zonder connection string neemt gewoon die van de proxyserver over, dus gewoon zo starten
		- kan wel, maar zonde van die proxy, b.v. start server op andere tcp-poort :
			$ xpra start --bind-tcp=0.0.0.0:14501
		
- PROBLEEM 3 : "/usr/lib/xorg/Xorg.wrap: Only console users are allowed to run the X server"
		>>> 
			...
			Xvfb command has terminated! xpra cannot continue
			 if the display is already running, try a different one,
			 or use the --use-display flag
		<<<
		- zie https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=863891
			- Found in versions xpra/0.17.6+dfsg-1, xpra/2.1.3+dfsg-1
			- Fixed in version xpra/2.3.2+dfsg1-2
				>>>
				The problem is the auto-detection during build-time which can't find the proper path as Xorg is not installed in the build chroot during installation. A simple workaround is to modify PATH to prefer the non-setuid binary:
					PATH="/usr/lib/xorg:$PATH" xpra ...
				Or modify /etc/xpra/conf.d/55_server_x11.conf:
					xvfb = /usr/lib/xorg/Xorg ...
				<<<
			- niet nodig /etc-bestanden te wijzigen, ~/xpra/xpra.conf is genoeg, of via .profile of een alias voor xpra altijd /usr/lib/xorg in pad zetten
				
0 OPLOSSING 3 : volledig pad naar Xorg verschaffen
	- niet nodig met OPLOSSING 1 : Xvfb i.p.v. Xorg
	- niet nodig met versies van xpras.org vanaf 2.3.2, daar staat volledig pad al in "/etc/xpra/conf.d/55_server_x11.conf"
	0 alias toegevoegd aan ~/.bash_aliases  :
		>>> alias xpra='PATH=/usr/lib/xorg:"$PATH" xpra' <<<

PROBLEEM 4 : weet niet meer hoe ik deze fout kreeg : 
	>>> 
	xpra server failure
	disconnected before the session could be established
	server requested disconnect: session not found error (no sessions found)
	...
	Warning: cannot use the system proxy for 'start' subcommand
	<<<
	- iets dergelijks te vinden in 
	>>> https://shifter-users.devloop.org.narkive.com/9cj4jC5F/winswitch-unable-to-authenticate-to-xpra-proxy
	"no sessions found" is quite likely to be caused by this bug:
	http://xpra.org/trac/ticket/1264
	<<<

==== Eclipse ===

- Eclipse (Neon 4.6.2 met de hand in /opt geinstalleerd) start niet meer

- oorzaak :
	- zie ~/Documents/java/.metadata/.log :
	- JRE11 werd geinstalleerd naast JDK8, werd default JRE :
		- /usr/bin/java -> /etc/alternatives/java -> /usr/lib/jvm/java-11-openjdk-amd64/bin/java
	- o.a. javax.annotation zit niet meer bij jre11

- oplossing :
	>>> /home/dirk/.local/share/applications/Eclipse.desktop
		Exec=/opt/eclipse/eclipse -vm /usr/lib/jvm/java-8-openjdk-amd64/bin/java
	<<<

- algemene incompatibiliteiten Java 11 - Java 8:
	- zie https://blog.codefx.org/java/java-11-migration-guide/#Migrating-From-Java-8-To-Java-11
	- oplossing : /etc/alternatives/java e.a. aanpassen, OF libraries bij installeren

==== java JRE11 ====

- JRE11 werd geinstalleerd naast JDK8, werd default JRE

probleem :
	- jars mogen niet meer in $jre/lib/ext, die directory mag zelfs niet meer bestaan. Ze moeten dus altijd op het classpath
	>>> https://docs.oracle.com/javase/9/migrate/toc.htm
		Removed Extension Mechanism
		In previous releases, the extension mechanism made it possible for the runtime environment to find and load extension classes without specifically naming them on the class path. In JDK 9, if you need to use the extension classes, ensure that the JAR files are on the class path. The javac compiler and java launcher will exit if the java.ext.dirs system property is set, or if the lib/ext directory exists.
	<<<
	- zie ook http://openjdk.java.net/jeps/220

oplossing:
	- mijn jars in algemeen classpath zetten :
		>>> ~/.pam_environmnet	CLASSPATH=.:/home/dirk/Documents/java/UTIL:/home/dirk/Documents/java/JBIG2:/home/dirk/Documents/java/PDF:/home/dirk/Documents/java/Stafke:/home/dirk/Documents/java/Applicet/REDIST/prodjar/ApplicetLN.jar:/home/dirk/Documents/java/Applicet/REDIST/prodjar/JApplicetLN.jar:/home/dirk/Documents/java/BigDecimal/ArciMath.jar
		<<<
	- in alle opdrachtlijnen en scripts die eigen java "-cp" gebruiken, "$CLASSPATH" opgeven, b.v. -cp .:../UTIL:"$CLASSPATH"
	- in alle  .desktops snelkoppelingen die eigen java "-cp" gebruiken, de jar-files expliciet opgeven (.desktop doet geen expansie van variabelen)
		- ook voor alternatieven --class-path en -classpath, maar die gebruik ik niet
		- dit zijn ze :
			$ grep -e "-cp" ~/.local/share/applications/*.desktop ~/Documents/shellscripts/* /home/dirk/.config/xfce4/panel/launcher*/*.desktop
		>>>	
			/home/dirk/.local/share/applications/stafke_Kadaster_NL.desktop
			/home/dirk/.local/share/applications/stafke_NGI_BE.desktop
			/home/dirk/Documents/shellscripts/stafkeCfgs.sh
			/home/dirk/Documents/shellscripts/stafkeFerraris.sh
			/home/dirk/Documents/shellscripts/stafkeNatGeo.sh
			/home/dirk/.config/xfce4/panel/launcher-20/14846068232.desktop
			/home/dirk/.config/xfce4/panel/launcher-20/14846068303.desktop
		<<<
		
==== VirtualBox 5.2.10 bionic ====

- is verwijderd bij dist-upgrade, maar zit voor Bionic gewoon bij Ubuntu, repo van VBox zelf niet meer nodig (zitten wel al op 5.2.20).
	0 blijft hangen : USC 
	# apt-get install virtualbox-qt

- iso Guest Additions downloaden van http://download.virtualbox.org/virtualbox/5.2.10/ naar GEZIPTE.PRG/Ubuntu, link naardaar als /usr/share/virtualbox/VBoxGuestAdditions.iso :
	$ sudo ln -sT /media/sdata/GEZIPTE.PRG/UBUNTU/VBoxGuestAdditions_5.2.10.iso /usr/share/virtualbox/VBoxGuestAdditions.iso

- voor gebruik configuratie aanpassen aan nieuwe schijfconfiguratie (werkset in /opt, rest op /media/sdata) :
	- in /opt een defaultMachineFolder maken
		# mkdir /opt/.virtualbox/
		# chown :dirk /opt/.virtualbox
		# chmod g+w /opt/.virtualbox
	- wijzigen in ~/.config/VirtualBox/VirtualBox.xml en in alle VM.vbox
		- voor het gemak uitvoeren zolang ze nog allemaal op /media/sdata staan, zelfs met globstar op volgt ** in bash geen symlinks naar directories
		- alle /media/sdata/.virtualbox vervangen door /opt/.virtualbox
			- DUS NIET /media/sdata/GEZIPTE.PRG en /media/sdata/.win-gschijf vervangen door /opt/....
			$ shopt -s globstar
			$ sed -i.opSdata~ -se "s|/media/sdata/.virtualbox|/opt/.virtualbox|g" ~/.config/VirtualBox/VirtualBox.xml /media/sdata/.virtualbox/**/*.vbox
		- alle sharedfolders /media/sdata/.win-gschijf vervangen door /opt/.win-gschijf :
			$ sed -i.win-gschijf~ -se "s|/media/sdata/.win-gschijf|/opt/.win-gschijf|g" ~/.config/VirtualBox/VirtualBox.xml /media/sdata/.virtualbox/**/*.vbox
		- met de hand alle blijvende diff-images in "Windows werkset" uit "./Snapshots/" naar hoofddirectory VM
		- met VBox GUI uit, en niet met vboxmanage (wil map snapshotFolder alleen wijzigen als er geen snapshots zijn), snapshotfolder van "Windows werkset" verplaatsen naar algemene directory "/media/sdata/Windows werkset Snapshots/$vmnaam"
			$ mkdir "/media/sdata/.virtualbox/Windows werkset Snapshots"
			$ ln -s "/media/sdata/.virtualbox/Windows werkset Snapshots" /opt/.virtualbox
			$ for i in "Windows werkset"/*;do mv "$i"/Snapshots "Windows werkset Snapshots"/"${i##*/}";done
			$ for i in "/media/sdata/.virtualbox/Windows werkset"/*;do sed -i~snapshotfolder~ "s|snapshotFolder=\"Snapshots\"|snapshotFolder=\"/opt/.virtualbox/Windows werkset Snapshots/${i##*/}\"|g" "$i"/"${i##*/}".vbox;done
		- verander de snapshot-locaties media-registries in ALLE VMs (o.a. die in groep "modellen" hebben ook registry voor snapshots van "Windows werkset")
			$ cd /media/sdata/.virtualbox
			$ for i in **/*.vbox ;do sed -i~snpsht2~ -Ee 's@(location="/opt/.virtualbox/Windows werkset)/([^/]+)/(Snapshots)/@\1 \3/\2/@g' "$i";done
			$ for i in Windows\ werkset/* ;do sed -i~snps3~ -Ee 's@(location=")(Snapshots)/@\1/opt/.virtualbox/Windows werkset \2/'"${i##*/}/@g" "$i"/"${i##*/}".vbox;done
			

	- directories van VM-groepen verplaatsen naar /opt/.virtualbox, of van daar linken naar HDD (tarch of sdata) :
		- voor de veiligheid eerst copy, verwijderen kan later nog
		- TEDOEN : eerst onderscheid maken tussen echte snapshot (b.v. naar directory op SDATA), en differencing image met "WXP basis"
		$ cp "/media/sdata/.virtualbox/modellen" "/media/sdata/.virtualbox/Windows werkset" /opt/.virtualbox/
		$ ln -s "/media/sdata/.virtualbox/Xubuntu backupherstel" "/media/sdata/.virtualbox/Windows tijdelijk" /opt/.virtualbox/

- zie sectie "vdi in qemu-nbd faalt"

==== spacefm 1.0.6 ====

- probleem : 1.0.5 crasht steeds bij drag naar filetree, zie bug https://github.com/IgnorantGuru/spacefm/commit/3089c4dc77ddeab9b9646ca9c5c6a9d926c2fc14

- officiele spacefm ppa : https://launchpad.net/~mati75/+archive/ubuntu/spacefm?field.series_filter=bionic "Mateusz Łukasik's Ubuntu PPA provides stable packages. (Mateusz Łukasik is the official Debian packager for SpaceFM and udevil.) "

	# add-apt-repository ppa:mati75/spacefm
	# apt-get update
	0 apt-get install spacefm-gtk3
		- OPM =/= spacefm (wordt ook voor gtk2 gecompileerd)
		- OPM : udevil mag blijven, repo heeft 0.4.4.1, geinstalleerde (van Ubuntu repo) is 0.4.4.2
		- /etc/spacefm/spacefm.conf blijft ongewijzigd; zie sectie "SpaceFM : andere filemanager (USC spacefm-gtk3 1.0.5-1)"
		- lost het probleem niet op
			0 apt remove spacefm-gtk3
	# apt-get install spacefm
		- iets oudere interface (gtk2), maar drag naar directory tree terug mogelijk


==== Thunderbird v60.2.1 max. berichtgrootte ====

- Probleem: "Download rest of message" not working if global inbox was used
	- https://www.thunderbird.net/en-US/thunderbird/60.3.1/releasenotes : fixed in v60.3.1 (15 nov 2018)

0 Lapmiddel : tijdelijk in account settings van Thunderbird (onder 'disk space') die beperking uitgezet

- Oplossing : officiele ppa van Mozilla team - stable (zie sectie "externe ppa's bionic")

==== ImageMagick convert 6... not authorized ====

- Probleem : boodschappen zoals "convert-im6.q16: not authorized" bij converteren van b.v. pdf naar png
	$ convert -density 300 blad.pdf blad.png
	- ImageMagick wordt gebruikt op webservers om beeldbewerkingen te doen (o.a. vanuit php), en heeft dus mogelijkheden om dat in toom te houden.
		- zie "https://imagemagick.org/script/security-policy.php"

- Oplossing : in /etc/ImageMagick-6/policy.xml
	- gewoon alle "<policy domain= .../>" in commentaar zetten (tussen <!-- --> )

==== trage boot ====

- Probleem : boot sinds bionic 30 seconden trager
	- als scherm op tijd wakker is : "Gave up waiting for suspend/resume device"
	- Xenial : 4-5 seconden tss. USB-detectie en eerste mount SSD
	>>> /var/log/kern.log
		...
		Oct 21 09:55:31 FRT kernel: [    2.020196] usb 1-7: New USB device found, idVendor=047f, idProduct=c013
		...
		Oct 21 09:55:31 FRT kernel: [    2.688567] input: Wireless Mouse Wireless Mouse as /devices/pci0000:00/0000:00:14.0/usb1/1-12/1-12:1.0/0003:05FE:0011.0004/input/input10
		Oct 21 09:55:31 FRT kernel: [    2.688862] hid-generic 0003:05FE:0011.0004: input,hidraw3: USB HID v1.10 Mouse [Wireless Mouse Wireless Mouse] on usb-0000:00:14.0-12/input0
		Oct 21 09:55:31 FRT kernel: [    2.743827] [drm] RC6 on
		Oct 21 09:55:31 FRT kernel: [    6.789723] EXT4-fs (nvme0n1p2): mounted filesystem with ordered data mode. Opts: (null)
		Oct 21 09:55:31 FRT kernel: [    6.838762] random: nonblocking pool is initialized
		Oct 21 09:55:31 FRT kernel: [    6.920592] lp: driver loaded but no devices found
		Oct 21 09:55:31 FRT kernel: [    6.922282] ppdev: user-space parallel port driver
		Oct 21 09:55:31 FRT kernel: [    6.923420] parport_pc 00:01: reported by Plug and Play ACPI
		Oct 21 09:55:31 FRT kernel: [    6.923488] parport0: PC-style at 0x378 (0x778), irq 5, dma 3 [PCSPP,TRISTATE,COMPAT,EPP,ECP,DMA]
		Oct 21 09:55:31 FRT kernel: [    6.959598] EXT4-fs (nvme0n1p2): re-mounted. Opts: errors=remount-ro
		...
	<<<
	- Bionic : 32 seconden tss. USB-detectie en eerste mount SSD
	>>> /var/log/kern.log
		...
		Dec  9 17:36:25 FRT kernel: [    2.038811] usb 1-7: New USB device found, idVendor=047f, idProduct=c013
		...
		Dec  9 17:36:25 FRT kernel: [    2.864517] input: Wireless Mouse Wireless Mouse as /devices/pci0000:00/0000:00:14.0/usb1/1-12/1-12:1.0/0003:05FE:0011.0004/input/input10
		Dec  9 17:36:25 FRT kernel: [    2.864769] hid-generic 0003:05FE:0011.0004: input,hidraw3: USB HID v1.10 Mouse [Wireless Mouse Wireless Mouse] on usb-0000:00:14.0-12/input0
		Dec  9 17:36:25 FRT kernel: [   35.101480] EXT4-fs (nvme0n1p2): mounted filesystem with ordered data mode. Opts: (null)
		Dec  9 17:36:25 FRT kernel: [   35.126305] EXT4-fs (nvme0n1p3): mounted filesystem with ordered data mode. Opts: errors=remount-ro
		Dec  9 17:36:25 FRT kernel: [   35.169890] random: crng init done
		Dec  9 17:36:25 FRT kernel: [   35.169891] random: 7 urandom warning(s) missed due to ratelimiting
		Dec  9 17:36:25 FRT kernel: [   35.177011] ip_tables: (C) 2000-2006 Netfilter Core Team
		Dec  9 17:36:25 FRT kernel: [   35.260873] lp: driver loaded but no devices found
		Dec  9 17:36:25 FRT kernel: [   35.262296] ppdev: user-space parallel port driver
		Dec  9 17:36:25 FRT kernel: [   35.264996] EXT4-fs (nvme0n1p2): re-mounted. Opts: errors=remount-ro
		Dec  9 17:36:25 FRT kernel: [   35.265007] EXT4-fs (nvme0n1p3): re-mounted. Opts: errors=remount-ro
		...
	<<<

- Oplossing : bionic zoekt blijkbaar langer naar hibernate image, op swap partitie met een UUID die ik helemaal niet heb :
	>>> /etc/initramfs-tools/conf.d/resume
		RESUME=UUID=205b666a-5d1c-4a47-9633-2b1f02966e5d
	<<<
	- zet RESUME=none in /etc/initramfs-tools/conf.d/resume
		- staat er zo al in backup 161115_ROOT_nvme0n1p2.fsa, toen ik nog geen swap had (file noch partitie)
		- Xenial zocht blijkbaar maar efkes
	# update-initramfs -u
	>>> update-initramfs: Generating /boot/initrd.img-4.15.0-38-generic <<<

==== kchmviewer zelf gecompileerd ====

- Probleem:
	- v4.03beta zat bij VirtualBox 5.2.6, niet meer bij 5.2.10 en is verwijderd
		- werkt(e?) niet voor JDK8 javadoc van Frank Allimant's Javadoc (probeert de paginaopmaak weer te geven, maar die is te ingewikkeld; xCHM probeert dat niet, en komt daar goed mee weg)
	- o.a. voor "Duden = Das große Wörterbuch der deutschen Sprache"
	- kchmviewer van USC is versie 7.5.1 (Xenial, Bionic) en waarschijnlijk beter, maar is voor KDE gecompileerd, betekent 340MB extra installeren zolang ik voor niets anders de zware KDE nodig heb.
		- heet op launchpad van Ubuntu trouwens "kchmviewer: CHM viewer for KDE"
		- kchmviewer kan wel gecompileerd worden zonder KDE, met alleen Qt

- Oplossing: in VM zelf gecompileerd voor Qt, niet voor Kde, en die versie kan gewoon gekopiëerd worden naar b.v. ~/bin
	- https://github.com/gyunaev/kchmviewer
		>>>
		Kchmviewer is a free, open-source CHM (aka MS HTML help) and EPUB viewer written in C++ for Unix, Mac and Windows systems. Unlike most existing CHM viewers for Unix, it uses Trolltech Qt widget library, and could optionally be compiled for better KDE integration. It does not require KDE, but may be compiled with KDE widget support. Since version 5.0 it uses the Webkit API to show the content.
		The main advantage of kchmviewer is the best support for non-English languages. Unlike other viewers, kchmviewer in most cases is able to correctly detect the chm file encoding and show it. It correctly shows the index and table of context in Russian, Spanish, Romanian, Korean, Chinese and Arabic help files, and with new search engine is able to search in any chm file no matter what language it is written.
		<<<
	- George Yunaev zelf heeft binaries "compiled for Qt only" (dus zonder KDE) voor download op https://sourceforge.net/projects/kchmviewer
		- alle versies daar hebben tot nu toe libchm.so.0 nodig, Ubuntu heeft alleen nog libchm.so.1, en .0 is nergens te vinden
	- hangt af van o.a. libchm, libchm-devel, qt4-devel en qt4-tools, maar door zelf te compileren in VM die kopie is van huidig systeem, gebruikt die daar de reeds geïnstalleerde versies van.
		- in VM, Settings/Software and Updates/Ubuntu Software :
			v Source code
		$ sudo apt-get build-dep kchmviewer
			- installeert 135MB aan include files etc. voor de libraries waar kchmviewer van afhangt, o.a. KDE en QT
		$ mkdir -p ~/src;cd ~/src
		$ apt-get source kchmviewer
			- downloadt en unzipt broncode van kchmviewer uit repositories voor Ubuntu-sources, dus zoals die voor mijn versie van Ubuntu zijn aangepast; het compileren zelf bepaalt of kchmviewer voor KDE of alleen voor Qt wordt gecompileerd, volgens de readme van https://github.com/gyunaev/kchmviewer 
		$ cd kchmviewer*
			- als er meerdere versies zijn, natuurlijk de gewenste kiezen
		$ qmake
			- maakt, wschlk. uit de .cmake file, een makefile om alleen voor Qt te compileren
			- om voor KDE te compileren : $ cmake
		$ make
			- compileert met de makefile uit vorige stap
		- ./bin/kchmviewer testen, en kopiëren naar host, b.v. ~/bin
		- op host nog 1 dependency installeren, USC of CLI :
			$ sudo apt-get install libzip4
				- 102kB
			- met Settings/Menu editor een desktop file maken, zodat we kchmviewer in spacefm als handler kunnen instellen voor .chm en .epub

=== Samba network shares werken niet meer ===

- Probleem : in client VMs (Windows, linux, MS-DOS) kunnen shares van FRT niet meer geopend worden
	0 slechts lapmiddel
		>>> https://ubuntuforums.org/showthread.php?t=2384959
			Ubuntu 18.04 contains version 4.7.4 of the samba client libraries which brings with it a lot of improvements but it changes one parameter that will cause this forum nothing but grief. It changes the upper default smb dialect that the samba client uses to SMBv3.11 from the earlier default of NT1 ( Samba speak for SMBv1 ). Conceptually it should not make any difference to host browsing but what that does is disable host browsing ( netbios host discovery ). The only way out of this is to edit /etc/samba/smb.conf and override the default by adding a line in the [global] section setting it back to the old default: edit /etc/samba/smb.conf and (ergens in [global], b.v. right unser the workgroup = WORKGROUP line) add this line to change the default:
				>>>
				client max protocol = NT1
				<<<
				- niet nodig : reboot
			But ... there is a reason why Samba set the client max to SMBv3.11. Windows 10 and many other SMB / Samba servers have disabled SMBv1 for security purposes. If the Linux client can only use SMBv1 no connection is possible to these servers.
				- If you set "clent max protocol" back to NT1 the Linux client will be able to find all the servers but will not be able to connect to any that disabled SMBv1.
				- If you allow the default of SMBv3.11 it will not be able to discover the servers but it will be able to connect to them.
			NOTE: This is not a host name resolution problem - it's a host browsing ( discovery ) problem.
			** You can still connect to the server by name but you have to know it's name and you must connect to to it explicitly by that name .. as in ... smb://hostname or use Connect to Server in Nautilus.
			** Any server that uses the more modern multicast DNS service announcement provided by Avahi in Linux and also available in macOS are unaffected. These servers will display correctly in "Other Locations" in Nautilus.
			** And a CIFS mount is unaffected by all this since it runs with it's own defaults.
			** There is also one other odd peculiarity about all this and that's smbtree. The smbtree command which is a samba client command has no problem finding these servers and listing their shares. It appears that smbtree is using the client min / max protocol correctly starting with SMB1 first then moving up to SMB3. It appears to me that this is either a gvfsd-smb-browse problem or a libsmbclient problem. 
		<<<
		0 zie ook https://www.dedoimedo.com/computers/ubuntu-beaver-samba-shares.html
			>>> /etc/samba/smb.conf
				client max protocol = NT1
			<<<

- Oplossing (voorlopig) :
	- niet verbinden met dirk (FRT/dirk) maar met dummy naam zonder paswoord (mijn network shares zijn allemaal voor iedereen)
	
=== UPDATES van externe ppa ===

==== avidemux 2.7.1 bionic ====

- uit ppa van Panda Jim "while www.getdeb.net is not updated"
	# apt-get remove avidemux2.6-qt
	# apt autoremove
	# add-apt-repository ppa:ubuntuhandbook1/avidemux
	# apt-get install avidemux2.7-qt5 avidemux2.7-plugins-settings
		- avidemux2.7-plugins-settings is suggested, maar optie --install-suggested is recursief, kan uit de hand lopen

==== geany 1.33 bionic ====

- ppa terug activeren in /etc/apt/sources.list.d/geany-dev-ubuntu-ppa-bionic.list
	- gewoon # vooraan weg
	# apt-get update
	# apt-cache policy geany
	>>>
	geany:
	  Installed: 1.33-1~16.04
	  Candidate: 1.33-1~17.10
	  Version table:
	     1.33-1~17.10 500
		500 http://ppa.launchpad.net/geany-dev/ppa/ubuntu bionic/main amd64 Packages
	 *** 1.33-1~16.04 100
		100 /var/lib/dpkg/status
	     1.32-2 500
		500 http://archive.ubuntu.com/ubuntu bionic/universe amd64 Packages
	<<<
	# apt-get install geany
	# apt-cache policy geany
	>>>
	geany:
	  Installed: 1.33-1~17.10
	  Candidate: 1.33-1~17.10
	  Version table:
	 *** 1.33-1~17.10 500
		500 http://ppa.launchpad.net/geany-dev/ppa/ubuntu bionic/main amd64 Packages
		100 /var/lib/dpkg/status
	     1.32-2 500
		500 http://archive.ubuntu.com/ubuntu bionic/universe amd64 Packages
	<<<

==== XnViewMP 0.92 ====

- "GEZIPTE.PRG/UBUNTU/XnViewMP0.92/XnViewMP-linux-x64.deb" van https://www.xnview.org/en/xnviewmp/#downloads

	# dpkg -r xnviewmp xnviewmp-data
		- remove 0.84-1~getdeb1
	# dpkg -i /media/sdata/GEZIPTE.PRG/UBUNTU/XnViewMP0.92/XnViewMP-linux-x64.deb
		- geen package xnviewmp-data meer, niemand weet wat dat was
	# apt autoremove 
		- libjasper1

==== Gimp 2.10 ====

	# add-apt-repository ppa:otto-kesselgulasch/gimp
		- alternatieven
			# add-apt-repository ppa:otto-kesselgulasch/gimp-edge
				- PPA only for development purposes!!!
				- gimp 2.99.1
			# add-apt-repository ppa:otto-kesselgulasch/gimp-standalone
				- ? zijn hier libraries 'static' meegecompileerd? Denk het niet, even groot als gimp-edge
				- gimp 2.99.1, maar werkt niet voor xenial
	# apt-get update
	# apt-get install gimp
	- USC toont (niet direct?) een upgrade-mogelijkheid, alleen remove en dan terug install; daarom maar in terminal, maar eerst kijken :
	# apt-get install -s --autoremove gimp
		-s : simulate
		--autoremove : verwijder packages die door niets nog gebruikt worden, in dit geval Gimp's eigen libgegl-0.3-0
		- suggested packages :
			- gimp-data-extras : a couple of brushes and pattern for GIMP 2.10
			- exiv2 : photo metadata library to easily inspect and update EXIF, IPTC, and XMP metadata in photo and video files of various formats.
	# apt-get install --autoremove gimp gimp-data-extras exiv2
	- If you like to remove this version after a test do this
		# rm /etc/apt/sources.list.d/otto-kesselgulasch-ubuntu-gimp-bionic.*
		# apt purge gimp
		# apt install gimp
			- installeert terug versie van Ubuntu release
	- BELANGRIJK
		- Gimp 2.10 openen, Edit/Preferences/Folders/Swap folder : /media/sdata/WERK/GimpSwapFolder
			- overflow voor grote beelden, was ~/.config/GIMP/2.10, die wil ik niet op mijn systeemschijf
	- g'mic plugin van otto kesselgulasch is ook interessant (~ Image magick maar dan als plugin voor gimp), maar suggested packages niet zo duidelijk :
		- Suggested packages : gimp-gmic gmic-zart geotiff-bin gdal-bin libgeotiff-epsg libhdf4-doc libhdf4-alt-dev hdf4-tools ogdi-bin
			0 apt-get install --install-suggests gmic
				- zou zelfs abiword, apache server, ruby, java en 2900 andere nieuwe packages installeren
			0  apt-get install -s gmic gimp-gmic gmic-zart geotiff-bin gdal-bin libgeotiff-epsg libhdf4-doc libhdf4-alt-dev hdf4-tools ogdi-bin
				- zou nog altijd 56 nieuwe packages installeren
	- USC onder Gimp, na installatie van Gimp 2.10
		0 entangle : digital camera completely controlled from the computer, zal niet meer lukken voor de onze, plus: waar trekt ge fotos, bij uw computer?
		x Extra brushes and patterns (gimp-data-extras, al geinstalleerd, dus aangevinkt laten)
		x GIMP plugin for GREYC's Magic Image Convert (gimp-gmic), heeft o.a.
			- Colors/Boost-Fade
			- Repair/Descreen
			- Frequencies/Fourier Analysis
			- im plugin : settings/other/Internet updates : Monthly
		x gimp-gutenprint
			- A native CUPS driver, providing simple configuration and operation with CUPS.
			- als printer "HP Colour Laserjet 5500", komt voor zover ik mij herinner het dichtst bij onze "HP LaserJet Enterprise 500 Color M551DN"
				- op printer queue "HP_LaserJet_500_color_M551"
			- Extensive output adjustments offer a tremendous range of adjustment to match color, brightness, and contrast.
			- Support for a wide range of printer output resolutions, permitting you to trade off printing speed against output quality.
			- 16-bit precision, producing virtually stepless output.
		0 repository of optional extensions (zegt niet hoeveel dat installeert)
		0 extract data from XCF ??

- Alternatieve manieren op Gimp te installeren
	>>> https://www.omgubuntu.co.uk/2018/05/gimp-2-10-ubuntu-download
	You can also install this update on Ubuntu 16.04 or later using one of the following methods.
	- Snap : https://snapcraft.io/gimp (bij "all versions" 2.10.2)
		- hiermee kunt ge plugins installeren, in ~/snap/... maar lijkt nog altijd moeilijker dan gewoon via ppa
	- AppImage : https://github.com/aferrero2707/gimp-appimage/releases/tag/continuous.
	- Flatpak : The recommended way to install GIMP 2.10 on Linux is by using the official Flatpak app on the Flathub app store https://flathub.org/apps/details/org.gimp.GIMP. If you followed our list of things to do after installing Ubuntu 18.04 (https://www.omgubuntu.co.uk/2018/04/things-to-do-after-installing-ubuntu-18-04) you should have Flatpak (and the Flathub repo) set-up already. If so, just search for GIMP in the Ubuntu Software app, find the Flatpak version, and install. Alternatively, you can also run this command to install it from the repo directly:
		$ flatpak install https://flathub.org/repo/appstream/org.gimp.GIMP.flatpakref
	- ppa:otto-kesselgulasch/gimp : The new release has been made into PPA repository for Ubuntu 18.04, Ubuntu 17.10.  !!***!! Ubuntu 16.04 is not supported at the moment due to inextricably Glib dependencies. !!***!!
	<<<=== Gimp 2.9.x (HDR, 16-bits kleuren) van Personal package archive (ppa) gimp-edge op https://launchpad.net/~otto-kesselgulasch

=== reorganisatie naar SSD ===

- vuilbakken maken op (gemounte!) /opt en /usr
	# cd /usr
	# maaktrash
		- is eigen script in /root/bin
	# cd /opt
	# maaktrash 

==== G-schijf voor Wine en VBox sharedfolder voor windows VMs naar SSD ====

- /media/sdata/.win-gschijf deels verhuizen naar /opt/.win-gschijf
	- hele ATM4, van CDKOPIE en PROGRAMS alleen belangrijkste verplaatsen, rest linken
		# mkdir -p /opt/.win-gschijf/CDKOPIE /opt/.win-gschijf/PROGRAMS
		- in spacefm ATM4 en bestanden in /media/sdata/.win-gschijf kopieren naar /opt/.win-gschijf
		# for i in /media/sdata/.win-gschijf/PROGRAMS/* ; do ln -s "$i" "/opt/.win-gschijf/PROGRAMS";done
		# for i in /media/sdata/.win-gschijf/CDKOPIE/* ; do ln -s "$i" "/opt/.win-gschijf/CDKOPIE";done
	- gaandeweg voor veel gebruikte programmas de link vervangen door volledige kopie, originelen voorlopig op SDATA laten staan

	$ ln -sf /opt/.win-gschijf/ATM4/TTFONTS ~/.fonts/truetype/ATM4
	$ ln -sf /opt/.win-gschijf/ATM4/PSFONTS ~/.fonts/type1/ATM4
	# fc-cache -f -v

- in alle opdrachtlijnen, scripts en .desktops snelkoppelingen /media/sdata/.win-gschijf vervangen door /opt/.win-gschijf
	- dit zijn ze :
		$ grep -le "/media/sdata/.win-gschijf" ~/.local/share/applications/*.desktop ~/Documents/shellscripts/* ~/.config/xfce4/panel/launcher*/*.desktop
		>>>	
			/home/dirk/.local/share/applications/CDisplayCBZReader.desktop
			/home/dirk/.local/share/applications/MrSidViewer.desktop
			/home/dirk/.local/share/applications/R4.desktop
			/home/dirk/.local/share/applications/TTCalc.desktop
			/home/dirk/.local/share/applications/menulibre-encyclopedia-britannica-2007.desktop
			/home/dirk/.local/share/applications/menulibre-enzyclopedie-brockhaus-2010-(wine).desktop
			/home/dirk/.local/share/applications/menulibre-pacman-(wine).desktop
			/home/dirk/Documents/shellscripts/djvu
			/home/dirk/.config/xfce4/panel/launcher-30/15063335012.desktop
			/home/dirk/.config/xfce4/panel/launcher-30/15072251221.desktop
		<<<
		$ sed -i -e "s|/media/sdata/.win-gschijf|/opt/.win-gschijf|g"  ~/.local/share/applications/*.desktop ~/Documents/shellscripts/* ~/.config/xfce4/panel/launcher*/*.desktop
			- OPPASSEN : "-i -e", niet "-ie", want dan is 'e' de backupsuffix
			- OPGELET : stopt als 1 v.d. globbing-expansies een directory is. grep meldt dit maar gaat verder, sed niet. 
 
- zie ook sectie "VirtualBox 5.2.10 bionic"
- zie ook sectie "playonlinux naar SSD"

==== playonlinux naar SSD ====

- mijn favoriete wine-versie en wineprefix naar SSD verhuizen, maar al de rest van playonlinux als default naar HDD blijven sturen lukt niet helemaal: POL ziet links naar wineversie-directory niet als wineversie (maar bovenliggende directories mogen link zijn). B.v. "/home/dirk/.PlayOnLinux/wine/linux-x86/2.11" vervangen door link naar /opt/.playonlinuxDirk/2.11 werkt niet
	# mkdir -p /opt/.playonlinuxDirk/
	# chown dirk:dirk /opt/.playonlinuxDirk/
	$ rsync -aASXx "~/.PlayOnLinux/wine/linux-x86" "~/.PlayOnLinux/wineprefix/Win7x86PROGS" /opt/.playonlinuxDirk/
	$ rm "~/.PlayOnLinux/wine/linux-x86"
	$ ln -sT "opt/.playonlinuxDirk/linux-x86" "~/.Playonlinux/wine/linux-x86"
	$ rm "~/.PlayOnLinux/wineprefix/Win7x86PROGS"
	$ ln -sT "/opt/.playonlinuxDirk/Win7x86PROGS" "~/.PlayOnLinux/wineprefix/Win7x86PROGS"
	$ ln -sfT /opt/.win-gschijf "~/.PlayOnLinux/wineprefix/Win7x86PROGS/drive_g"

- mono en gecko moeten voor POL in zelfde directory staan als linux-x86, maar mogen links zijn :
	$ ln -sT "/media/sdata/.playonlinux/wine/mono" "/media/sdata/.playonlinux/wine/gecko" "/opt/.playonlinuxDirk"

- in wineprefix (Win7x86PROGS e.a.) "drive_g", die linkt naar /media/sdata/.win-gschijf, vervangen door link naar /opt/.win-gschijf
	- in /opt/.playonlinuxDirk/Win7x86PROGS/drive_c/windows/Fonts alle links naar fonts verwijderen (zie _Wine_PlayOnLinux.adoc sectie "Fonts in Wine prefix")
	
== PROGS NA BIONIC ==

=== gphotofs (FUSE driver o.a. Canon IXUS 300) === 2019/02/15

- gphotofs 0.5.5 (USC)
	- Filesystem to mount digital cameras
		- mounting :
			$ gphotofs <mountpoint>
			- <mountpoint> : directory met write access (dus niet /mnt of /cdrom)
		- unmounting :
			$ fusermount -u <mountpoint>

=== *** 20190325 backup *** ===

== PROGS NA BACKUP 2019-03-25  ==

=== *** 20190327 pointrelease 18.04.2 *** ===
	# apt upgrade

- o.a.
	- kernel 4.15.0-38 -> 4.15.0-46
	- VBox 5.2.10 -> 5.2.18

=== seahorse ===

- GUI om gnome-keyring-daemon te beheren, hebben we nodig om Skype vanaf 8.34 te kunnen opstarten zonder elke keer zowel Ubuntu-paswoord als skype-user en -paswoord in te tikken
	# apt install apt-transport-https

0 CLI secret-tool (apt install libsecret-tools) is te elementair, kan b.v. geen keyrings maken/beheren

=== skypeforlinux 8.34.0.78 ===

- Oude skype (mijn 4.3.0.37 met versie in hex edit gewijzigd naar 8.3.0.37) werkt niet meer, ook niet met nog hogere gesimuleerde versie (b.v. 8.5.0.37)
	- PPA Belin terug aktief maken om skype-bin te verwijderen :
		>>> /etc/apt/sources.list.d/belin-ubuntu-stable-bionic.list
			verwijder de '#' aan begin van lijn 
		<<<
	# apt update
	# apt remove skype-bin
		- -44MB
	# rm /etc/apt/sources.list.d/belin-ubuntu-stable-*
	- verwijder /home/dirk/.Skype en /home/dirk/.config/Skype
	- verwijder Skype uit "Session and startup", "Application Autostart"

- nieuwste officiele skype installeren (package heet nu skypeforlinux)	
	- /var/cache/apt/ tijdelijk vervangen door link naar ramdisk
	# apt install seahorse
		-  in menu Accessories als "Password and keys", GUI om keyrings te beheren (certificaten, paswoorden, ...)
		- "Passwords and keys" (seahorse) opstarten
		- maak (als user) nieuwe "Password keyring" skypeforlinux, met blanco paswoord: gewoon 2x [Continue] (is default knop)
		- maak die Password keyring default (rechtsklikken)
	0 make sure you have 'apt-transport-https' installed
	- install repository for skypeforlinux:
		- maak sources.list entry :
			# echo "deb [arch=amd64] https://repo.skype.com/deb stable main" | tee /etc/apt/sources.list.d/skype-stable.list
		- download security key van repo :
			# curl https://repo.skype.com/data/SKYPE-GPG-KEY | apt-key add -
			OF equivalent met wget, is niet als volgt (download SKYPE-GPG-KEY naar $PWD, i.p.v. te pipen)
			# wget -O - https://repo.skype.com/data/SKYPE-GPG-KEY | apt-key add -
				-O file, --output-document=file : file '-' is naar stdout
			OF
			- met browser naar ramdisk downloaden : https://repo.skype.com/data/SKYPE-GPG-KEY
			# apt-key add /media/ramdisk/SKYPE-GPG-KEY
		# apt update
	# apt install skypeforlinux
		- +243MB
		- SKYPE NOG NIET OPSTARTEN
	- /var/cache/apt/ terug gewone directory maken
	- als gewone user een keyring met blanco paswoord tijdelijk de default maken voor skypeforlinux, om zelfs met auto login van Ubuntu skype ook te kunnen starten zonder paswoord :
		$ spawn seahorse
			- File/New/Password Keyring : "zonderpaswoord", paswoord blanco laten (geeft extra dialoog om dat te bevestigen, die zo breed is dat de knoppen soms buiten beeld vallen; "Continue" is default, dus gewoon enteren)
				- keyring met blanco paswoord is altijd unlocked, dus skype kan daar altijd zijn eigen paswoord halen zonder dat gnome-keyring-daemon om het paswoord van de keyring vraagt
				- keyring is bestand in ~/.local/share/keyrings/, typisch met de naam van de keyring, maar eig. wordt de naam van de keyring gegeven door het veld "Display name" in dat bestand
			- rechts klikken op de nieuwe Keyring (met View/"By Keyring" staat die in de categorie "Passwords"), "Set as default"
				- zet de naam van de default keyring in ~/.local/share/keyrings/default, zonder newline
	- Skype opstarten en aanmelden, maakt 2 labels aan in de default keyring: "Skype for Desktop/$user" en "Skype for Desktop MSA/$user", met paswoord gecodeerd door Skype zelf
	- in seahorse terug de keyring "Login" default maken (op rechtsklikken, "Set as default"


- skype geluidskanalen vastleggen : (zie "_Xubuntu truuks en commandos" sectie "luidspreker kiezen") :
	- in Whisker menu/Internet rechtsklikken op Skype, "Edit application" (maakt gewijzigde kopie van /usr/share/applications/skypeforlinux.desktop in ~/.local/share/applications) en in "Session and startup" :
		- Command : "skypeforlinux %U" vervangen door "env PULSE_SOURCE="alsa_input.usb-Plantronics_Plantronics_.Audio_648_USB-00.iec958-stereo" PULSE_SINK="alsa_output.usb-Plantronics_Plantronics_.Audio_648_USB-00.iec958-stereo" /usr/bin/skypeforlinux %U"
			- OPM: in bash shell is de opdracht 'env' niet nodig om variabelen in te stellen voor een opdracht, maar deze commando's worden niet via shell uitgevoerd

=== Firefox add-ons certificatiebug ===

- ZIE https://discourse.mozilla.org/t/fixed-certificate-issue-causing-add-ons-to-be-disabled-or-fail-to-install/39047/2
	- tijdelijke fix :
		about:config = xpinstall.signatures.required = false
	- definitief opgelost vanaf Firefox 66.0.4 (op 17-5-2019 zit Ubuntu nog maar op 66.0.3)

=== Toshiba-schijf in verijderbare slede ===

- in BIOS/Advanced/Integrated Peripherals/Sata op AHCI, en SATA2 Hot Plug [Enabled]

0 scsitools voor hotswap
	0 Command 'lsscsi'
		# apt install lsscsi
		- terug removed
	0 Command 'rescan-scsi-bus' :
		# apt install scsitools
		- terug removed

=== localhost_onstrees geinstalleerd als bitnami-app ===
20190519

- localhost_onstrees/webroot verplaatst van /media/sdata/dirk/Stamboom naar /media/sdata/.stacks/localhost_onstrees (dus tussendirectory "webroot" niet meer nodig)
	- symlink daarnaar aks /home/dirk/nginxstack-1.9.14-0/apps/onstrees/htdocs met :
	- OPM : /home/dirk/nginxstack-1.9.14-0 is zelf symlink naar /media/sdata/.stacks/nginxstack-1.9.14-0

- application config gemaakt :
	- directory /home/dirk/nginxstack-1.9.14-0/apps/onstrees/conf met :
		- nginx-app.conf gekopieerd van phpadmin
		- nieuw nginx-prefix.conf bestand voor server location en alias
			>>> /home/dirk/nginxstack-1.9.14-0/apps/onstrees/conf/nginx-prefix.conf
				location /onstrees {
				  alias "/home/dirk/nginxstack-1.9.14-0/apps/onstrees/htdocs/";
				  include "/home/dirk/nginxstack-1.9.14-0/apps/onstrees/conf/nginx-app.conf";
				}
			<<<

- app aan bitnami melden : lijn bij ib
	>>> /home/dirk/nginxstack-1.9.14-0/nginx/conf/bitnami/bitnami-apps-prefix.conf
		include "/home/dirk/nginxstack-1.9.14-0/apps/onstrees/conf/nginx-prefix.conf";
	<<<

- bitnami-configs hersteld naar hun origineel :
	/home/dirk/nginxstack-1.9.14-0/nginx/conf/bitnami/bitnami.conf
	/home/dirk/nginxstack-1.9.14-0/nginx/conf/bitnami/phpfastcgi.conf

- ./shellscripts/startlemp.sh aangepast om ineens stamboom bocou te openen :
	>>> firefox http://localhost:8080/onstrees/stamboom/index.php?ctype=gedcom&ged=bocou <<<

- ook /home/dirk/nginxstack-1.9.14-0/mysql/scripts/ctl.sh hersteld naar origineel; InnoDB=OFF (synoniem van skipInnoDB) staat nu op zijn plaats in /home/dirk/nginxstack-1.9.14-0/mysql/my.cnf
	- enige gewijzigde bestanden van bitnami installatie zijn nu nog
		.../nginxstack-1.9.14-0/php/etc/php-fpm.conf.ORIG
		.../nginxstack-1.9.14-0/php/etc/php.ini.ORIG
		.../nginxstack-1.9.14-0/mysql/my.cnf.ORIG
		.../nginxstack-1.9.14-0/nginx/conf/bitnami/bitnami-apps-prefix.conf
		en de applicaties zelf in .../nginxstack-1.9.14-0/apps/

- OPM : op dezelfde dag ook webtrees custom module OpenstreetMaps (vesta) geinstalleerd, zie "GEZIPTE.PRG/OFFICIELE DOWNLOADS/Webtrees/OpenstreetMaps (vesta)/_INSTALLATIE.TXT"

=== *** 20190917 backup *** ===
- en 'herstel' daarvan naar Toshiba-schijf als recovery-installatie
- en 'herstel' daarvan naar Toshiba-schijf als recovery-installatie
	- ook met copy /opt van bron, b.v. in TLINUX zelf :
		# mount -o ro LABEL=M2UOH /cdrom
		# for map in .playonlinuxDirk .win-gschijf .virtualbox;do rsync -aASXx /cdrom/.opt2bind/$map /opt/;done
			- OPGELET : in deze vorm geen eind-/ in rsync bronnen
		# umount /cdrom
		
== PROGS NA BACKUP 2019-09-17  ==

0 update Firefox 69.0 : LAAT ORPHANED INODES ACHTER
	- laat nog altijd geen VRT-NU afspelen
	- EERST opschrijven welke oude plugins niet meer werken, want die verdwijnen
	- met update 5 overblijvende plugins
	- met update (manueel in google zoeken) language packs Engels en Nederlands (geen mogelijkheid Engels_CA en _SA e.d. te verwijderen)

===  RESTORE VAN BACKUP 2019-09-17  ===
- selectieve restore van backup naar systeemschijf, na inode problemen t.g.v. Firefox 69, om ondertussen gewijzigde documenten en instellingen te behouden

- OPM : HIER STAAT OVERAL RSYNC -n (NO ACTION). DIE OPTIE WEGLATEN IN PRODUCTIE
- usr, opt en home
	# e2fsck -y /dev/nvme0n1p3
	# mount -o noatime /dev/nvme0n1p3 /mnt/
- usr
	# mount -o ro,noatime /media/sdata/.backups/190917_15u29m_USR__\(gewone\ backup\).squashfs /cdrom/
	# rsync -naASXxi --delete --exclude={/lost+found,/.opt2bind,/.home2bind,/.Trash} /cdrom/ /mnt/
	# umount /cdrom/
- opt
	# mount -o ro,noatime /media/sdata/.backups/190917_15u29m_OPT__\(gewone\ backup\).squashfs /cdrom/
	# rsync -naASXxi --delete --exclude={/.Trash,/.virtualbox,/.win-gschijf,/.playonlinuxDirk} /cdrom/ /mnt/.opt2bind/
	# umount /cdrom/
- home
	# mount -o ro,noatime /media/sdata/.backups/190917_15u29m_HOME_\(gewone\ backup\).squashfs /cdrom/
	# rsync -naASXxi --delete --exclude=/dirk/{Desktop,Documents,.local/share/Trash,.cache/thunderbird,.thunderbird,.config/libreoffice,.config/transmission} --exclude=/.Trash /cdrom/ /mnt/.home2bind/
		- geen exclude cache Firefox :  na backup was nieuwe versie geinstalleerd
		- extra exclude .config/transmission : er waren torrents bezig na backup
	# umount /cdrom/
	# umount /mnt/
- root
	# mount -o noatime /dev/nvme0n1p2 /mnt/
	# mount -o ro,noatime /media/sdata/.backups/190917_15u29m_ROOT_\(gewone\ backup\).squashfs /cdrom/
	# rsync -naASXxi --delete --exclude={/lost+found,/dev,/sys,/proc,/run,/tmp,/cdrom,/mnt,	'/media/*',/var/crash,/var/tmp,/var/lib/samba/private/msg.sock,/var/cache/apt,/.Trash,/root/.local/share/Trash,/usr,/opt,/home,/snap,/boot/grub,/var/log,/root} /cdrom/ /mnt/
		- extra excludes /usr,/opt,/home,/snap : staan nog manueel in mksquashfs-opdracht _backup.sh voor 'backup per deel'
		- extra exclude /boot/grub : o.a. grub.cfg is legitiem gewijzigd voor nieuwe recovery-installatie op Toshiba-schijf
		- extra exclude /var/log, log files kunnen nog interessant zijn, apart grootte beperken achteraf :
			- opkuisen en beperken : zie "_Xubuntu truuks em commandos.adoc" sectie "journalctl"
		- extra exclude /root : heeft geen (firefox-)crashes veroorzaakt, dus alles OK
	- edit /mnt/etc/fstab : op usr-partitie geen "errors=remount-ro"
	# cp /home/dirk/.inputrc /mnt/root/
	# umount /cdrom/
	# umount /mnt/

=== Freeplane 1.7.9 herinstalleren naar /opt ===

- is de moeite (150MB) om in /opt te zetten
- heeft Java nodig, maar geen Ubuntu package of installer (is immers een gewoon Java programma)
	- nakijken of simplyhtml en simplyhtml-doc ondertussen nog altijd enkel door elkaar en door freeplane gebruikt worden:
		 $ apt-cache rdepends simplyhtml*
	- indien OK, freeplane en simplyhtml verwijderen, anders alleen freeplane	 
		# apt remove freeplane* simplyhtml*
		# apt autoremove
			- 84MB extra java dinges
	- stable freeplane downloaden van "http://sourceforge.net/projects/freeplane/" (zie ook "https://www.freeplane.org/wiki/index.php/Freeplane_installation_for_Ubuntu_OS" "Option 3 : install with the binary package")
		- gewoon (als root) uitpakken naar /opt, met behoud directorystructuur
			- OPM: simplyhtml, een Java HTML editor component, zit daar mee in als jar, dus ook hiervoor geen Ubuntu package nodig
	- freeplane 1.7.9 draait of wil niet op Java 10, wel op Java 8 en 11 (en misschien 9),
		- Ubuntu Bionic had tijdelijk Java 10, vermomd in packages openjdk-11* (zie o.a. "https://askubuntu.com/questions/1037646/why-is-openjdk-10-packaged-as-openjdk-11")
	- OFWEL update van openjdk-11, zodat dat echt Java 11 is en niet meer Java 10
		# apt install openjdk-11-jdk
			- doet ook update van LibreOffice
	- OFWEL freeplane draaien met Java 8, die nog op mijn systeem staat
		- variabelen zetten in opstartscript, of definitief in ~/.pam_environment
		$ FREEPLANE_JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
		OF
		$ FREEPLANE_JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/jre
		OF (maar deze andere variabelen gebruiken andere progs misschien ook)
			$ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64
			OF
			$ JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64/jre
			OF
			$ JAVA_CMD=/usr/lib/jvm/java-8-openjdk-amd64/bin/java
			OF
			$ JAVA_CMD=/usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java
			OF
			$ JAVA_BINDIR=/usr/lib/jvm/java-8-openjdk-amd64/bin
			OF
			$ JAVA_BINDIR=/usr/lib/jvm/java-8-openjdk-amd64/jre/bin

=== 50 spelletjes ineens verwijderen ===

- sinds Bionic is er een hele spellenverzameling (7MB) bij Xubuntu, nog nooit mee gespeeld :
	# apt remove sgt-puzzles

=== 0 seetxt 0.72 txt en man viewer (USC) ===
0 te eigenzinnig en onhandig

=== Video DownloadHelper Companion App ===

- native helper voor deze Firefox add-on, om gestreamde videos in video container te zetten en naar schijf te schrijven. Open-sourced, simpel en veilig bevonden, en maar 3,5 MB

- download .deb van https://www.downloadhelper.net/install-coapp?browser=firefox
# apt install ./net.downloadhelper.coapp-1.3.0-1_amd64.deb 

== TEDOEN ==


=== diverse ===
- Wissen /home/dirk/.gimp-2.8 : nu ~/.config/GIMP/2.10
	
- tegelijk met 2 mijn pc gebruiken :
	- https://askubuntu.com/questions/443418/start-another-gui-on-different-tty
	- https://help.ubuntu.com/community/MultiseatX
	- https://www.linuxquestions.org/questions/linux-software-2/starting-new-x-sessions-on-multiple-tty%27s-113957/
	- Working with TTY sessions : https://mostlylinux.wordpress.com/troubleshooting/ttysessions/
	
- /var/cache/apt/archives/ vervangen door link naar HDD
- uninstall Unison
- voor upgrade, repos van derden verwijderen, uninstall gimp
- upgrade
- repos toevoegen
- install gimp 2.10 (of zo)
- Desktop en Documenten : 1ste letter ontdubbelen, zie sectie "naam van user directories Pictures, Music, Documents, ... (2018/03/04)"
	- opgelet: denk aan scripts en symlinks (ook in /root), ook voor backup en herstel (XDG-variabelen zullen niet gekend of anders zijn in Systmrescuecd)

==== Goldendict woordenboeken naar /opt ====

=== Booomaga ===

http://www.boomaga.org/
Boomaga (BOOklet MAnager) is a virtual printer for viewing a document before printing it out using the physical printer. The program can also help you get your documents prepared a bit before printing. At this stage Boomaga makes it possible to:
	Paste several documents together.
	Print several pages on one sheet.
		1, 2, 4, 8 pages per sheet
		Booklet. Folding the sheets in two, you’ll get a book.
=== qpdfview
USC is v 0.4.14, ontwikkelaar heeft Xenial en Bionic 0.4.18
	- pdf (en djvu) viewer met annotations, SyncTeX, en meerdere documenten in tabs
	- zie https://launchpad.net/qpdfview

=== pandoc ===
- zie http://pandoc.org
- ook bekijken :
	- http://blog.getreu.net/projects/pandoc-notetaking/#fnref2
	- https://www.zettlr.com/
	- https://wereturtle.github.io/ghostwriter/

=== zim wiki ===
	- AppImage werkt, maar meeste dependencies zitten toch al in Ubuntu
	- https://launchpad.net/~jaap.karssenberg/+archive/ubuntu/zim?field.series_filter=xenial

=== flatpak ===

- distributie-onafhankelijk app distributieformaat van Fedora (Red Hat)
	- toepassingen worden verpakt met alle nodige bibliotheken
		- niet opgesloten in een grote exe, zoals AppImage, die gemount wordt, maar in gewone directories op een afzonderlijke plaats
	- draait in een zandbak, die naar believen (van gebruiker of toepassing) toegang kan krijgen tot de pc (directories, geluid, webcam, ...)

- uit USC of officiële PPA van de makers zelf
	# add-apt-repository ppa:alexlarsson/flatpak
	# apt update
	# apt install flatpak
	0 apt install gnome-software gnome-packagekit
		- alternatief van Ubuntu's Software Center, is in Xubuntu voor-geinstalleerd
	0 apt install gnome-software-plugin-flatpak
		- integreert flatpak-installatie in gnome-software (maar enkel voor installatie, geinitiëerd door in een webbrowser een .flatpakref-bestand te openen), maar CLI is genoeg voor mij

- directory-structuur flatpaks :
	- default flatpak-map is (met optie --system, default, voor alle users) : /var/lib/flatpak
	- persoonlijke flatpak-map is (met optie --user, persoonlijk) : ~/.local/share/flatpak
	- custom flatpak-map is (met optie --installation=customnaam) : "Path" in /etc/flatpak/installation.d/customnaam.conf
	- per flatpak-map :
		├── repo : gegevens over repositories, en een cache voor lopende installaties
		├── runtime
		│   └── [per runtime bibliotheek die voor meerdere toep. dient]
		├── app
		│   └── [per flatpak toepassing]
		└── exports
			└── share
				├── applications
				├── dbus-1
				└── icons
	- persoonlijke gegevens per flatpak (ongeacht flatpak-map)
		~/.var/ : per user, zowel voor flatpaks geinstalleerd met --system als met --user
		└── app
			└── [ per toepassing, data directory which persists over app upgrades] 

- backup nemen van een flatpak : gewoon de directories uit [flatpakmap]/app,  [flatpakmap]/runtime en ~/.var/app kopiëren
 
- eigen flatpak-map maken, b.v. op HDD of externe schijf :
	- zie man flatpak-installation 
	# mkdir /etc/flatpak/installations.d/
	- maak eigen installatie-plek voor flatpaks (is wel voor alle users) :
	>>> /etc/flatpak/installations.d/stacks.conf
		[Installation "stacks"]
		Path=/media/sdata/.stacks/flatpaks
		DisplayName=Harddisk flatpaks op SDATA
		StorageType=harddisk
	<<<
		- kan meerdere namen bevatten, lijkt me simpeler om per naam 1 gelijkgenoemde x.conf te maken
		- StorageType : network, mmc, sdcard, harddisk
		- hiernaar wordt nu verwezen door voor elke flatpak-opdracht "--installation=stacks" op te geven :

- flatpak toepassingen worden uit repositories aangeboden, die aangemeld moeten zijn bij uw flatpak-map (--user, --system of "/etc/flatpak/installation.d/*.conf"). De meest gebruikte is flathub.org :
	$ flatpak [--installation=stacks] remote-add flathub https://flathub.org/repo/flathub.flatpakrepo
		[--installation=stacks] : voor installaties in de flatpak-map ingesteld in "/etc/flatpak/installation.d/stacks.conf", komt daar in de repo-subdirectory
		- repo wordt geregistreerd in [flatpak-map]/repo
	$ flatpak [--installation=stacks] install flathub flightgear
	$ flatpak run flightgear
		--installation=stacks niet nodig als er maar 1 versie is

TEDOEN - zet '/var/lib/flatpak/exports/share' en '/home/dirk/.local/share/flatpak/exports/share' (en voor mijn custom flatpak-map '/media/sdata/.stacks/flatpaks/exports/share') in the search path set by the XDG_DATA_DIRS environment variable, so applications installed by Flatpak appear on your desktop even before the session is restarted.


=== FlightGear ===

- laatste versie wordt ook officieel als FlatPak verdeeld :
	https://flathub.org/apps/details/org.flightgear.FlightGear
		>>>
		$ flatpak --installation=stacks install flightgear

		Looking for matches…
		Found similar ref(s) for ‘flightgear’ in remote ‘flathub’ (system (stacks)).
		Use this remote? [Y/n]: y
		Found ref ‘app/org.flightgear.FlightGear/x86_64/stable’ in remote ‘flathub’ (system (stacks)).
		Use this ref? [Y/n]: y
		Required runtime for org.flightgear.FlightGear/x86_64/stable (runtime/org.kde.Platform/x86_64/5.12) found in remote flathub
		Do you want to install it? [Y/n]: y

		org.flightgear.FlightGear permissions:
			ipc           network               fallback-x11          pulseaudio      wayland      x11
			devices       file access [1]       dbus access [2]

			[1] xdg-config/kdeglobals:ro, xdg-run/dconf, ~/.config/dconf:ro
			[2] com.canonical.AppMenu.Registrar, com.canonical.AppMenu.Registrar.*


				ID                                               Arch              Branch            Remote             Download
		 1. [✓] org.kde.Platform                                 x86_64            5.12              flathub              414,5 MB / 429,8 MB
		 2. [V] org.freedesktop.Platform.html5-codecs            x86_64            18.08             flathub              < 3,3 MB
		 3. [V] org.gtk.Gtk3theme.Greybird                       x86_64            3.22              flathub             < 71,7 kB
		 4. [V] org.kde.Platform.Locale                          x86_64            5.12              flathub            < 334,1 MB (partial)
		 5. [V] org.flightgear.FlightGear                        x86_64            stable            flathub              < 1,9 GB

		<<<

- met ppa voor laatste versie voor Xenial : http://wiki.flightgear.org/Howto:Install_Flightgear_from_a_PPA
	- zie "_Xubuntu truuks en commandos.adoc" sectie "programma installeren naar eigen pad"
	- Iemand van FlightGear onderhoudt een Ubuntu ppa voor laatste stabiele versie :
		# add-apt-repository ppa:saiarcot895/flightgear
		- nakijken of die versie gebruikt wordt :
		$ apt-cache policy flightgear

- buiten libraries elders, niet te onderscheppen, installeert flight gear enkele MB in /usr/games, maar vooral enkele GB in (bij mij nog niet bestaande) /usr/share/games, subdir .../flightgear/ ; met een symlink vooraf op HDD zetten i.p.v. SSD :
	# mkdir /media/sdata/.stacks/usr_share_games
	# ln -s /media/sdata/.stacks/usr_share_games /usr/share/games

- FlightGear installeren (kan ook via USC)
	- tijdelijk /var/cache/apt/archive vervangen door symlink naar ramdisk (downloadt enkele GB)
	# apt install flightgear
	- BELANGRIJK : in FG 2018.3 is "/usr/share/games/flightgear/Timezone/" een symlink naar ../../zoneinfo, die zou moeten uitkomen bij /usr/share/zoneinfo, maar verbroken is als ge /usr/share/games/(flightgear/) zelf linkt naar elders; dan link absoluut maken i.p.v. relatief :
		# ln -sf /usr/share/zoneinfo /usr/share/games/flightgear/Timezone

- OPM : houdt een cache van 2-300 MB in ~/.fgfs

- extra vliegtuigen krijgen
	- ofwel via SVN : $ subversion ...
	- ofwel in de GUI een hangar toevoegen met een catalog.xml
		0 default, maar niet meer op die URL, crasht hele flightgear : http://mirrors.ibiblio.org/flightgear/ftp/2018.3.2/catalog.xml
		- http://mirrors.ibiblio.org/flightgear/ftp/Aircraft/catalog.xml
		- mirrors : 
			>>> https://www.flightgear.org/download/mirror/
			USA, NC 	http://mirrors.ibiblio.org/pub/mirrors/flightgear/ftp/ 			source mirror
			USA, CA 	ftp://ftp.kingmont.com/flightsims/flightgear/ 					source mirror
			Germany 	ftp://ftp.de.flightgear.org/pub/fgfs/ 	 
			Russia 		http://mirror.yandex.ru/mirrors/ftp.flightgear.org/flightgear/ 	 
			Russia 		http://mirrors-ru.go-parts.com/flightgear/ 	 
			France 		http://ftp.igh.cnrs.fr/pub/flightgear/ftp/
						http://ftp.icm.edu.pl/packages/flightgear/ 	 
			USA 		http://mirrors-usa.go-parts.com/flightgear/ 	 
			UK 			http://mirrors-uk.go-parts.com/flightgear/ 	 
			Netherlands http://ftp.snt.utwente.nl/pub/software/flightgear/ftp/
						ftp://ftp.snt.utwente.nl/pub/software/flightgear/ftp/ 	 
			<<<

=== veelknop-muis
	- zie eerst http://docs.xfce.org/xfce/xfce4-settings/mouse
	- https://help.ubuntu.com/community/MouseCustomizations
		- o.a. dubbelklikken met 1 knop, en programmas/acties koppelen aan muisknoppen
		- simpel vooruit-achteruit bladeren met de extra knoppen: probeer
			- edit /etc/X11/xorg.conf (heb ik niet)
			- in the mouse section, and add the following two lines:
				>>>
					Option "Buttons" "7"
					Option "ButtonMapping" "1 2 3 6 7"
				<<<
			- restart X
		- als dat niet werkt, nog meer mogelijkheden (zie url)
	-xorg.conf is verouderd:
	>>> https://ubuntuforums.org/showthread.php?t=2123353
		the new configuration method consists of .conf files in /usr/share/X11/xorg.conf.d. On modern systems the xorg.conf file usually isn't generated unless you have something like a proprietary video driver that requires it. However the Xorg developers have guaranteed that the xorg.conf file will remain valid, i.e. the new system is backwards compatible.
		During boot up the xorg.conf file is called and it in turn immediately calls the .conf files in xorg.conf.d. They run in the order they are numbered and then if there is an actual xorg.conf file it runs. So whatever is in xorg.conf will override anything in one of the xorg.conf.d directories. Please notice the syntax of the xorg.conf.d snippets is similar but not the same as the syntax in xorg.conf sections. They are not interchangeable. See man xorg.conf in a terminal for more detail.
		The /usr/share/X11/xorg.conf.d is for the Distro's and you are not suppose to muck with stuff in there. Instead the user is suppose to put custom files in /etc/X11/xorg.conf.d. You may need to create that directory. The .conf files in /etc/X11/xorg.conf.d run after the ones in /usr/share/X11/xorg.conf.d so they control or override anything in /usr/share/X11/xorg.conf.d. Despite that I still usually number them a bit higher. So if I'm modifying the 50-wacom.conf in /usr/share/X11/xorg.conf.d I'll call the custom .conf file in /etc/X11/xorg.conf.d 52-wacom.conf. Maybe a bit of overkill.
	<<<
	- wie wil kan dus nog een xorg.conf maken:
	>>> https://ubuntuforums.org/showthread.php?t=2123353
		 Re: Where is the Xorg.conf file or equivalent on XFCE?
			Ubuntu hasn't shipped with an xorg.conf file for several years now, all of your hardware should be detected automatically so there usually isn't any need for one.
			This doesn't mean that you can't use one though, you can create it and its settings will take precedence over any auto-detected settings.
			If you want to create a basic xorg.conf you can do the following...
			Hit CTRL+ALT+F1 to switch to a tty and log on.
				- stop the X server
				# service lightdm stop
				- create a new xorg.conf file
				# Xorg -configure
				- Copy it to the correct location
				# cp /root/xorg.conf.new /etc/X11/xorg.conf
				- restart the X server
				# service lightdm start
	- https://help.ubuntu.com/community/ManyButtonsMouseHowto
		imwheelrc installeren
=== https://ignorantguru.github.io/udevil/#post om udevil te gebruiken om te verbinden met ftp-servers ===
	- https://ignorantguru.github.io/udevil/udevil--help.html
=== sqlite en libsqlfs (fuse) ===
- OPM: sqlite zit al in mijn bitnami LEMP stack
- zie https://github.com/guardianproject/libsqlfs
- zie http://www.nongnu.org/libsqlfs/
=== Cmdfs : a FUSE virtual filesystem  ===
 applies an arbitary filter command to selected files in a source directory tree to create the destination files	- o.a. om een muziek-map met flac-bestanden te mounten als een virtuele map met mp3-bestanden
	- zie http://cmdfs.sourceforge.net/ en https://github.com/mikeswain/cmdfs
	- zie http://www.linux-magazine.com/Online/Features/Cmdfs
	- zie ook https://khenriks.github.io/mp3fs : a read-only FUSE filesystem which transcodes FLAC to MP3 on the fly
	- eenvoudig vb. van fuse-filter : https://github.com/gburca/rofs-filtered of http://filterfs.sourceforge.net/
	- alternatief, geimplementeerd in java : Etienne Perot fuse-jna, No-nonsense, actually-working Java bindings to FUSE using JNA (https://github.com/EtiennePerot/fuse-jna en https://github.com/java-native-access/jna)

=== ? Gnumeric i.p.v. LibreOffice Calc ===

=== GNU Octave (free MatLab clone voor numeric computing, tegenhanger van Maxima/Mathematica/Maple voor symbolic computing) ===

=== Dramatica Pro V4 (boekschrijfhulp) CD TTC Taal en Culturen ===

=== QDirStat : graphical application to show where your disk space has gone and to help you to clean it up ===
	- https://github.com/shundhammer/qdirstat , verwijst zelf naar
	- ppa op https://launchpad.net/%7Enathan-renniewaldock/+archive/ubuntu/qdirstat

=== Furius ISO Mount (gui, die nodige mount commando ook toont) ===

=== Video4Linux ===
 https://en.wikipedia.org/wiki/Video4LinuxV4L for short, is a collection of device drivers and an API for supporting realtime video capture on Linux systems.[1] It supports many USB webcams, TV tuners, and related devices, standardizing their output, so programmers can easily add video support to their applications. MythTV, tvtime and TVHeadend are typical applications that use the V4L framework.

=== coolreader: echte epub-lezer (en o.a. .chm) zonder bibliotheekbeheerder, beschikbaar voor Ubuntu via derden ===

=== MuseScore muzieknotatie (o.a. midi in en uit, pdf uit) en playback : https://musescore.org/en ===
	- 113MB, geen soundfont nodig want er zit er al een bij: FluidR3Mono_GM.sf3 (beter geschikt dan de courante  FluidR3_GM: "FluidR3 Mono is also stereo. The samples, however, have been mixed down to mono where appropriate so they can be placed properly within the stereo soundstage.")

=== Remmina: remote desktop client === 
om te proberen Nuance Dragon in Windows te draaien, maar in Linux te gebruiken
	- 1,9 MB, officiele laatste versie te vinden via http://www.remmina.org/wp/
	- xpra werkt, maar is 250MB in Windows

=== cdparanoia (+ evt. GUI RipperX)
 zou goed alternatief zijn voor Exact Audio Copy (EAC zou (met zijn instelling 'win32'-interface) zou ook prima draaien in Wine)

=== remote desktop server toepassing om tekstinvoer op Linux toepassingen te doen met Nuance Dragon draaiend in Windows VM ===
	- Window Switch om zo'n toepassing van echte machine naar VM en terug te schakelen:
		- supports both seamless applications (via Xpra, NX and ssh) and full remote desktops (via NX, VNC, RDP). Once a session has been started via winswitch, it can be displayed on any other networked machine running the winswitch client.

=== Tex Live ===
  	- Eclipse met TeXlipse plugin
	0 TeXworks http://tug.org/texworks (on Windows installed as part of TEX Live)
		- lijkt nog jong, zou wel eenvoudig zijn
		- minder projectondersteuning
	0 Texmaker http://www.xm1math.net/texmaker
		- laatste versie > 1 jaar oud
  	0 Geany met GeanyLaTeX plugin http://www.geany.org/ en http://frank.uvena.de/en/Geany/geanylatex/ (snel startende lichtgewicht programmer's editor, zie LiveISO Systemrescuecd)
  		- zeer elementair
	0 TeXnicCenter  http://www.texniccenter.org :
		- gemaakt voor MiKTex en Windows
		- geen live preview
	- TexMaths, a LaTeX Equation Editor for LibreOffice http://roland65.free.fr/texmaths/
	  LibreOffice plugin om LaTeX formules in Writer document op te nemen, met .svg of .png door TeXlive daarvan gemaakt.
  	- Writer2Latex http://writer2latex.sourceforge.net/
  	  LibreOffice plugin om .odt (ook met TexMaths) te converteren naar .tex
	- een of meer graphics packages (http://tug.org/interest.html#graphics)
		x OK, zit in TexLive: PSTricks, a widely-used graphics package, maintained by Herbert Voß.
		x OK, zit in TexLive: PGF/TikZ, a second widely-used graphics package, by Till Tantau.
	- Fonts: If you want to install all OpenType and TrueType fonts so you can use them in other programs as well, you'll have to add the TeX Live fonts to the system configuration:
		- eerst uitzoeken hoe de nummering in /etc/fonts/conf.d/ werkt, en via /opt/texlive/current i.p.v. via /opt/texlive/2016
		0 sudo cp $(kpsewhich -var-value TEXMFSYSVAR)/fonts/conf/texlive-fontconfig.conf /etc/fonts/conf.d/09-texlive.conf
		- Misschien beter in /etc/fonts/conf.avail/ , en link naar daar zoals alle andere font conf bestanden :
		$ sudo cp $(kpsewhich -var-value TEXMFSYSVAR)/fonts/conf/texlive-fontconfig.conf /etc/fonts/conf.avail/09-texlive.conf
		0 gksudo gedit /etc/fonts/conf.avail/09-texlive.conf
		- zie sectie gksu, afgeraden, gebruik pkexec
		$ pkexec gedit /etc/fonts/conf.avail/09-texlive.conf
		- Remove the line containing type1 and save. Now run:
			$ sudo ln -s /etc/fonts/conf.avail/09-texlive.conf /etc/fonts/conf.d/09-texlive.conf
		$ sudo fc-cache -fsv
	- TikzEdt, a semigraphical editor for the Tikz language, http://www.tikzedt.org/doc.html

=== Eclipse C/C++ Development Tooling (CDT) ===

- Opm: Ik heb Eclipse Neon 4.6.2
	- huidige (19 September 2018) is SimRel 4.9
		- default nog zonder Java 11 support, wel bij te installeren :
			- zie https://marketplace.eclipse.org/content/java-11-support-eclipse-2018-09-49, moet in Eclipse SimRel zelf geinstalleerd worden van http://download.eclipse.org/eclipse/updates/4.9-P-builds
	- Oxygen 4.7.1a introduced Java 9 and Junit 5 support
	- Oxygen 4.7.3a introduced Java 10 support

- https://stackoverflow.com/questions/39283629/eclipse-ide-for-c-c-and-java


	>>>
		The Eclipse CDT Project provides a fully functional C and C++ Integrated Development Environment based on the Eclipse platform. Features include: support for project creation and managed build for various toolchains, standard make build, source navigation, various source knowledge tools, such as type hierarchy, call graph, include browser, macro definition browser, code editor with syntax highlighting, folding and hyperlink navigation, source code refactoring and code generation, visual debugging tools, including memory, registers, and disassembly viewers.
	<<<
	- Op http://www.eclipse.org/cdt/downloads.php sectie "CDT 9.2.0 for Eclipse Neon" de link naar "Eclipse C/C++ IDE for Neon 2" volgen om zelf te downloaden, of de link naar de software repository (http://download.eclipse.org/tools/cdt/releases/9.2) kopieren en plakken in Eclipse/Help/Install Software/Work From" kopieren en enteren
	- group by category
	v CDT Main Features:
		v Eclipse C/C++ development tools (Binary runtime and user documentation)
		v Eclipse C/C++ development tools SDK : (Software development kit including source code and developer documentation)

http://www.eclipse.org/JavaScript Development Tools (JSDT) : https://eclipse.org/webtools/jsdt/
https://github.com/angelozerr/angularjs-eclipse
https://github.com/angelozerr/typescript.java/wiki/Getting-Started

=== 0 luakit microbrowser ===

- luakit is een lichtgewicht browser op basis van Gtk WebKit
	- https://luakit.github.io/

- moet voorlopig zelf gecompileerd worden. USC heeft een oude versie, die zelfs niet instaleert
	# apt-get install libgtk-3-dev libsqlite3-dev lua5.1 webkit2gtk-4.0 libluajit-5.1-dev lua-filesystem
		- installeert 176MB !
	- broncode downloaden van https://github.com/luakit/luakit/tarball/develop en uitpakken (niet naar ramdisk om de kunnen uninstall)
	- in uitpakdirectory :
		$ make
		$ sudo make install
		[$ make clean] : terug opkuisen
	- starten :
		$ luakit [url|bestand.html]
		- werkt niet voor matsjat
		- toont (gekende bug die niet wordt opgelost) alleen www.luakit.org

=== php ===

- bionic, in tegenstelling tot xenial, heeft een redelijk recente php (7.2 is de default)
	- nog recenter op officiële repo https://launchpad.net/~ondrej/+archive/ubuntu/php (Ondřej Surý)
		- voor alle nog ondersteunde Ubuntu-versies, alle nog ondersteunde php-versies zo dat ze naast elkaar geïnstalleerd kunnen worden
			- met php extensions apart
			- zie ook https://pehapkari.cz/blog/2017/03/27/multiple-php-versions-the-easy-way/
		- heeft ook repo's voor
			- nginx :
				- stable is "https://launchpad.net/~ondrej/+archive/ubuntu/nginx"
				- unstable is "https://launchpad.net/~ondrej/+archive/ubuntu/nginx-mainline")
			- apache2
		# add-apt-repository ppa:ondrej/php
		# apt-get update
	0 apt-get install php7.2
		- installeert ook apache2 ..., 23M schijfruimte (is anders nog altijd minder dan alleen de php van bitnami nginx stack)
	# apt-get install php7.2-fpm
		>>> 17MB schijfruimte
		The following additional packages will be installed:
		  libpcre3 libpcre3:i386 php-common php7.2-cli php7.2-common php7.2-json php7.2-opcache php7.2-readline
		Suggested packages:
		  php-pear
		<<<
		- zie "http://php.net/manual/en/install.fpm.php"
		- dit is de php-variant voor nginc webserver :
			>>> https://devanswers.co/installing-php-nginx-ubuntu-16-04-17-04/
			Unlike Apache, Nginx does not contain native PHP processing. For that we have to install PHP-FPM (FastCGI Process Manager). FPM is an alternative PHP FastCGI implementation with some additional features useful for heavy-loaded sites.
			<<<
		- is ook de php-variant voor moderne apache
			>>> https://blog.sourcerer.io/apache-is-still-the-best-general-purpose-web-server-dacedbd86921?gi=2fa87d7ab497
			Apache has a native PHP module, but it isn’t thread-safe by default. Because of this, PHP pages can be handled inside the web server process but only with the [verouderde] prefork module. Threaded and event models are not compatible with the native PHP module. If you want to use Apache’s event module, you’ll have to use PHP-FPM. ... PHP-FPM is faster than Apache’s native PHP module and provide more precise performance configuration.
			<<<
		- onafh. van webserver :
			>>> https://en.wikipedia.org/wiki/PHP#PHPFPM
			There are two primary ways for adding support for PHP to a web server – as a native web server module, or as a CGI executable. PHP has a direct module interface called Server Application Programming Interface (SAPI), which is supported by many web servers including Apache HTTP Server, ... If PHP has no module support for a web server, it can always be used as a Common Gateway Interface (CGI) or FastCGI processor; in that case, the web server is configured to use PHP's CGI executable to process all requests to PHP files.
			PHP-FPM (FastCGI Process Manager) is an alternative FastCGI implementation for PHP, bundled with the official PHP distribution since version 5.3.3. When compared to the older FastCGI implementation, it contains some additional features, mostly useful for heavily loaded web servers.
			<<<
	# apt-get install php7.2
		- na php7.2-fpm installeert dit GEEN apache2 meer, nog maar 80kB extra
	
=== QT Creator IDE ===

- IDE voor C++-toepassingen die Qt gebruiken
	- installatiebestand downloaden op http://download.qt.io/official_releases/qtcreator/
	- installeert 550MB, pad vrij te kiezen (b.v. in /opt)

- kunt er pas iets mee doen (b.v. voorbeelden uitproberen) als een Qt-versie geïnstalleerd is.
	- installeerder downloaden op https://wiki.qt.io/Install_Qt_5_on_Ubuntu, haalt gewenste versie(s) online op
	- installeert per versie 3-8GB

- heeft OpenGL nodig :
	# apt-get install libgl1-mesa-dev
	
